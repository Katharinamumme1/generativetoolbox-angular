var IS=Object.create;var jl=Object.defineProperty,AS=Object.defineProperties,NS=Object.getOwnPropertyDescriptor,RS=Object.getOwnPropertyDescriptors,kS=Object.getOwnPropertyNames,Bl=Object.getOwnPropertySymbols,OS=Object.getPrototypeOf,wf=Object.prototype.hasOwnProperty,Hv=Object.prototype.propertyIsEnumerable;var jv=(t,e,n)=>e in t?jl(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,L=(t,e)=>{for(var n in e||={})wf.call(e,n)&&jv(t,n,e[n]);if(Bl)for(var n of Bl(e))Hv.call(e,n)&&jv(t,n,e[n]);return t},De=(t,e)=>AS(t,RS(e));var Gv=(t,e)=>{var n={};for(var r in t)wf.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&Bl)for(var r of Bl(t))e.indexOf(r)<0&&Hv.call(t,r)&&(n[r]=t[r]);return n};var Cf=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ko=(t,e)=>{for(var n in e)jl(t,n,{get:e[n],enumerable:!0})},FS=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of kS(e))!wf.call(t,i)&&i!==n&&jl(t,i,{get:()=>e[i],enumerable:!(r=NS(e,i))||r.enumerable});return t};var PS=(t,e,n)=>(n=t!=null?IS(OS(t)):{},FS(e||!t||!t.__esModule?jl(n,"default",{value:t,enumerable:!0}):n,t));var sa=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(u){i(u)}},s=l=>{try{a(n.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())});var Td=Cf(()=>{"use strict"});var Q_=Cf((Fee,X_)=>{"use strict";function O3(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function Mo(t,e,n,r){this.message=t,this.expected=e,this.found=n,this.location=r,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Mo)}O3(Mo,Error);Mo.buildMessage=function(t,e){var n={literal:function(u){return'"'+i(u.text)+'"'},class:function(u){var c="",d;for(d=0;d<u.parts.length;d++)c+=u.parts[d]instanceof Array?o(u.parts[d][0])+"-"+o(u.parts[d][1]):o(u.parts[d]);return"["+(u.inverted?"^":"")+c+"]"},any:function(u){return"any character"},end:function(u){return"end of input"},other:function(u){return u.description}};function r(u){return u.charCodeAt(0).toString(16).toUpperCase()}function i(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(c){return"\\x0"+r(c)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(c){return"\\x"+r(c)})}function o(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(c){return"\\x0"+r(c)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(c){return"\\x"+r(c)})}function s(u){return n[u.type](u)}function a(u){var c=new Array(u.length),d,f;for(d=0;d<u.length;d++)c[d]=s(u[d]);if(c.sort(),c.length>0){for(d=1,f=1;d<c.length;d++)c[d-1]!==c[d]&&(c[f]=c[d],f++);c.length=f}switch(c.length){case 1:return c[0];case 2:return c[0]+" or "+c[1];default:return c.slice(0,-1).join(", ")+", or "+c[c.length-1]}}function l(u){return u?'"'+i(u)+'"':"end of input"}return"Expected "+a(t)+" but "+l(e)+" found."};function F3(t,e){e=e!==void 0?e:{};var n={},r={svg_path:Nv},i=Nv,o=function(p){if(!p)return[];for(var g=[],w=0;w<p.length;w++)g=g.concat.apply(g,p[w]);var m=g[0];return m&&m.code=="m"&&(delete m.relative,m.code="M"),g},s=function(p,g){return TS(p,g)},a=/^[Mm]/,l=Ht(["M","m"],!1,!1),u=function(p,g,w){var m=No(p,[g]);return w&&(m=m.concat(No(p=="M"?"L":"l",w[1]))),m},c=/^[Zz]/,d=Ht(["Z","z"],!1,!1),f=function(){return No("Z")},h=/^[Ll]/,v=Ht(["L","l"],!1,!1),b=function(p,g){return No(p,g)},E=/^[Hh]/,C=Ht(["H","h"],!1,!1),T=function(p,g){return No(p,g.map(function(w){return{x:w}}))},M=/^[Vv]/,F=Ht(["V","v"],!1,!1),A=function(p,g){return No(p,g.map(function(w){return{y:w}}))},G=/^[Cc]/,B=Ht(["C","c"],!1,!1),O=function(p,g,w){return{x1:p.x,y1:p.y,x2:g.x,y2:g.y,x:w.x,y:w.y}},P=/^[Ss]/,Y=Ht(["S","s"],!1,!1),ee=function(p,g){return{x2:p.x,y2:p.y,x:g.x,y:g.y}},ue=/^[Qq]/,Ee=Ht(["Q","q"],!1,!1),pe=function(p,g){return{x1:p.x,y1:p.y,x:g.x,y:g.y}},xe=/^[Tt]/,ne=Ht(["T","t"],!1,!1),be=/^[Aa]/,Pe=Ht(["A","a"],!1,!1),Te=function(p,g,w,m,D,R){return{rx:p,ry:g,xAxisRotation:w,largeArc:m,sweep:D,x:R.x,y:R.y}},Qe=function(p,g){return{x:p,y:g}},ze=function(p){return p*1},bt=function(p){return p.join("")*1},ia=/^[01]/,af=Ht(["0","1"],!1,!1),lf=function(p){return p=="1"},To=function(){return""},Ol=",",Io=Tv(",",!1),uf=function(p){return p.join("")},xv=".",_v=Tv(".",!1),tS=/^[eE]/,nS=Ht(["e","E"],!1,!1),rS=/^[+\-]/,iS=Ht(["+","-"],!1,!1),Sv=/^[0-9]/,Mv=Ht([["0","9"]],!1,!1),oS=function(p){return p.join("")},sS=/^[ \t\n\r]/,aS=Ht([" ","	",`
`,"\r"],!1,!1),y=0,_e=0,Fl=[{line:1,column:1}],or=0,cf=[],wt=0,Pl;if("startRule"in e){if(!(e.startRule in r))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');i=r[e.startRule]}function j3(){return t.substring(_e,y)}function H3(){return oa(_e,y)}function G3(p,g){throw g=g!==void 0?g:oa(_e,y),Av([uS(p)],t.substring(_e,y),g)}function $3(p,g){throw g=g!==void 0?g:oa(_e,y),cS(p,g)}function Tv(p,g){return{type:"literal",text:p,ignoreCase:g}}function Ht(p,g,w){return{type:"class",parts:p,inverted:g,ignoreCase:w}}function z3(){return{type:"any"}}function lS(){return{type:"end"}}function uS(p){return{type:"other",description:p}}function Iv(p){var g=Fl[p],w;if(g)return g;for(w=p-1;!Fl[w];)w--;for(g=Fl[w],g={line:g.line,column:g.column};w<p;)t.charCodeAt(w)===10?(g.line++,g.column=1):g.column++,w++;return Fl[p]=g,g}function oa(p,g){var w=Iv(p),m=Iv(g);return{start:{offset:p,line:w.line,column:w.column},end:{offset:g,line:m.line,column:m.column}}}function ht(p){y<or||(y>or&&(or=y,cf=[]),cf.push(p))}function cS(p,g){return new Mo(p,null,null,g)}function Av(p,g,w){return new Mo(Mo.buildMessage(p,g),p,g,w)}function Nv(){var p,g,w,m,D;for(p=y,g=[],w=Ae();w!==n;)g.push(w),w=Ae();if(g!==n)if(w=dS(),w===n&&(w=null),w!==n){for(m=[],D=Ae();D!==n;)m.push(D),D=Ae();m!==n?(_e=p,g=o(w),p=g):(y=p,p=n)}else y=p,p=n;else y=p,p=n;return p}function dS(){var p,g,w,m,D,R;if(p=y,g=df(),g!==n){for(w=[],m=y,D=[],R=Ae();R!==n;)D.push(R),R=Ae();for(D!==n?(R=df(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n);m!==n;){for(w.push(m),m=y,D=[],R=Ae();R!==n;)D.push(R),R=Ae();D!==n?(R=df(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n)}w!==n?(_e=p,g=s(g,w),p=g):(y=p,p=n)}else y=p,p=n;return p}function df(){var p,g,w,m,D,R;if(p=y,g=fS(),g!==n){for(w=[],m=y,D=[],R=Ae();R!==n;)D.push(R),R=Ae();for(D!==n?(R=Rv(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n);m!==n;){for(w.push(m),m=y,D=[],R=Ae();R!==n;)D.push(R),R=Ae();D!==n?(R=Rv(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n)}w!==n?(_e=p,g=s(g,w),p=g):(y=p,p=n)}else y=p,p=n;return p}function Rv(){var p;return p=hS(),p===n&&(p=pS(),p===n&&(p=gS(),p===n&&(p=mS(),p===n&&(p=vS(),p===n&&(p=bS(),p===n&&(p=CS(),p===n&&(p=DS(),p===n&&(p=_S())))))))),p}function fS(){var p,g,w,m,D,R,Ro;if(p=y,a.test(t.charAt(y))?(g=t.charAt(y),y++):(g=n,wt===0&&ht(l)),g!==n){for(w=[],m=Ae();m!==n;)w.push(m),m=Ae();w!==n?(m=Gt(),m!==n?(D=y,R=Ke(),R===n&&(R=null),R!==n?(Ro=kv(),Ro!==n?(R=[R,Ro],D=R):(y=D,D=n)):(y=D,D=n),D===n&&(D=null),D!==n?(_e=p,g=u(g,m,D),p=g):(y=p,p=n)):(y=p,p=n)):(y=p,p=n)}else y=p,p=n;return p}function hS(){var p,g;return p=y,c.test(t.charAt(y))?(g=t.charAt(y),y++):(g=n,wt===0&&ht(d)),g!==n&&(_e=p,g=f()),p=g,p}function pS(){var p,g,w,m;if(p=y,h.test(t.charAt(y))?(g=t.charAt(y),y++):(g=n,wt===0&&ht(v)),g!==n){for(w=[],m=Ae();m!==n;)w.push(m),m=Ae();w!==n?(m=kv(),m!==n?(_e=p,g=b(g,m),p=g):(y=p,p=n)):(y=p,p=n)}else y=p,p=n;return p}function kv(){var p,g,w,m,D,R;if(p=y,g=Gt(),g!==n){for(w=[],m=y,D=Ke(),D===n&&(D=null),D!==n?(R=Gt(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n);m!==n;)w.push(m),m=y,D=Ke(),D===n&&(D=null),D!==n?(R=Gt(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n);w!==n?(_e=p,g=s(g,w),p=g):(y=p,p=n)}else y=p,p=n;return p}function gS(){var p,g,w,m;if(p=y,E.test(t.charAt(y))?(g=t.charAt(y),y++):(g=n,wt===0&&ht(C)),g!==n){for(w=[],m=Ae();m!==n;)w.push(m),m=Ae();w!==n?(m=Ov(),m!==n?(_e=p,g=T(g,m),p=g):(y=p,p=n)):(y=p,p=n)}else y=p,p=n;return p}function Ov(){var p,g,w,m,D,R;if(p=y,g=Ao(),g!==n){for(w=[],m=y,D=Ke(),D===n&&(D=null),D!==n?(R=Ao(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n);m!==n;)w.push(m),m=y,D=Ke(),D===n&&(D=null),D!==n?(R=Ao(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n);w!==n?(_e=p,g=s(g,w),p=g):(y=p,p=n)}else y=p,p=n;return p}function mS(){var p,g,w,m;if(p=y,M.test(t.charAt(y))?(g=t.charAt(y),y++):(g=n,wt===0&&ht(F)),g!==n){for(w=[],m=Ae();m!==n;)w.push(m),m=Ae();w!==n?(m=Ov(),m!==n?(_e=p,g=A(g,m),p=g):(y=p,p=n)):(y=p,p=n)}else y=p,p=n;return p}function vS(){var p,g,w,m;if(p=y,G.test(t.charAt(y))?(g=t.charAt(y),y++):(g=n,wt===0&&ht(B)),g!==n){for(w=[],m=Ae();m!==n;)w.push(m),m=Ae();w!==n?(m=yS(),m!==n?(_e=p,g=b(g,m),p=g):(y=p,p=n)):(y=p,p=n)}else y=p,p=n;return p}function yS(){var p,g,w,m,D,R;if(p=y,g=ff(),g!==n){for(w=[],m=y,D=Ke(),D===n&&(D=null),D!==n?(R=ff(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n);m!==n;)w.push(m),m=y,D=Ke(),D===n&&(D=null),D!==n?(R=ff(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n);w!==n?(_e=p,g=s(g,w),p=g):(y=p,p=n)}else y=p,p=n;return p}function ff(){var p,g,w,m,D,R;return p=y,g=Gt(),g!==n?(w=Ke(),w===n&&(w=null),w!==n?(m=Gt(),m!==n?(D=Ke(),D===n&&(D=null),D!==n?(R=Gt(),R!==n?(_e=p,g=O(g,m,R),p=g):(y=p,p=n)):(y=p,p=n)):(y=p,p=n)):(y=p,p=n)):(y=p,p=n),p}function bS(){var p,g,w,m;if(p=y,P.test(t.charAt(y))?(g=t.charAt(y),y++):(g=n,wt===0&&ht(Y)),g!==n){for(w=[],m=Ae();m!==n;)w.push(m),m=Ae();w!==n?(m=wS(),m!==n?(_e=p,g=b(g,m),p=g):(y=p,p=n)):(y=p,p=n)}else y=p,p=n;return p}function wS(){var p,g,w,m,D,R;if(p=y,g=hf(),g!==n){for(w=[],m=y,D=Ke(),D===n&&(D=null),D!==n?(R=hf(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n);m!==n;)w.push(m),m=y,D=Ke(),D===n&&(D=null),D!==n?(R=hf(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n);w!==n?(_e=p,g=s(g,w),p=g):(y=p,p=n)}else y=p,p=n;return p}function hf(){var p,g,w,m;return p=y,g=Gt(),g!==n?(w=Ke(),w===n&&(w=null),w!==n?(m=Gt(),m!==n?(_e=p,g=ee(g,m),p=g):(y=p,p=n)):(y=p,p=n)):(y=p,p=n),p}function CS(){var p,g,w,m;if(p=y,ue.test(t.charAt(y))?(g=t.charAt(y),y++):(g=n,wt===0&&ht(Ee)),g!==n){for(w=[],m=Ae();m!==n;)w.push(m),m=Ae();w!==n?(m=ES(),m!==n?(_e=p,g=b(g,m),p=g):(y=p,p=n)):(y=p,p=n)}else y=p,p=n;return p}function ES(){var p,g,w,m,D,R;if(p=y,g=pf(),g!==n){for(w=[],m=y,D=Ke(),D===n&&(D=null),D!==n?(R=pf(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n);m!==n;)w.push(m),m=y,D=Ke(),D===n&&(D=null),D!==n?(R=pf(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n);w!==n?(_e=p,g=s(g,w),p=g):(y=p,p=n)}else y=p,p=n;return p}function pf(){var p,g,w,m;return p=y,g=Gt(),g!==n?(w=Ke(),w===n&&(w=null),w!==n?(m=Gt(),m!==n?(_e=p,g=pe(g,m),p=g):(y=p,p=n)):(y=p,p=n)):(y=p,p=n),p}function DS(){var p,g,w,m;if(p=y,xe.test(t.charAt(y))?(g=t.charAt(y),y++):(g=n,wt===0&&ht(ne)),g!==n){for(w=[],m=Ae();m!==n;)w.push(m),m=Ae();w!==n?(m=xS(),m!==n?(_e=p,g=b(g,m),p=g):(y=p,p=n)):(y=p,p=n)}else y=p,p=n;return p}function xS(){var p,g,w,m,D,R;if(p=y,g=Gt(),g!==n){for(w=[],m=y,D=Ke(),D===n&&(D=null),D!==n?(R=Gt(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n);m!==n;)w.push(m),m=y,D=Ke(),D===n&&(D=null),D!==n?(R=Gt(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n);w!==n?(_e=p,g=s(g,w),p=g):(y=p,p=n)}else y=p,p=n;return p}function _S(){var p,g,w,m;if(p=y,be.test(t.charAt(y))?(g=t.charAt(y),y++):(g=n,wt===0&&ht(Pe)),g!==n){for(w=[],m=Ae();m!==n;)w.push(m),m=Ae();w!==n?(m=SS(),m!==n?(_e=p,g=b(g,m),p=g):(y=p,p=n)):(y=p,p=n)}else y=p,p=n;return p}function SS(){var p,g,w,m,D,R;if(p=y,g=gf(),g!==n){for(w=[],m=y,D=Ke(),D===n&&(D=null),D!==n?(R=gf(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n);m!==n;)w.push(m),m=y,D=Ke(),D===n&&(D=null),D!==n?(R=gf(),R!==n?(D=[D,R],m=D):(y=m,m=n)):(y=m,m=n);w!==n?(_e=p,g=s(g,w),p=g):(y=p,p=n)}else y=p,p=n;return p}function gf(){var p,g,w,m,D,R,Ro,vf,Vl,yf,Ul,bf;return p=y,g=Fv(),g!==n?(w=Ke(),w===n&&(w=null),w!==n?(m=Fv(),m!==n?(D=Ke(),D===n&&(D=null),D!==n?(R=Ao(),R!==n?(Ro=Ke(),Ro!==n?(vf=Pv(),vf!==n?(Vl=Ke(),Vl===n&&(Vl=null),Vl!==n?(yf=Pv(),yf!==n?(Ul=Ke(),Ul===n&&(Ul=null),Ul!==n?(bf=Gt(),bf!==n?(_e=p,g=Te(g,m,R,vf,yf,bf),p=g):(y=p,p=n)):(y=p,p=n)):(y=p,p=n)):(y=p,p=n)):(y=p,p=n)):(y=p,p=n)):(y=p,p=n)):(y=p,p=n)):(y=p,p=n)):(y=p,p=n)):(y=p,p=n),p}function Gt(){var p,g,w,m;return p=y,g=Ao(),g!==n?(w=Ke(),w===n&&(w=null),w!==n?(m=Ao(),m!==n?(_e=p,g=Qe(g,m),p=g):(y=p,p=n)):(y=p,p=n)):(y=p,p=n),p}function Fv(){var p,g;return p=y,g=Vv(),g===n&&(g=ki()),g!==n&&(_e=p,g=ze(g)),p=g,p}function Ao(){var p,g,w,m;return p=y,g=y,w=mf(),w===n&&(w=null),w!==n?(m=Vv(),m!==n?(w=[w,m],g=w):(y=g,g=n)):(y=g,g=n),g===n&&(g=y,w=mf(),w===n&&(w=null),w!==n?(m=ki(),m!==n?(w=[w,m],g=w):(y=g,g=n)):(y=g,g=n)),g!==n&&(_e=p,g=bt(g)),p=g,p}function Pv(){var p,g;return p=y,ia.test(t.charAt(y))?(g=t.charAt(y),y++):(g=n,wt===0&&ht(af)),g!==n&&(_e=p,g=lf(g)),p=g,p}function Ke(){var p,g,w,m,D;if(p=y,g=[],w=Ae(),w!==n)for(;w!==n;)g.push(w),w=Ae();else g=n;if(g!==n)if(w=Lv(),w===n&&(w=null),w!==n){for(m=[],D=Ae();D!==n;)m.push(D),D=Ae();m!==n?(g=[g,w,m],p=g):(y=p,p=n)}else y=p,p=n;else y=p,p=n;if(p===n){if(p=y,g=y,w=Lv(),w!==n){for(m=[],D=Ae();D!==n;)m.push(D),D=Ae();m!==n?(w=[w,m],g=w):(y=g,g=n)}else y=g,g=n;g!==n&&(_e=p,g=To()),p=g}return p}function Lv(){var p;return t.charCodeAt(y)===44?(p=Ol,y++):(p=n,wt===0&&ht(Io)),p}function Vv(){var p,g,w,m;return p=y,g=y,w=MS(),w!==n?(m=Uv(),m===n&&(m=null),m!==n?(w=[w,m],g=w):(y=g,g=n)):(y=g,g=n),g===n&&(g=y,w=ki(),w!==n?(m=Uv(),m!==n?(w=[w,m],g=w):(y=g,g=n)):(y=g,g=n)),g!==n&&(_e=p,g=uf(g)),p=g,p}function MS(){var p,g,w,m,D;return p=y,g=y,w=ki(),w===n&&(w=null),w!==n?(t.charCodeAt(y)===46?(m=xv,y++):(m=n,wt===0&&ht(_v)),m!==n?(D=ki(),D!==n?(w=[w,m,D],g=w):(y=g,g=n)):(y=g,g=n)):(y=g,g=n),g===n&&(g=y,w=ki(),w!==n?(t.charCodeAt(y)===46?(m=xv,y++):(m=n,wt===0&&ht(_v)),m!==n?(w=[w,m],g=w):(y=g,g=n)):(y=g,g=n)),g!==n&&(_e=p,g=uf(g)),p=g,p}function Uv(){var p,g,w,m,D;return p=y,g=y,tS.test(t.charAt(y))?(w=t.charAt(y),y++):(w=n,wt===0&&ht(nS)),w!==n?(m=mf(),m===n&&(m=null),m!==n?(D=ki(),D!==n?(w=[w,m,D],g=w):(y=g,g=n)):(y=g,g=n)):(y=g,g=n),g!==n&&(_e=p,g=uf(g)),p=g,p}function mf(){var p;return rS.test(t.charAt(y))?(p=t.charAt(y),y++):(p=n,wt===0&&ht(iS)),p}function ki(){var p,g,w;if(p=y,g=[],Sv.test(t.charAt(y))?(w=t.charAt(y),y++):(w=n,wt===0&&ht(Mv)),w!==n)for(;w!==n;)g.push(w),Sv.test(t.charAt(y))?(w=t.charAt(y),y++):(w=n,wt===0&&ht(Mv));else g=n;return g!==n&&(_e=p,g=oS(g)),p=g,p}function Ae(){var p,g;return p=y,sS.test(t.charAt(y))?(g=t.charAt(y),y++):(g=n,wt===0&&ht(aS)),g!==n&&(_e=p,g=To()),p=g,p}function TS(p,g){if(!g)return[p];for(var w=[p],m=0,D=g.length;m<D;m++)w[m+1]=g[m][1];return w}var Ll={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var Bv in Ll)Ll[Bv.toUpperCase()]=Ll[Bv];function No(p,g){g||(g=[{}]);for(var w=g.length;w--;){var m={code:p,command:Ll[p]};p==p.toLowerCase()&&(m.relative=!0);for(var D in g[w])m[D]=g[w][D];g[w]=m}return g}if(Pl=i(),Pl!==n&&y===t.length)return Pl;throw Pl!==n&&y<t.length&&ht(lS()),Av(cf,or<t.length?t.charAt(or):null,or<t.length?oa(or,or+1):oa(or,or))}X_.exports={SyntaxError:Mo,parse:F3}});var J_=Cf((Pee,K_)=>{"use strict";var ef=Q_().parse;ef.parseSVG=ef;ef.makeAbsolute=P3;K_.exports=ef;function P3(t){var e,n={x:0,y:0},r={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return t.forEach(function(i){i.command==="moveto"&&(e=i),i.x0=n.x,i.y0=n.y;for(var o in r)o in i&&(i[o]+=i.relative?i[r[o]]:0);"x"in i||(i.x=n.x),"y"in i||(i.y=n.y),i.relative=!1,i.code=i.code.toUpperCase(),i.command=="closepath"&&(i.x=e.x,i.y=e.y),n=i}),t}});function zv(t,e){return Object.is(t,e)}var Ct=null,Hl=!1,xf=1,on=Symbol("SIGNAL");function ke(t){let e=Ct;return Ct=t,e}function Wv(){return Ct}var la={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function $l(t){if(Hl)throw new Error("");if(Ct===null)return;Ct.consumerOnSignalRead(t);let e=Ct.nextProducerIndex++;if(ql(Ct),e<Ct.producerNode.length&&Ct.producerNode[e]!==t&&aa(Ct)){let n=Ct.producerNode[e];Wl(n,Ct.producerIndexOfThis[e])}Ct.producerNode[e]!==t&&(Ct.producerNode[e]=t,Ct.producerIndexOfThis[e]=aa(Ct)?Xv(t,Ct,e):0),Ct.producerLastReadVersion[e]=t.version}function LS(){xf++}function qv(t){if(!(aa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===xf)){if(!t.producerMustRecompute(t)&&!Sf(t)){$v(t);return}t.producerRecomputeValue(t),$v(t)}}function Yv(t){if(t.liveConsumerNode===void 0)return;let e=Hl;Hl=!0;try{for(let n of t.liveConsumerNode)n.dirty||VS(n)}finally{Hl=e}}function Zv(){return Ct?.consumerAllowSignalWrites!==!1}function VS(t){t.dirty=!0,Yv(t),t.consumerMarkedDirty?.(t)}function $v(t){t.dirty=!1,t.lastCleanEpoch=xf}function zl(t){return t&&(t.nextProducerIndex=0),ke(t)}function _f(t,e){if(ke(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(aa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Wl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Sf(t){ql(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(qv(n),r!==n.version))return!0}return!1}function Mf(t){if(ql(t),aa(t))for(let e=0;e<t.producerNode.length;e++)Wl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Xv(t,e,n){if(Qv(t),t.liveConsumerNode.length===0&&Kv(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=Xv(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Wl(t,e){if(Qv(t),t.liveConsumerNode.length===1&&Kv(t))for(let r=0;r<t.producerNode.length;r++)Wl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];ql(i),i.producerIndexOfThis[r]=e}}function aa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function ql(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Qv(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Kv(t){return t.producerNode!==void 0}function Jv(t){let e=Object.create(US);e.computation=t;let n=()=>{if(qv(e),$l(e),e.value===Gl)throw e.error;return e.value};return n[on]=e,n}var Ef=Symbol("UNSET"),Df=Symbol("COMPUTING"),Gl=Symbol("ERRORED"),US=De(L({},la),{value:Ef,dirty:!0,error:null,equal:zv,kind:"computed",producerMustRecompute(t){return t.value===Ef||t.value===Df},producerRecomputeValue(t){if(t.value===Df)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Df;let n=zl(t),r,i=!1;try{r=t.computation(),ke(null),i=e!==Ef&&e!==Gl&&r!==Gl&&t.equal(e,r)}catch(o){r=Gl,t.error=o}finally{_f(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function BS(){throw new Error}var e0=BS;function t0(){e0()}function n0(t){e0=t}var jS=null;function r0(t){let e=Object.create(Tf);e.value=t;let n=()=>($l(e),e.value);return n[on]=e,n}function Yl(t,e){Zv()||t0(),t.equal(t.value,e)||(t.value=e,HS(t))}function i0(t,e){Zv()||t0(),Yl(t,e(t.value))}var Tf=De(L({},la),{equal:zv,value:void 0,kind:"signal"});function HS(t){t.version++,LS(),Yv(t),jS?.()}function ve(t){return typeof t=="function"}function Oo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Zl=Oo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function ua(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var pt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ve(r))try{r()}catch(o){e=o instanceof Zl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{o0(o)}catch(s){e=e??[],s instanceof Zl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Zl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)o0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&ua(n,e)}remove(e){let{_finalizers:n}=this;n&&ua(n,e),e instanceof t&&e._removeParent(this)}};pt.EMPTY=(()=>{let t=new pt;return t.closed=!0,t})();var If=pt.EMPTY;function Xl(t){return t instanceof pt||t&&"closed"in t&&ve(t.remove)&&ve(t.add)&&ve(t.unsubscribe)}function o0(t){ve(t)?t():t.unsubscribe()}var jn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fo={setTimeout(t,e,...n){let{delegate:r}=Fo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Fo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ql(t){Fo.setTimeout(()=>{let{onUnhandledError:e}=jn;if(e)e(t);else throw t})}function ca(){}var s0=Af("C",void 0,void 0);function a0(t){return Af("E",void 0,t)}function l0(t){return Af("N",t,void 0)}function Af(t,e,n){return{kind:t,value:e,error:n}}var Oi=null;function Po(t){if(jn.useDeprecatedSynchronousErrorHandling){let e=!Oi;if(e&&(Oi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Oi;if(Oi=null,n)throw r}}else t()}function u0(t){jn.useDeprecatedSynchronousErrorHandling&&Oi&&(Oi.errorThrown=!0,Oi.error=t)}var Fi=class extends pt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Xl(e)&&e.add(this)):this.destination=zS}static create(e,n,r){return new Lo(e,n,r)}next(e){this.isStopped?Rf(l0(e),this):this._next(e)}error(e){this.isStopped?Rf(a0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Rf(s0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},GS=Function.prototype.bind;function Nf(t,e){return GS.call(t,e)}var kf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Kl(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Kl(r)}else Kl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Kl(n)}}},Lo=class extends Fi{constructor(e,n,r){super();let i;if(ve(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&jn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Nf(e.next,o),error:e.error&&Nf(e.error,o),complete:e.complete&&Nf(e.complete,o)}):i=e}this.destination=new kf(i)}};function Kl(t){jn.useDeprecatedSynchronousErrorHandling?u0(t):Ql(t)}function $S(t){throw t}function Rf(t,e){let{onStoppedNotification:n}=jn;n&&Fo.setTimeout(()=>n(t,e))}var zS={closed:!0,next:ca,error:$S,complete:ca};var Vo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function sn(t){return t}function Of(...t){return Ff(t)}function Ff(t){return t.length===0?sn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=qS(n)?n:new Lo(n,r,i);return Po(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=c0(r),new r((i,o)=>{let s=new Lo({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Vo](){return this}pipe(...n){return Ff(n)(this)}toPromise(n){return n=c0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function c0(t){var e;return(e=t??jn.Promise)!==null&&e!==void 0?e:Promise}function WS(t){return t&&ve(t.next)&&ve(t.error)&&ve(t.complete)}function qS(t){return t&&t instanceof Fi||WS(t)&&Xl(t)}function Pf(t){return ve(t?.lift)}function Oe(t){return e=>{if(Pf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ne(t,e,n,r,i){return new Lf(t,e,n,r,i)}var Lf=class extends Fi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Uo(){return Oe((t,e)=>{let n=null;t._refCount++;let r=Ne(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Bo=class extends Le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Pf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new pt;let n=this.getSubject();e.add(this.source.subscribe(Ne(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=pt.EMPTY)}return e}refCount(){return Uo()(this)}};var d0=Oo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Et=(()=>{class t extends Le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Jl(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new d0}next(n){Po(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Po(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Po(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?If:(this.currentObservers=null,o.push(n),new pt(()=>{this.currentObservers=null,ua(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Le;return n.source=this,n}}return t.create=(e,n)=>new Jl(e,n),t})(),Jl=class extends Et{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:If}};var Nt=class extends Et{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Xt=new Le(t=>t.complete());function f0(t){return t&&ve(t.schedule)}function h0(t){return t[t.length-1]}function eu(t){return ve(h0(t))?t.pop():void 0}function zr(t){return f0(h0(t))?t.pop():void 0}function g0(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function p0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pi(t){return this instanceof Pi?(this.v=t,this):new Pi(t)}function m0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(v){return Promise.resolve(v).then(h,d)}}function a(h,v){r[h]&&(i[h]=function(b){return new Promise(function(E,C){o.push([h,b,E,C])>1||l(h,b)})},v&&(i[h]=v(i[h])))}function l(h,v){try{u(r[h](v))}catch(b){f(o[0][3],b)}}function u(h){h.value instanceof Pi?Promise.resolve(h.value.v).then(c,d):f(o[0][2],h)}function c(h){l("next",h)}function d(h){l("throw",h)}function f(h,v){h(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function v0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof p0=="function"?p0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var tu=t=>t&&typeof t.length=="number"&&typeof t!="function";function nu(t){return ve(t?.then)}function ru(t){return ve(t[Vo])}function iu(t){return Symbol.asyncIterator&&ve(t?.[Symbol.asyncIterator])}function ou(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function YS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var su=YS();function au(t){return ve(t?.[su])}function lu(t){return m0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Pi(n.read());if(i)return yield Pi(void 0);yield yield Pi(r)}}finally{n.releaseLock()}})}function uu(t){return ve(t?.getReader)}function gt(t){if(t instanceof Le)return t;if(t!=null){if(ru(t))return ZS(t);if(tu(t))return XS(t);if(nu(t))return QS(t);if(iu(t))return y0(t);if(au(t))return KS(t);if(uu(t))return JS(t)}throw ou(t)}function ZS(t){return new Le(e=>{let n=t[Vo]();if(ve(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function XS(t){return new Le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function QS(t){return new Le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Ql)})}function KS(t){return new Le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function y0(t){return new Le(e=>{e1(t,e).catch(n=>e.error(n))})}function JS(t){return y0(lu(t))}function e1(t,e){var n,r,i,o;return g0(this,void 0,void 0,function*(){try{for(n=v0(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Qt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function cu(t,e=0){return Oe((n,r)=>{n.subscribe(Ne(r,i=>Qt(r,t,()=>r.next(i),e),()=>Qt(r,t,()=>r.complete(),e),i=>Qt(r,t,()=>r.error(i),e)))})}function du(t,e=0){return Oe((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function b0(t,e){return gt(t).pipe(du(e),cu(e))}function w0(t,e){return gt(t).pipe(du(e),cu(e))}function C0(t,e){return new Le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function E0(t,e){return new Le(n=>{let r;return Qt(n,e,()=>{r=t[su](),Qt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>ve(r?.return)&&r.return()})}function fu(t,e){if(!t)throw new Error("Iterable cannot be null");return new Le(n=>{Qt(n,e,()=>{let r=t[Symbol.asyncIterator]();Qt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function D0(t,e){return fu(lu(t),e)}function x0(t,e){if(t!=null){if(ru(t))return b0(t,e);if(tu(t))return C0(t,e);if(nu(t))return w0(t,e);if(iu(t))return fu(t,e);if(au(t))return E0(t,e);if(uu(t))return D0(t,e)}throw ou(t)}function lt(t,e){return e?x0(t,e):gt(t)}function ge(...t){let e=zr(t);return lt(t,e)}function jo(t,e){let n=ve(t)?t:()=>t,r=i=>i.error(n());return new Le(e?i=>e.schedule(r,0,i):r)}function Vf(t){return!!t&&(t instanceof Le||ve(t.lift)&&ve(t.subscribe))}var _r=Oo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Ie(t,e){return Oe((n,r)=>{let i=0;n.subscribe(Ne(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:t1}=Array;function n1(t,e){return t1(e)?t(...e):t(e)}function hu(t){return Ie(e=>n1(t,e))}var{isArray:r1}=Array,{getPrototypeOf:i1,prototype:o1,keys:s1}=Object;function pu(t){if(t.length===1){let e=t[0];if(r1(e))return{args:e,keys:null};if(a1(e)){let n=s1(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function a1(t){return t&&typeof t=="object"&&i1(t)===o1}function gu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function mu(...t){let e=zr(t),n=eu(t),{args:r,keys:i}=pu(t);if(r.length===0)return lt([],e);let o=new Le(l1(r,e,i?s=>gu(i,s):sn));return n?o.pipe(hu(n)):o}function l1(t,e,n=sn){return r=>{_0(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)_0(e,()=>{let u=lt(t[l],e),c=!1;u.subscribe(Ne(r,d=>{o[l]=d,c||(c=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function _0(t,e,n){t?Qt(n,t,e):e()}function S0(t,e,n,r,i,o,s,a){let l=[],u=0,c=0,d=!1,f=()=>{d&&!l.length&&!u&&e.complete()},h=b=>u<r?v(b):l.push(b),v=b=>{o&&e.next(b),u++;let E=!1;gt(n(b,c++)).subscribe(Ne(e,C=>{i?.(C),o?h(C):e.next(C)},()=>{E=!0},void 0,()=>{if(E)try{for(u--;l.length&&u<r;){let C=l.shift();s?Qt(e,s,()=>v(C)):v(C)}f()}catch(C){e.error(C)}}))};return t.subscribe(Ne(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Dt(t,e,n=1/0){return ve(e)?Dt((r,i)=>Ie((o,s)=>e(r,o,i,s))(gt(t(r,i))),n):(typeof e=="number"&&(n=e),Oe((r,i)=>S0(r,i,t,n)))}function Uf(t=1/0){return Dt(sn,t)}function M0(){return Uf(1)}function Ho(...t){return M0()(lt(t,zr(t)))}function vu(t){return new Le(e=>{gt(t()).subscribe(e)})}function Bf(...t){let e=eu(t),{args:n,keys:r}=pu(t),i=new Le(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let c=0;c<s;c++){let d=!1;gt(n[c]).subscribe(Ne(o,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?gu(r,a):a),o.complete())}))}});return e?i.pipe(hu(e)):i}function wn(t,e){return Oe((n,r)=>{let i=0;n.subscribe(Ne(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Wr(t){return Oe((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Ne(n,void 0,void 0,s=>{o=gt(t(s,Wr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function T0(t,e,n,r,i){return(o,s)=>{let a=n,l=e,u=0;o.subscribe(Ne(s,c=>{let d=u++;l=a?t(l,c,d):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function Li(t,e){return ve(e)?Dt(t,e,1):Dt(t,1)}function qr(t){return Oe((e,n)=>{let r=!1;e.subscribe(Ne(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Sr(t){return t<=0?()=>Xt:Oe((e,n)=>{let r=0;e.subscribe(Ne(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function yu(t=u1){return Oe((e,n)=>{let r=!1;e.subscribe(Ne(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function u1(){return new _r}function Go(t){return Oe((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Mr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wn((i,o)=>t(i,o,r)):sn,Sr(1),n?qr(e):yu(()=>new _r))}function $o(t){return t<=0?()=>Xt:Oe((e,n)=>{let r=[];e.subscribe(Ne(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function jf(t,e){let n=arguments.length>=2;return r=>r.pipe(t?wn((i,o)=>t(i,o,r)):sn,$o(1),n?qr(e):yu(()=>new _r))}function Hf(t,e){return Oe(T0(t,e,arguments.length>=2,!0))}function Gf(...t){let e=zr(t);return Oe((n,r)=>{(e?Ho(t,n,e):Ho(t,n)).subscribe(r)})}function Cn(t,e){return Oe((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Ne(r,l=>{i?.unsubscribe();let u=0,c=o++;gt(t(l,c)).subscribe(i=Ne(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function $f(t){return Oe((e,n)=>{gt(t).subscribe(Ne(n,()=>n.complete(),ca)),!n.closed&&e.subscribe(n)})}function xt(t,e,n){let r=ve(t)||e||n?{next:t,error:e,complete:n}:t;return r?Oe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Ne(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):sn}var Zf={JSACTION:"jsaction"},Xf={JSACTION:"__jsaction",OWNER:"__owner"},R0={};function c1(t){return t[Xf.JSACTION]}function I0(t,e){t[Xf.JSACTION]=e}function d1(t){return R0[t]}function f1(t,e){R0[t]=e}var re={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},h1=[re.MOUSEENTER,re.MOUSELEAVE,"pointerenter","pointerleave"],l5=[re.CLICK,re.DBLCLICK,re.FOCUSIN,re.FOCUSOUT,re.KEYDOWN,re.KEYUP,re.KEYPRESS,re.MOUSEOVER,re.MOUSEOUT,re.SUBMIT,re.TOUCHSTART,re.TOUCHEND,re.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],p1=[re.FOCUS,re.BLUR,re.ERROR,re.LOAD,re.TOGGLE],Qf=t=>p1.indexOf(t)>=0;var g1=3,m1=13,v1=32,an={MAC_ENTER:g1,ENTER:m1,SPACE:v1};function y1(t){return t===re.MOUSEENTER?re.MOUSEOVER:t===re.MOUSELEAVE?re.MOUSEOUT:t===re.POINTERENTER?re.POINTEROVER:t===re.POINTERLEAVE?re.POINTEROUT:t}function b1(t,e,n,r){let i=!1;Qf(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function w1(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function C1(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var A0=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function E1(t){return t.which===2||t.which==null&&t.button===4}function D1(t){return A0&&t.metaKey||!A0&&t.ctrlKey||E1(t)||t.shiftKey}var u5=typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&/WebKit/.test(navigator.userAgent),c5=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident/.test(navigator.userAgent)),d5=typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&/Gecko/.test(navigator.product);function x1(t,e,n){let r=t.relatedTarget;return(t.type===re.MOUSEOVER&&e===re.MOUSEENTER||t.type===re.MOUSEOUT&&e===re.MOUSELEAVE||t.type===re.POINTEROVER&&e===re.POINTERENTER||t.type===re.POINTEROUT&&e===re.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function _1(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===re.MOUSEOVER?n.type=re.MOUSEENTER:t.type===re.MOUSEOUT?n.type=re.MOUSELEAVE:t.type===re.POINTEROVER?n.type=re.POINTERENTER:n.type=re.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var f5={Enter:an.ENTER," ":an.SPACE},h5={A:an.ENTER,BUTTON:0,CHECKBOX:an.SPACE,COMBOBOX:an.ENTER,FILE:0,GRIDCELL:an.ENTER,LINK:an.ENTER,LISTBOX:an.ENTER,MENU:0,MENUBAR:0,MENUITEM:0,MENUITEMCHECKBOX:0,MENUITEMRADIO:0,OPTION:0,RADIO:an.SPACE,RADIOGROUP:an.SPACE,RESET:0,SUBMIT:0,SWITCH:an.SPACE,TAB:0,TREE:an.ENTER,TREEITEM:an.ENTER};var S1=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Eu=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){S1&&(this.element.style.cursor="pointer"),this.handlerInfos.push(b1(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)w1(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},M1={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function Yr(t){return t.eventType}function Kf(t,e){t.eventType=e}function wu(t){return t.event}function k0(t,e){t.event=e}function O0(t){return t.targetElement}function F0(t,e){t.targetElement=e}function P0(t){return t.eic}function T1(t,e){t.eic=e}function I1(t){return t.timeStamp}function A1(t,e){t.timeStamp=e}function Cu(t){return t.eia}function L0(t,e,n){t.eia=[e,n]}function zf(t){t.eia=void 0}function bu(t){return t[1]}function N1(t){return t.eirp}function V0(t,e){t.eirp=e}function U0(t){return t.eir}function B0(t,e){t.eir=e}function j0(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function R1(t,e,n,r,i,o,s,a){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var Wf=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return Yr(this.eventInfo)}setEventType(e){Kf(this.eventInfo,e)}getEvent(){return wu(this.eventInfo)}setEvent(e){k0(this.eventInfo,e)}getTargetElement(){return O0(this.eventInfo)}setTargetElement(e){F0(this.eventInfo,e)}getContainer(){return P0(this.eventInfo)}setContainer(e){T1(this.eventInfo,e)}getTimestamp(){return I1(this.eventInfo)}setTimestamp(e){A1(this.eventInfo,e)}getAction(){let e=Cu(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){zf(this.eventInfo);return}L0(this.eventInfo,e.name,e.element)}getIsReplay(){return N1(this.eventInfo)}setIsReplay(e){V0(this.eventInfo,e)}getResolved(){return U0(this.eventInfo)}setResolved(e){B0(this.eventInfo,e)}clone(){return new t(j0(this.eventInfo))}},k1={},O1=/\s*;\s*/,F1=re.CLICK,qf=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&Yr(e)===re.CLICK&&D1(wu(e))?Kf(e,re.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){U0(e)||(this.populateAction(e,O0(e)),B0(e,!0))}resolveParentAction(e){let n=Cu(e),r=n&&bu(n);zf(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==P0(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!Cu(e));)r=this.getParentNode(r);let i=Cu(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(Yr(e)===re.MOUSEENTER||Yr(e)===re.MOUSELEAVE||Yr(e)===re.POINTERENTER||Yr(e)===re.POINTERLEAVE)))if(x1(wu(e),Yr(e),bu(i))){let o=_1(wu(e),bu(i));k0(e,o),F0(e,bu(i))}else zf(e)}getParentNode(e){let n=e[Xf.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[Yr(n)];i!==void 0&&L0(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=c1(e);if(!n){let r=e.getAttribute(Zf.JSACTION);if(!r)n=k1,I0(e,n);else{if(n=d1(r),!n){n={};let i=r.split(O1);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(M1.EVENT_ACTION_SEPARATOR),l=a!==-1,u=l?s.substr(0,a).trim():F1,c=l?s.substr(a+1).trim():s;n[u]=c}f1(r,n)}I0(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},H0=function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t}(H0||{}),Yf=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new Wf(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&P1(r.element,n)&&C1(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function P1(t,e){return t.tagName==="A"&&(e.getEventType()===re.CLICK||e.getEventType()===re.CLICKMOD)}var G0=Symbol.for("propagationStopped"),Jf={REPLAY:101};var L1="`preventDefault` called during event replay.";var V1="`composedPath` called during event replay.",Du=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new qf({clickModSupport:n}),this.dispatcher=new Yf(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&j1(e),U1(e);e.getAction();){if(H1(e),Qf(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),B1(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function U1(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[G0]=!0,n()};Vi(e,"stopPropagation",r),Vi(e,"stopImmediatePropagation",r)}function B1(t){return!!t.getEvent()[G0]}function j1(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);Vi(e,"target",n),Vi(e,"eventPhase",Jf.REPLAY),Vi(e,"preventDefault",()=>{throw r(),new Error(L1+"")}),Vi(e,"composedPath",()=>{throw new Error(V1+"")})}function H1(t){let e=t.getEvent(),n=t.getAction()?.element;n&&Vi(e,"currentTarget",n,{configurable:!0})}function Vi(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function $0(t,e){t.ecrd(n=>{e.dispatch(n)},H0.I_AM_THE_JSACTION_FRAMEWORK)}function G1(t){return t?.q??[]}function $1(t){t&&(N0(t.c,t.et,t.h),N0(t.c,t.etc,t.h,!0))}function N0(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var z1=!1,z0=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=z1;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=R1(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){V0(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&h1.indexOf(n)>=0)return;let o=(a,l,u)=>{this.handleEvent(a,l,u)};this.eventHandlers[n]=o;let s=y1(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>l=>{o(n,l,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),$1(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=j0(i);Kf(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function W0(t,e=window){return G1(e._ejsas?.[t])}function eh(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var W1="https://g.co/ng/security#xss",Q=class extends Error{code;constructor(e,n){super(lc(e,n)),this.code=e}};function lc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Gy=Symbol("InputSignalNode#UNSET"),q1=De(L({},Tf),{transformFn:void 0,applyValueToInputSignal(t,e){Yl(t,e)}});function $y(t,e){let n=Object.create(q1);n.value=t,n.transformFn=e?.transform;function r(){if($l(n),n.value===Gy)throw new Q(-950,!1);return n.value}return r[on]=n,r}function Da(t){return{toString:t}.toString()}var xu="__parameters__";function Y1(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function zy(t,e,n){return Da(()=>{let r=Y1(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,c){let d=l.hasOwnProperty(xu)?l[xu]:Object.defineProperty(l,xu,{value:[]})[xu];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ye(t){for(let e in t)if(t[e]===Ye)return e;throw Error("Could not find renamed property on target object.")}function Z1(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function zt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(zt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function q0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var X1=Ye({__forward_ref__:Ye});function fn(t){return t.__forward_ref__=fn,t.toString=function(){return zt(this())},t}function $t(t){return Wy(t)?t():t}function Wy(t){return typeof t=="function"&&t.hasOwnProperty(X1)&&t.__forward_ref__===fn}function oe(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ii(t){return{providers:t.providers||[],imports:t.imports||[]}}function uc(t){return Y0(t,Yy)||Y0(t,Zy)}function qy(t){return uc(t)!==null}function Y0(t,e){return t.hasOwnProperty(e)?t[e]:null}function Q1(t){let e=t&&(t[Yy]||t[Zy]);return e||null}function Z0(t){return t&&(t.hasOwnProperty(X0)||t.hasOwnProperty(K1))?t[X0]:null}var Yy=Ye({\u0275prov:Ye}),X0=Ye({\u0275inj:Ye}),Zy=Ye({ngInjectableDef:Ye}),K1=Ye({ngInjectorDef:Ye}),K=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=oe({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Xy(t){return t&&!!t.\u0275providers}var J1=Ye({\u0275cmp:Ye}),eM=Ye({\u0275dir:Ye}),tM=Ye({\u0275pipe:Ye}),nM=Ye({\u0275mod:Ye}),Lu=Ye({\u0275fac:Ye}),pa=Ye({__NG_ELEMENT_ID__:Ye}),Q0=Ye({__NG_ENV_ID__:Ye});function gp(t){return typeof t=="string"?t:t==null?"":String(t)}function rM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():gp(t)}function iM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function mp(t,e){throw new Q(-201,!1)}var Se=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Se||{}),mh;function Qy(){return mh}function En(t){let e=mh;return mh=t,e}function Ky(t,e,n){let r=uc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Se.Optional)return null;if(e!==void 0)return e;mp(t,"Injector")}var oM={},ga=oM,vh="__NG_DI_FLAG__",Vu="ngTempTokenPath",sM="ngTokenPath",aM=/\n/gm,lM="\u0275",K0="__source",Xo;function uM(){return Xo}function Zr(t){let e=Xo;return Xo=t,e}function cM(t,e=Se.Default){if(Xo===void 0)throw new Q(-203,!1);return Xo===null?Ky(t,void 0,e):Xo.get(t,e&Se.Optional?null:void 0,e)}function Re(t,e=Se.Default){return(Qy()||cM)($t(t),e)}function k(t,e=Se.Default){return Re(t,cc(e))}function cc(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function yh(t){let e=[];for(let n=0;n<t.length;n++){let r=$t(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,o=Se.Default;for(let s=0;s<r.length;s++){let a=r[s],l=dM(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(Re(i,o))}else e.push(Re(r))}return e}function Jy(t,e){return t[vh]=e,t.prototype[vh]=e,t}function dM(t){return t[vh]}function fM(t,e,n,r){let i=t[Vu];throw e[K0]&&i.unshift(e[K0]),t.message=hM(`
`+t.message,i,n,r),t[sM]=i,t[Vu]=null,t}function hM(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==lM?t.slice(2):t;let i=zt(e);if(Array.isArray(e))i=e.map(zt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):zt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(aM,`
  `)}`}var vp=Jy(zy("Optional"),8);var eb=Jy(zy("SkipSelf"),4);function es(t,e){let n=t.hasOwnProperty(Lu);return n?t[Lu]:null}function pM(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function gM(t){return t.flat(Number.POSITIVE_INFINITY)}function yp(t,e){t.forEach(n=>Array.isArray(n)?yp(n,e):e(n))}function tb(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Uu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function mM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function vM(t,e,n){let r=xa(t,e);return r>=0?t[r|1]=n:(r=~r,mM(t,r,e,n)),r}function th(t,e){let n=xa(t,e);if(n>=0)return t[n|1]}function xa(t,e){return yM(t,e,1)}function yM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ts={},Dn=[],Qr=new K(""),nb=new K("",-1),rb=new K(""),Bu=class{get(e,n=ga){if(n===ga){let r=new Error(`NullInjectorError: No provider for ${zt(e)}!`);throw r.name="NullInjectorError",r}return n}};function ib(t,e){let n=t[nM]||null;if(!n&&e===!0)throw new Error(`Type ${zt(t)} does not have '\u0275mod' property.`);return n}function Kr(t){return t[J1]||null}function bp(t){return t[eM]||null}function wp(t){return t[tM]||null}function ob(t){let e=Kr(t)||bp(t)||wp(t);return e!==null&&e.standalone}function Zi(t){return{\u0275providers:t}}function bM(...t){return{\u0275providers:Cp(!0,t),\u0275fromNgModule:!0}}function Cp(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return yp(e,s=>{let a=s;bh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&sb(i,o),n}function sb(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ep(i,o=>{e(o,r)})}}function bh(t,e,n,r){if(t=$t(t),!t)return!1;let i=null,o=Z0(t),s=!o&&Kr(t);if(!o&&!s){let l=t.ngModule;if(o=Z0(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)bh(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{yp(o.imports,c=>{bh(c,e,n,r)&&(u||=[],u.push(c))})}finally{}u!==void 0&&sb(u,e)}if(!a){let u=es(i)||(()=>new i);e({provide:i,useFactory:u,deps:Dn},i),e({provide:rb,useValue:i,multi:!0},i),e({provide:Qr,useValue:()=>Re(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=t;Ep(l,c=>{e(c,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Ep(t,e){for(let n of t)Xy(n)&&(n=n.\u0275providers),Array.isArray(n)?Ep(n,e):e(n)}var wM=Ye({provide:String,useValue:Ye});function ab(t){return t!==null&&typeof t=="object"&&wM in t}function CM(t){return!!(t&&t.useExisting)}function EM(t){return!!(t&&t.useFactory)}function ns(t){return typeof t=="function"}function DM(t){return!!t.useClass}var dc=new K(""),Iu={},xM={},nh;function Dp(){return nh===void 0&&(nh=new Bu),nh}var cn=class{},ma=class extends cn{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Ch(e,s=>this.processProvider(s)),this.records.set(nb,zo(void 0,this)),i.has("environment")&&this.records.set(cn,zo(void 0,this));let o=this.records.get(dc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(rb,Dn,Se.Self))}destroy(){fa(this),this._destroyed=!0;let e=ke(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ke(e)}}onDestroy(e){return fa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){fa(this);let n=Zr(this),r=En(void 0),i;try{return e()}finally{Zr(n),En(r)}}get(e,n=ga,r=Se.Default){if(fa(this),e.hasOwnProperty(Q0))return e[Q0](this);r=cc(r);let i,o=Zr(this),s=En(void 0);try{if(!(r&Se.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=IM(e)&&uc(e);u&&this.injectableDefInScope(u)?l=zo(wh(e),Iu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&Se.Self?Dp():this.parent;return n=r&Se.Optional&&n===ga?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Vu]=a[Vu]||[]).unshift(zt(e)),o)throw a;return fM(a,e,"R3InjectorError",this.source)}else throw a}finally{En(s),Zr(o)}}resolveInjectorInitializers(){let e=ke(null),n=Zr(this),r=En(void 0),i;try{let o=this.get(Qr,Dn,Se.Self);for(let s of o)s()}finally{Zr(n),En(r),ke(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(zt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=$t(e);let n=ns(e)?e:$t(e&&e.provide),r=SM(e);if(!ns(e)&&e.multi===!0){let i=this.records.get(n);i||(i=zo(void 0,Iu,!0),i.factory=()=>yh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=ke(null);try{return n.value===Iu&&(n.value=xM,n.value=n.factory()),typeof n.value=="object"&&n.value&&TM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ke(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=$t(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function wh(t){let e=uc(t),n=e!==null?e.factory:es(t);if(n!==null)return n;if(t instanceof K)throw new Q(204,!1);if(t instanceof Function)return _M(t);throw new Q(204,!1)}function _M(t){if(t.length>0)throw new Q(204,!1);let n=Q1(t);return n!==null?()=>n.factory(t):()=>new t}function SM(t){if(ab(t))return zo(void 0,t.useValue);{let e=lb(t);return zo(e,Iu)}}function lb(t,e,n){let r;if(ns(t)){let i=$t(t);return es(i)||wh(i)}else if(ab(t))r=()=>$t(t.useValue);else if(EM(t))r=()=>t.useFactory(...yh(t.deps||[]));else if(CM(t))r=()=>Re($t(t.useExisting));else{let i=$t(t&&(t.useClass||t.provide));if(MM(t))r=()=>new i(...yh(t.deps));else return es(i)||wh(i)}return r}function fa(t){if(t.destroyed)throw new Q(205,!1)}function zo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function MM(t){return!!t.deps}function TM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function IM(t){return typeof t=="function"||typeof t=="object"&&t instanceof K}function Ch(t,e){for(let n of t)Array.isArray(n)?Ch(n,e):n&&Xy(n)?Ch(n.\u0275providers,e):e(n)}function Mn(t,e){t instanceof ma&&fa(t);let n,r=Zr(t),i=En(void 0);try{return e()}finally{Zr(r),En(i)}}function ub(){return Qy()!==void 0||uM()!=null}function AM(t){if(!ub())throw new Q(-203,!1)}function NM(t){return typeof t=="function"}var dn=0,fe=1,me=2,It=3,Gn=4,Wn=5,ar=6,ju=7,_n=8,Jr=9,ei=10,Je=11,va=12,J0=13,us=14,Sn=15,Bi=16,Wo=17,Tr=18,fc=19,cb=20,Xr=21,rh=22,Hu=23,un=24,Rt=25,db=1,ji=6,Ir=7,Gu=8,rs=9,Kt=10;function $n(t){return Array.isArray(t)&&typeof t[db]=="object"}function dr(t){return Array.isArray(t)&&t[db]===!0}function fb(t){return(t.flags&4)!==0}function oi(t){return t.componentOffset>-1}function xp(t){return(t.flags&1)===1}function Ar(t){return!!t.template}function ya(t){return(t[me]&512)!==0}function cs(t){return(t[me]&256)===256}var Eh=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function hb(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Xi=(()=>{let t=()=>pb;return t.ngInherit=!0,t})();function pb(t){return t.type.prototype.ngOnChanges&&(t.setInput=kM),RM}function RM(){let t=mb(this),e=t?.current;if(e){let n=t.previous;if(n===ts)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function kM(t,e,n,r,i){let o=this.declaredInputs[r],s=mb(t)||OM(t,{previous:ts,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new Eh(u&&u.currentValue,n,l===ts),hb(t,e,i,n)}var gb="__ngSimpleChanges__";function mb(t){return t[gb]||null}function OM(t,e){return t[gb]=e}var ey=null;var xn=function(t,e,n){ey?.(t,e,n)},vb="svg",FM="math";function zn(t){for(;Array.isArray(t);)t=t[dn];return t}function yb(t,e){return zn(e[t])}function Tn(t,e){return zn(e[t.index])}function hc(t,e){return t.data[e]}function lr(t,e){let n=e[t];return $n(n)?n:n[dn]}function PM(t){return(t[me]&4)===4}function _p(t){return(t[me]&128)===128}function LM(t){return dr(t[It])}function $u(t,e){return e==null?null:t[e]}function bb(t){t[Wo]=0}function Sp(t){t[me]&1024||(t[me]|=1024,_p(t)&&gc(t))}function VM(t,e){for(;t>0;)e=e[us],t--;return e}function pc(t){return!!(t[me]&9216||t[un]?.dirty)}function Dh(t){t[ei].changeDetectionScheduler?.notify(9),t[me]&64&&(t[me]|=1024),pc(t)&&gc(t)}function gc(t){t[ei].changeDetectionScheduler?.notify(0);let e=Hi(t);for(;e!==null&&!(e[me]&8192||(e[me]|=8192,!_p(e)));)e=Hi(e)}function wb(t,e){if(cs(t))throw new Q(911,!1);t[Xr]===null&&(t[Xr]=[]),t[Xr].push(e)}function UM(t,e){if(t[Xr]===null)return;let n=t[Xr].indexOf(e);n!==-1&&t[Xr].splice(n,1)}function Hi(t){let e=t[It];return dr(e)?e[It]:e}function Cb(t){return t[ju]??=[]}function Eb(t){return t.cleanup??=[]}function BM(t,e,n,r){let i=Cb(e);i.push(n),t.firstCreatePass&&Eb(t).push(r,i.length-1)}var we={lFrame:Nb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var xh=!1;function jM(){return we.lFrame.elementDepthCount}function HM(){we.lFrame.elementDepthCount++}function GM(){we.lFrame.elementDepthCount--}function Db(){return we.bindingsEnabled}function _a(){return we.skipHydrationRootTNode!==null}function $M(t){return we.skipHydrationRootTNode===t}function zM(t){we.skipHydrationRootTNode=t}function WM(){we.skipHydrationRootTNode=null}function Ge(){return we.lFrame.lView}function Bt(){return we.lFrame.tView}function W(t){return we.lFrame.contextLView=t,t[_n]}function q(t){return we.lFrame.contextLView=null,t}function In(){let t=xb();for(;t!==null&&t.type===64;)t=t.parent;return t}function xb(){return we.lFrame.currentTNode}function qM(){let t=we.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Sa(t,e){let n=we.lFrame;n.currentTNode=t,n.isParent=e}function _b(){return we.lFrame.isParent}function YM(){we.lFrame.isParent=!1}function Sb(){return xh}function ty(t){let e=xh;return xh=t,e}function Mb(){let t=we.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ZM(t){return we.lFrame.bindingIndex=t}function mc(){return we.lFrame.bindingIndex++}function XM(t){let e=we.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function QM(){return we.lFrame.inI18n}function KM(t,e){let n=we.lFrame;n.bindingIndex=n.bindingRootIndex=t,_h(e)}function JM(){return we.lFrame.currentDirectiveIndex}function _h(t){we.lFrame.currentDirectiveIndex=t}function eT(t){let e=we.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Tb(){return we.lFrame.currentQueryIndex}function Mp(t){we.lFrame.currentQueryIndex=t}function tT(t){let e=t[fe];return e.type===2?e.declTNode:e.type===1?t[Wn]:null}function Ib(t,e,n){if(n&Se.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Se.Host);)if(i=tT(o),i===null||(o=o[us],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=we.lFrame=Ab();return r.currentTNode=e,r.lView=t,!0}function Tp(t){let e=Ab(),n=t[fe];we.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Ab(){let t=we.lFrame,e=t===null?null:t.child;return e===null?Nb(t):e}function Nb(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Rb(){let t=we.lFrame;return we.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var kb=Rb;function Ip(){let t=Rb();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nT(t){return(we.lFrame.contextLView=VM(t,we.lFrame.contextLView))[_n]}function ds(){return we.lFrame.selectedIndex}function Gi(t){we.lFrame.selectedIndex=t}function vc(){let t=we.lFrame;return hc(t.tView,t.selectedIndex)}function et(){we.lFrame.currentNamespace=vb}function fr(){rT()}function rT(){we.lFrame.currentNamespace=null}function Ob(){return we.lFrame.currentNamespace}var Fb=!0;function Ap(){return Fb}function si(t){Fb=t}function iT(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=pb(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Np(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),c!=null&&(t.destroyHooks??=[]).push(n,c)}}function Au(t,e,n){Pb(t,e,3,n)}function Nu(t,e,n,r){(t[me]&3)===n&&Pb(t,e,n,r)}function ih(t,e){let n=t[me];(n&3)===e&&(n&=16383,n+=1,t[me]=n)}function Pb(t,e,n,r){let i=r!==void 0?t[Wo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Wo]+=65536),(a<o||o==-1)&&(oT(t,n,e,l),t[Wo]=(t[Wo]&4294901760)+l+2),l++}function ny(t,e){xn(4,t,e);let n=ke(null);try{e.call(t)}finally{ke(n),xn(5,t,e)}}function oT(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[me]>>14<t[Wo]>>16&&(t[me]&3)===e&&(t[me]+=16384,ny(a,o)):ny(a,o)}var Qo=-1,$i=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function sT(t){return t instanceof $i}function aT(t){return(t.flags&8)!==0}function lT(t){return(t.flags&16)!==0}function uT(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];dT(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function cT(t){return t===3||t===4||t===6}function dT(t){return t.charCodeAt(0)===64}function is(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?ry(t,n,i,null,e[++r]):ry(t,n,i,null,null))}}return t}function ry(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var oh={},Ko=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=cc(r);let i=this.injector.get(e,oh,r);return i!==oh||n===oh?i:this.parentInjector.get(e,n,r)}};function Lb(t){return t!==Qo}function zu(t){return t&32767}function fT(t){return t>>16}function Wu(t,e){let n=fT(t),r=e;for(;n>0;)r=r[us],n--;return r}var Sh=!0;function iy(t){let e=Sh;return Sh=t,e}var hT=256,Vb=hT-1,Ub=5,pT=0,sr={};function gT(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(pa)&&(r=n[pa]),r==null&&(r=n[pa]=pT++);let i=r&Vb,o=1<<i;e.data[t+(i>>Ub)]|=o}function qu(t,e){let n=Bb(t,e);if(n!==-1)return n;let r=e[fe];r.firstCreatePass&&(t.injectorIndex=e.length,sh(r.data,t),sh(e,null),sh(r.blueprint,null));let i=Rp(t,e),o=t.injectorIndex;if(Lb(i)){let s=zu(i),a=Wu(i,e),l=a[fe].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function sh(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Bb(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Rp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=zb(i),r===null)return Qo;if(n++,i=i[us],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Qo}function Mh(t,e,n){gT(t,e,n)}function jb(t,e,n){if(n&Se.Optional||t!==void 0)return t;mp(e,"NodeInjector")}function Hb(t,e,n,r){if(n&Se.Optional&&r===void 0&&(r=null),!(n&(Se.Self|Se.Host))){let i=t[Jr],o=En(void 0);try{return i?i.get(e,r,n&Se.Optional):Ky(e,r,n&Se.Optional)}finally{En(o)}}return jb(r,e,n)}function Gb(t,e,n,r=Se.Default,i){if(t!==null){if(e[me]&2048&&!(r&Se.Self)){let s=bT(t,e,n,r,sr);if(s!==sr)return s}let o=$b(t,e,n,r,sr);if(o!==sr)return o}return Hb(e,n,r,i)}function $b(t,e,n,r,i){let o=vT(n);if(typeof o=="function"){if(!Ib(e,t,r))return r&Se.Host?jb(i,n,r):Hb(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Se.Optional))mp(n);else return s}finally{kb()}}else if(typeof o=="number"){let s=null,a=Bb(t,e),l=Qo,u=r&Se.Host?e[Sn][Wn]:null;for((a===-1||r&Se.SkipSelf)&&(l=a===-1?Rp(t,e):e[a+8],l===Qo||!sy(r,!1)?a=-1:(s=e[fe],a=zu(l),e=Wu(l,e)));a!==-1;){let c=e[fe];if(oy(o,a,c.data)){let d=mT(a,e,n,s,r,u);if(d!==sr)return d}l=e[a+8],l!==Qo&&sy(r,e[fe].data[a+8]===u)&&oy(o,a,e)?(s=c,a=zu(l),e=Wu(l,e)):a=-1}}return i}function mT(t,e,n,r,i,o){let s=e[fe],a=s.data[t+8],l=r==null?oi(a)&&Sh:r!=s&&(a.type&3)!==0,u=i&Se.Host&&o===a,c=Ru(a,s,n,l,u);return c!==null?ba(e,s,c,a):sr}function Ru(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,u=t.directiveEnd,c=o>>20,d=r?a:a+c,f=i?a+c:u;for(let h=d;h<f;h++){let v=s[h];if(h<l&&n===v||h>=l&&v.type===n)return h}if(i){let h=s[l];if(h&&Ar(h)&&h.type===n)return l}return null}function ba(t,e,n,r){let i=t[n],o=e.data;if(sT(i)){let s=i;s.resolving&&iM(rM(o[n]));let a=iy(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?En(s.injectImpl):null,c=Ib(t,r,Se.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&iT(n,o[n],e)}finally{u!==null&&En(u),iy(a),s.resolving=!1,kb()}}return i}function vT(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(pa)?t[pa]:void 0;return typeof e=="number"?e>=0?e&Vb:yT:e}function oy(t,e,n){let r=1<<t;return!!(n[e+(t>>Ub)]&r)}function sy(t,e){return!(t&Se.Self)&&!(t&Se.Host&&e)}var Ui=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Gb(this._tNode,this._lView,e,cc(r),n)}};function yT(){return new Ui(In(),Ge())}function An(t){return Da(()=>{let e=t.prototype.constructor,n=e[Lu]||Th(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Lu]||Th(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Th(t){return Wy(t)?()=>{let e=Th($t(t));return e&&e()}:es(t)}function bT(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[me]&2048&&!ya(s);){let a=$b(o,s,n,r|Se.Self,sr);if(a!==sr)return a;let l=o.parent;if(!l){let u=s[cb];if(u){let c=u.get(n,sr,r);if(c!==sr)return c}l=zb(s),s=s[us]}o=l}return i}function zb(t){let e=t[fe],n=e.type;return n===2?e.declTNode:n===1?t[Wn]:null}function ay(t,e=null,n=null,r){let i=Wb(t,e,n,r);return i.resolveInjectorInitializers(),i}function Wb(t,e=null,n=null,r,i=new Set){let o=[n||Dn,bM(t)];return r=r||(typeof t=="object"?void 0:zt(t)),new ma(o,e||Dp(),r||null,i)}var Jt=class t{static THROW_IF_NOT_FOUND=ga;static NULL=new Bu;static create(e,n){if(Array.isArray(e))return ay({name:""},n,e,"");{let r=e.name??"";return ay({name:r},e.parent,e.providers,r)}}static \u0275prov=oe({token:t,providedIn:"any",factory:()=>Re(nb)});static __NG_ELEMENT_ID__=-1};var wT=new K("");wT.__NG_ELEMENT_ID__=t=>{let e=In();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(t&Se.Optional)return null;throw new Q(204,!1)};var qb=!1,Ma=(()=>{class t{static __NG_ELEMENT_ID__=CT;static __NG_ENV_ID__=n=>n}return t})(),Ih=class extends Ma{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return wb(this._lView,e),()=>UM(this._lView,e)}};function CT(){return new Ih(Ge())}var os=class{},yc=new K("",{providedIn:"root",factory:()=>!1});var Yb=new K(""),Zb=new K(""),Rr=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Nt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}return t})();var Ah=class extends Et{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,ub()&&(this.destroyRef=k(Ma,{optional:!0})??void 0,this.pendingTasks=k(Rr,{optional:!0})??void 0)}emit(e){let n=ke(null);try{super.next(e)}finally{ke(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof pt&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Mt=Ah;function Yu(...t){}function Xb(t){let e,n;function r(){t=Yu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function ly(t){return queueMicrotask(()=>t()),()=>{t=Yu}}var kp="isAngularZone",Zu=kp+"_ID",ET=0,mt=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Mt(!1);onMicrotaskEmpty=new Mt(!1);onStable=new Mt(!1);onError=new Mt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=qb}=e;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,_T(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(kp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,DT,Yu,Yu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},DT={};function Op(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function xT(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){Xb(()=>{t.callbackScheduled=!1,Nh(t),t.isCheckStableRunning=!0,Op(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Nh(t)}function _T(t){let e=()=>{xT(t)},n=ET++;t._inner=t._inner.fork({name:"angular",properties:{[kp]:!0,[Zu]:n,[Zu+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(ST(l))return r.invokeTask(o,s,a,l);try{return uy(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),cy(t)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return uy(t),r.invoke(o,s,a,l,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!MT(l)&&e(),cy(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Nh(t),Op(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Nh(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function uy(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function cy(t){t._nesting--,Op(t)}var Rh=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Mt;onMicrotaskEmpty=new Mt;onStable=new Mt;onError=new Mt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function ST(t){return Qb(t,"__ignore_ng_zone__")}function MT(t){return Qb(t,"__scheduler_tick__")}function Qb(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Nr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},TT=new K("",{providedIn:"root",factory:()=>{let t=k(mt),e=k(Nr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function dy(t,e){return $y(t,e)}function IT(t){return $y(Gy,t)}var Kb=(dy.required=IT,dy);function AT(){return fs(In(),Ge())}function fs(t,e){return new Wt(Tn(t,e))}var Wt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=AT}return t})();function NT(t){return t instanceof Wt?t.nativeElement:t}var fy=new Set;function hr(t){fy.has(t)||(fy.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function RT(t){return typeof t=="function"&&t[on]!==void 0}function bc(t,e){hr("NgSignals");let n=r0(t),r=n[on];return e?.equal&&(r.equal=e.equal),n.set=i=>Yl(r,i),n.update=i=>i0(r,i),n.asReadonly=kT.bind(n),n}function kT(){let t=this[on];if(t.readonlyFn===void 0){let e=()=>this();e[on]=t,t.readonlyFn=e}return t.readonlyFn}function Jb(t){return RT(t)&&typeof t.set=="function"}function OT(){return this._results[Symbol.iterator]()}var kh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Et}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=gM(e);(this._changesDetected=!pM(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=OT},FT="ngSkipHydration",PT="ngskiphydration";function ew(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===PT)return!0}return!1}function tw(t){return t.hasAttribute(FT)}function Xu(t){return(t.flags&128)===128}function LT(t){if(Xu(t))return!0;let e=t.parent;for(;e;){if(Xu(t)||ew(e))return!0;e=e.parent}return!1}var nw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(nw||{}),rw=new Map,VT=0;function UT(){return VT++}function BT(t){rw.set(t[fc],t)}function Oh(t){rw.delete(t[fc])}var hy="__ngContext__";function hs(t,e){$n(e)?(t[hy]=e[fc],BT(e)):t[hy]=e}function iw(t){return sw(t[va])}function ow(t){return sw(t[Gn])}function sw(t){for(;t!==null&&!dr(t);)t=t[Gn];return t}var Fh;function aw(t){Fh=t}function wc(){if(Fh!==void 0)return Fh;if(typeof document<"u")return document;throw new Q(210,!1)}var zi=new K("",{providedIn:"root",factory:()=>jT}),jT="ng",Fp=new K(""),ai=new K("",{providedIn:"platform",factory:()=>"unknown"});var Pp=new K("",{providedIn:"root",factory:()=>wc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function HT(){let t=new Qi;return k(ai)==="browser"&&(t.store=GT(wc(),k(zi))),t}var Qi=(()=>{class t{static \u0275prov=oe({token:t,providedIn:"root",factory:HT});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function GT(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var lw="h",uw="b",$T="f",zT="n",WT="e",qT="t",Lp="c",cw="x",Qu="r",YT="i",ZT="n",dw="d";var XT="di",QT="s",KT="p";var _u=new K(""),fw=!1,hw=new K("",{providedIn:"root",factory:()=>fw});var pw=new K(""),JT=!1,eI=new K(""),py=new K("",{providedIn:"root",factory:()=>new Map}),Vp=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Vp||{}),ps=new K("");var qo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(qo||{}),gw=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}return t})(),tI=[qo.EarlyRead,qo.Write,qo.MixedReadWrite,qo.Read],nI=(()=>{class t{ngZone=k(mt);scheduler=k(os);errorHandler=k(Nr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){k(ps,{optional:!0})}execute(){this.executing=!0;for(let n of tI)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[n]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>r.hooks[n](r.pipelinedValue),r.snapshot))}catch(i){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(7))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Vp.AFTER_NEXT_RENDER,n):n()}static \u0275prov=oe({token:t,providedIn:"root",factory:()=>new t})}return t})(),Ph=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o=null){this.impl=e,this.hooks=n,this.once=r,this.snapshot=o,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Up(t,e){!e?.injector&&AM(Up);let n=e?.injector??k(Jt);return hr("NgAfterNextRender"),iI(t,n,e,!0)}function rI(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function iI(t,e,n,r){let i=e.get(gw);i.impl??=e.get(nI);let o=e.get(ps,null,{optional:!0}),s=n?.phase??qo.MixedReadWrite,a=n?.manualCleanup!==!0?e.get(Ma):null,l=new Ph(i.impl,rI(t,s),r,a,o?.snapshot(null));return i.impl.register(l),l}var ln=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(ln||{}),gy=0,oI=1,Tt=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(Tt||{});var sI=0,Bp=1;var aI=4,lI=5;var uI=7,Jo=8,cI=9,mw=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(mw||{});function ku(t,e){let n=fI(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function dI(t){ku(1,t),ku(0,t),ku(2,t)}function fI(t){let e=aI;return t===1?e=lI:t===2&&(e=cI),e}function vw(t){return t+1}function Cc(t,e){let n=t[fe],r=vw(e.index);return t[r]}function Ec(t,e){let n=vw(e.index);return t.data[n]}function hI(t,e,n){let r=e[fe],i=Ec(r,n);switch(t){case Tt.Complete:return i.primaryTmplIndex;case Tt.Loading:return i.loadingTmplIndex;case Tt.Error:return i.errorTmplIndex;case Tt.Placeholder:return i.placeholderTmplIndex;default:return null}}function my(t,e){return e===Tt.Placeholder?t.placeholderBlockConfig?.[gy]??null:e===Tt.Loading?t.loadingBlockConfig?.[gy]??null:null}function pI(t){return t.loadingBlockConfig?.[oI]??null}function vy(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function gI(t,e){let n=e.primaryTmplIndex+Rt;return hc(t,n)}var Dc="ngb";var mI=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},vI=(t,e)=>{let n=t.getAttribute(Dc)??"",r=t,i=e.get(n)??new Set;i.has(r)||i.add(r),e.set(n,i)};var yI=t=>{t.removeAttribute(Zf.JSACTION),t.removeAttribute(Dc),t.__jsaction_fns=void 0},bI=new K("",{providedIn:"root",factory:()=>({})});function yw(t,e){let n=e?.__jsaction_fns?.get(t.type);if(n)for(let r of n)r(t)}var bw=new K("");var wI="__nghData__",ww=wI,CI="__nghDeferData__",EI=CI,ah="ngh",DI="nghm",Cw=()=>null;function xI(t,e,n=!1){let r=t.getAttribute(ah);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,l={};if(r!==""){let c=e.get(Qi,null,{optional:!0});c!==null&&(l=c.get(ww,[])[Number(r)])}let u={data:l,firstChild:t.firstChild??null};return n&&(u.firstChild=t,xc(u,0,t.nextSibling)),a?t.setAttribute(ah,a):t.removeAttribute(ah),u}function _I(){Cw=xI}function Ew(t,e,n=!1){return Cw(t,e,n)}function SI(t){let e=t._lView;return e[fe].type===2?null:(ya(e)&&(e=e[Rt]),e)}function MI(t){return t.textContent?.replace(/\s/gm,"")}function TI(t){let e=wc(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=MI(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function xc(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Lh(t,e){return t.segmentHeads?.[e]??null}function II(t){return t.get(eI,!1,{optional:!0})}function AI(t,e){let n=t.data,r=n[WT]?.[e]??null;return r===null&&n[Lp]?.[e]&&(r=jp(t,e)),r}function Dw(t,e){return t.data[Lp]?.[e]??null}function jp(t,e){let n=Dw(t,e)??[],r=0;for(let i of n)r+=i[Qu]*(i[cw]??1);return r}function NI(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[dw];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function Ta(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[dw];t.disconnectedNodes=n?new Set(n):null}return!!NI(t)?.has(e)}function RI(t,e){let n=e.get(bw),i=e.get(Qi).get(EI,{}),o=!1,s=t,a=null,l=[];for(;!o&&s;){o=n.has(s);let u=n.hydrating.get(s);if(a===null&&u!=null){a=u.promise;break}l.unshift(s),s=i[s][KT]}return{parentBlockPromise:a,hydrationQueue:l}}function xw(t,e){let n=t.contentQueries;if(n!==null){let r=ke(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];Mp(o),a.contentQueries(2,e[s],s)}}}finally{ke(r)}}}function Vh(t,e,n){Mp(0);let r=ke(null);try{e(t,n)}finally{ke(r)}}function _w(t,e,n){if(fb(e)){let r=ke(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{ke(r)}}}var ur=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ur||{});var Uh=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${W1})`}};function Hp(t){return t instanceof Uh?t.changingThisBreaksApplicationSecurity:t}var kI=/^>|^->|<!--|-->|--!>|<!-$/g,OI=/(<|>)/g,FI="\u200B$1\u200B";function PI(t){return t.replace(kI,e=>e.replace(OI,FI))}function gs(t){return t.ownerDocument.defaultView}function Sw(t){return t.ownerDocument}function LI(t){return t.ownerDocument.body}function Mw(t){return t instanceof Function?t():t}var ti=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ti||{});function VI(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var Tw="ng-template";function UI(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&VI(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Gp(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Gp(t){return t.type===4&&t.value!==Tw}function BI(t,e,n){let r=t.type===4&&!n?Tw:t.value;return e===r}function jI(t,e,n){let r=4,i=t.attrs,o=i!==null?$I(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Hn(r)&&!Hn(l))return!1;if(s&&Hn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!BI(t,l,n)||l===""&&e.length===1){if(Hn(r))return!1;s=!0}}else if(r&8){if(i===null||!UI(t,i,l,n)){if(Hn(r))return!1;s=!0}}else{let u=e[++a],c=HI(l,i,Gp(t),n);if(c===-1){if(Hn(r))return!1;s=!0;continue}if(u!==""){let d;if(c>o?d="":d=i[c+1].toLowerCase(),r&2&&u!==d){if(Hn(r))return!1;s=!0}}}}return Hn(r)||s}function Hn(t){return(t&1)===0}function HI(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return zI(e,t)}function GI(t,e,n=!1){for(let r=0;r<e.length;r++)if(jI(t,e[r],n))return!0;return!1}function $I(t){for(let e=0;e<t.length;e++){let n=t[e];if(cT(n))return e}return t.length}function zI(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function yy(t,e){return t?":not("+e.trim()+")":e}function WI(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Hn(s)&&(e+=yy(o,i),i=""),r=s,o=o||!Hn(r);n++}return i!==""&&(e+=yy(o,i)),e}function qI(t){return t.map(WI).join(",")}function YI(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Hn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var li={};function Iw(t,e){return t.createText(e)}function ZI(t,e,n){t.setValue(e,n)}function Aw(t,e){return t.createComment(PI(e))}function $p(t,e,n){return t.createElement(e,n)}function Ku(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Nw(t,e,n){t.appendChild(e,n)}function by(t,e,n,r,i){r!==null?Ku(t,e,n,r,i):Nw(t,e,n)}function zp(t,e,n){t.removeChild(null,e,n)}function Rw(t){t.textContent=""}function XI(t,e,n){t.setAttribute(e,"style",n)}function QI(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function kw(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&uT(t,e,r),i!==null&&QI(t,e,i),o!==null&&XI(t,e,o)}function V(t=1){Ow(Bt(),Ge(),ds()+t,!1)}function Ow(t,e,n,r){if(!r)if((e[me]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Au(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Nu(e,o,0,n)}Gi(n)}function ye(t,e=Se.Default){let n=Ge();if(n===null)return Re(t,e);let r=In();return Gb(r,n,$t(t),e)}function Fw(t,e,n,r,i,o){let s=ke(null);try{let a=null;i&ti.SignalBased&&(a=e[r][on]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ti.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):hb(e,a,r,o)}finally{ke(s)}}function Wp(t,e,n,r,i,o,s,a,l,u,c){let d=e.blueprint.slice();return d[dn]=i,d[me]=r|4|128|8|64|1024,(u!==null||t&&t[me]&2048)&&(d[me]|=2048),bb(d),d[It]=d[us]=t,d[_n]=n,d[ei]=s||t&&t[ei],d[Je]=a||t&&t[Je],d[Jr]=l||t&&t[Jr]||null,d[Wn]=o,d[fc]=UT(),d[ar]=c,d[cb]=u,d[Sn]=e.type==2?t[Sn]:d,d}function Pw(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Lw(t,e,n,r,i){let o=ds(),s=r&2;try{Gi(-1),s&&e.length>Rt&&Ow(t,e,Rt,!1),xn(s?2:0,i),n(r,i)}finally{Gi(o),xn(s?3:1,i)}}function Vw(t,e,n){Db()&&(hs(Tn(n,e),e),Uw(t,e,n))}function Uw(t,e,n){uA(t,e,n),(n.flags&64)===64&&cA(t,e,n)}function Bw(t,e,n=Tn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function KI(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=qp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function qp(t,e,n,r,i,o,s,a,l,u,c){let d=Rt+r,f=d+i,h=JI(d,f),v=typeof u=="function"?u():u;return h[fe]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:c}}function JI(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:li);return n}function eA(t,e,n,r){let o=r.get(hw,fw)||n===ur.ShadowDom,s=t.selectRootElement(e,o);return tA(s),s}function tA(t){jw(t)}var jw=()=>null;function nA(t){tw(t)?Rw(t):TI(t)}function rA(){jw=nA}function wy(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=ti.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}t===0?Cy(r,n,u,a,l):Cy(r,n,u,a)}return r}function Cy(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function iA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,u=null;for(let c=r;c<i;c++){let d=o[c],f=n?n.get(d):null,h=f?f.inputs:null,v=f?f.outputs:null;l=wy(0,d.inputs,c,l,h),u=wy(1,d.outputs,c,u,v);let b=l!==null&&s!==null&&!Gp(e)?DA(l,c,s):null;a.push(b)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function oA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Yp(t,e,n,r,i,o,s,a){let l=Tn(e,n),u=e.inputs,c;!a&&u!=null&&(c=u[r])?(Xp(t,n,c,r,i),oi(e)&&sA(n,e.index)):e.type&3?(r=oA(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function sA(t,e){let n=lr(e,t);n[me]&16||(n[me]|=64)}function Hw(t,e,n,r){if(Db()){let i=r===null?null:{"":-1},o=fA(t,n);if(o!==null){let[s,a]=$w(t,n,o);Gw(t,e,n,s,i,a)}i&&pA(n,r,i)}n.mergedAttrs=is(n.mergedAttrs,n.attrs)}function Gw(t,e,n,r,i,o){for(let u=0;u<r.length;u++)Mh(qu(n,e),t,r[u].type);mA(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let c=r[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=Pw(t,e,r.length,null);for(let u=0;u<r.length;u++){let c=r[u];n.mergedAttrs=is(n.mergedAttrs,c.hostAttrs),vA(t,n,e,l,c),gA(l,c,i),c.contentQueries!==null&&(n.flags|=4),(c.hostBindings!==null||c.hostAttrs!==null||c.hostVars!==0)&&(n.flags|=64);let d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}iA(t,n,o)}function aA(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;lA(s)!=a&&s.push(a),s.push(n,r,o)}}function lA(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function uA(t,e,n){let r=n.directiveStart,i=n.directiveEnd;oi(n)&&bA(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||qu(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],l=ba(e,t,s,n);if(hs(l,e),o!==null&&EA(e,s-r,l,a,n,o),Ar(a)){let u=lr(n.index,e);u[_n]=ba(e,t,s,n)}}}function cA(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=JM();try{Gi(o);for(let a=r;a<i;a++){let l=t.data[a],u=e[a];_h(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&dA(l,u)}}finally{Gi(-1),_h(s)}}function dA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function fA(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];GI(e,o.selectors,!1)&&(r??=[],Ar(o)?r.unshift(o):r.push(o))}return r}function $w(t,e,n){let r=[],i=null;for(let o of n)o.findHostDirectiveDefs!==null&&(i??=new Map,o.findHostDirectiveDefs(o,r,i)),Ar(o)&&(r.push(o),hA(t,e,r.length-1));return oi(e)?r.push(...n.slice(1)):r.push(...n),[r,i]}function hA(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function pA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new Q(-301,!1);r.push(e[i],o)}}}function gA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ar(e)&&(n[""]=t)}}function mA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vA(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=es(i.type,!0)),s=new $i(o,Ar(i),ye);t.blueprint[r]=s,n[r]=s,aA(t,e,r,Pw(t,n,i.hostVars,li),i)}function yA(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function bA(t,e,n){let r=Tn(e,t),i=KI(n),o=t[ei].rendererFactory,s=Zp(t,Wp(t,i,null,yA(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function wA(t,e,n,r,i,o){let s=Tn(t,e);CA(e[Je],s,o,t.value,n,r,i)}function CA(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?gp(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function EA(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],c=s[a++],d=s[a++];Fw(r,n,l,u,c,d)}}function DA(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function zw(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Zp(t,e){return t[va]?t[J0][Gn]=e:t[va]=e,t[J0]=e,e}function _c(t,e){let n=t[Jr],r=n?n.get(Nr,null):null;r&&r.handleError(e)}function Xp(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],u=e[s],c=t.data[s];Fw(c,u,r,a,l,i)}}function xA(t,e){let n=lr(e,t),r=n[fe];_A(r,n);let i=n[dn];i!==null&&n[ar]===null&&(n[ar]=Ew(i,n[Jr])),Qp(r,n,n[_n])}function _A(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Qp(t,e,n){Tp(e);try{let r=t.viewQuery;r!==null&&Vh(1,r,n);let i=t.template;i!==null&&Lw(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Tr]?.finishViewCreation(t),t.staticContentQueries&&xw(t,e),t.staticViewQueries&&Vh(2,t.viewQuery,n);let o=t.components;o!==null&&SA(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[me]&=-5,Ip()}}function SA(t,e){for(let n=0;n<e.length;n++)xA(t,e[n])}var cr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(cr||{}),MA;function Kp(t,e){return MA(t,e)}function ms(t){return(t.flags&32)===32}function Yo(t,e,n,r,i){if(r!=null){let o,s=!1;dr(r)?o=r:$n(r)&&(s=!0,r=r[dn]);let a=zn(r);t===0&&n!==null?i==null?Nw(e,n,a):Ku(e,n,a,i||null,!0):t===1&&n!==null?Ku(e,n,a,i||null,!0):t===2?zp(e,a,s):t===3&&e.destroyNode(a),o!=null&&BA(e,t,o,n,i)}}function TA(t,e){Ww(t,e),e[dn]=null,e[Wn]=null}function IA(t,e,n,r,i,o){r[dn]=i,r[Wn]=e,Sc(t,r,n,1,i,o)}function Ww(t,e){e[ei].changeDetectionScheduler?.notify(10),Sc(t,e,e[Je],2,null,null)}function AA(t){let e=t[va];if(!e)return lh(t[fe],t);for(;e;){let n=null;if($n(e))n=e[va];else{let r=e[Kt];r&&(n=r)}if(!n){for(;e&&!e[Gn]&&e!==t;)$n(e)&&lh(e[fe],e),e=e[It];e===null&&(e=t),$n(e)&&lh(e[fe],e),n=e&&e[Gn]}e=n}}function NA(t,e,n,r){let i=Kt+r,o=n.length;r>0&&(n[i-1][Gn]=e),r<o-Kt?(e[Gn]=n[i],tb(n,Kt+r,e)):(n.push(e),e[Gn]=null),e[It]=n;let s=e[Bi];s!==null&&n!==s&&qw(s,e);let a=e[Tr];a!==null&&a.insertView(t),Dh(e),e[me]|=128}function qw(t,e){let n=t[rs],r=e[It];if($n(r))t[me]|=2;else{let i=r[It][Sn];e[Sn]!==i&&(t[me]|=2)}n===null?t[rs]=[e]:n.push(e)}function Jp(t,e){let n=t[rs],r=n.indexOf(e);n.splice(r,1)}function Ju(t,e){if(t.length<=Kt)return;let n=Kt+e,r=t[n];if(r){let i=r[Bi];i!==null&&i!==t&&Jp(i,r),e>0&&(t[n-1][Gn]=r[Gn]);let o=Uu(t,Kt+e);TA(r[fe],r);let s=o[Tr];s!==null&&s.detachView(o[fe]),r[It]=null,r[Gn]=null,r[me]&=-129}return r}function eg(t,e){if(cs(e))return;let n=e[Je];n.destroyNode&&Sc(t,e,n,3,null,null),AA(e)}function lh(t,e){if(cs(e))return;let n=ke(null);try{e[me]&=-129,e[me]|=256,e[un]&&Mf(e[un]),kA(t,e),RA(t,e),e[fe].type===1&&e[Je].destroy();let r=e[Bi];if(r!==null&&dr(e[It])){r!==e[It]&&Jp(r,e);let i=e[Tr];i!==null&&i.detachView(t)}Oh(e)}finally{ke(n)}}function RA(t,e){let n=t.cleanup,r=e[ju];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[ju]=null);let i=e[Xr];if(i!==null){e[Xr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Hu];if(o!==null){e[Hu]=null;for(let s of o)s.destroy()}}function kA(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof $i)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];xn(4,a,l);try{l.call(a)}finally{xn(5,a,l)}}else{xn(4,i,o);try{o.call(i)}finally{xn(5,i,o)}}}}}function OA(t,e,n){return FA(t,e.parent,n)}function FA(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[dn];if(oi(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===ur.None||i===ur.Emulated)return null}return Tn(r,n)}function PA(t,e,n){return VA(t,e,n)}function LA(t,e,n){return t.type&40?Tn(t,n):null}var VA=LA,Ey;function tg(t,e,n,r){let i=OA(t,r,e),o=e[Je],s=r.parent||e[Wn],a=PA(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)by(o,i,n[l],a,!1);else by(o,i,n,a,!1);Ey!==void 0&&Ey(o,r,e,n,i)}function ha(t,e){if(e!==null){let n=e.type;if(n&3)return Tn(e,t);if(n&4)return Bh(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return ha(t,r);{let i=t[e.index];return dr(i)?Bh(-1,i):zn(i)}}else{if(n&128)return ha(t,e.next);if(n&32)return Kp(e,t)()||zn(t[e.index]);{let r=Yw(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Hi(t[Sn]);return ha(i,r)}else return ha(t,e.next)}}}return null}function Yw(t,e){if(e!==null){let r=t[Sn][Wn],i=e.projection;return r.projection[i]}return null}function Bh(t,e){let n=Kt+t+1;if(n<e.length){let r=e[n],i=r[fe].firstChild;if(i!==null)return ha(r,i)}return e[Ir]}function ng(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&hs(zn(a),r),n.flags|=2),!ms(n))if(l&8)ng(t,e,n.child,r,i,o,!1),Yo(e,t,i,a,o);else if(l&32){let u=Kp(n,r),c;for(;c=u();)Yo(e,t,i,c,o);Yo(e,t,i,a,o)}else l&16?UA(t,e,r,n,i,o):Yo(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Sc(t,e,n,r,i,o){ng(n,r,t.firstChild,e,i,o,!1)}function UA(t,e,n,r,i,o){let s=n[Sn],l=s[Wn].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let c=l[u];Yo(e,t,i,c,o)}else{let u=l,c=s[It];Xu(r)&&(u.flags|=128),ng(t,e,u,c,i,o,!0)}}function BA(t,e,n,r,i){let o=n[Ir],s=zn(n);o!==s&&Yo(e,t,r,o,i);for(let a=Kt;a<n.length;a++){let l=n[a];Sc(l[fe],l,t,e,r,o)}}function jA(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:cr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=cr.Important),t.setStyle(n,r,i,o))}}function Zw(t,e,n,r){let i=ke(null);try{let o=e.tView,a=t[me]&4096?4096:16,l=Wp(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];l[Bi]=u;let c=t[Tr];return c!==null&&(l[Tr]=c.createEmbeddedView(o)),Qp(o,l,n),l}finally{ke(i)}}function jh(t,e){return!e||e.firstChild===null||Xu(t)}function Xw(t,e,n,r=!0){let i=e[fe];if(NA(i,e,t,n),r){let s=Bh(n,t),a=e[Je],l=a.parentNode(t[Ir]);l!==null&&IA(i,t[Wn],a,e,l,s)}let o=e[ar];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function HA(t,e){let n=Ju(t,e);return n!==void 0&&eg(n[fe],n),n}function ec(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(zn(o)),dr(o)&&GA(o,r);let s=n.type;if(s&8)ec(t,e,n.child,r);else if(s&32){let a=Kp(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=Yw(e,n);if(Array.isArray(a))r.push(...a);else{let l=Hi(e[Sn]);ec(l[fe],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function GA(t,e){for(let n=Kt;n<t.length;n++){let r=t[n],i=r[fe].firstChild;i!==null&&ec(r[fe],r,i,e)}t[Ir]!==t[dn]&&e.push(t[Ir])}var Qw=[];function $A(t){return t[un]??zA(t)}function zA(t){let e=Qw.pop()??Object.create(qA);return e.lView=t,e}function WA(t){t.lView[un]!==t&&(t.lView=null,Qw.push(t))}var qA=De(L({},la),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{gc(t.lView)},consumerOnSignalRead(){this.lView[un]=this}});function YA(t){let e=t[un]??Object.create(ZA);return e.lView=t,e}var ZA=De(L({},la),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Hi(t.lView);for(;e&&!Kw(e[fe]);)e=Hi(e);e&&Sp(e)},consumerOnSignalRead(){this.lView[un]=this}});function Kw(t){return t.type!==2}function Jw(t){if(t[Hu]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[Hu])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[me]&8192)}}var XA=100;function eC(t,e=!0,n=0){let i=t[ei].rendererFactory,o=!1;o||i.begin?.();try{QA(t,n)}catch(s){throw e&&_c(t,s),s}finally{o||i.end?.()}}function QA(t,e){let n=Sb();try{ty(!0),Hh(t,e);let r=0;for(;pc(t);){if(r===XA)throw new Q(103,!1);r++,Hh(t,1)}}finally{ty(n)}}function KA(t,e,n,r){if(cs(e))return;let i=e[me],o=!1,s=!1;Tp(e);let a=!0,l=null,u=null;o||(Kw(t)?(u=$A(e),l=zl(u)):Wv()===null?(a=!1,u=YA(e),l=zl(u)):e[un]&&(Mf(e[un]),e[un]=null));try{bb(e),ZM(t.bindingStartIndex),n!==null&&Lw(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let h=t.preOrderCheckHooks;h!==null&&Au(e,h,null)}else{let h=t.preOrderHooks;h!==null&&Nu(e,h,0,null),ih(e,0)}if(s||JA(e),Jw(e),tC(e,0),t.contentQueries!==null&&xw(t,e),!o)if(c){let h=t.contentCheckHooks;h!==null&&Au(e,h)}else{let h=t.contentHooks;h!==null&&Nu(e,h,1),ih(e,1)}tN(t,e);let d=t.components;d!==null&&rC(e,d,0);let f=t.viewQuery;if(f!==null&&Vh(2,f,r),!o)if(c){let h=t.viewCheckHooks;h!==null&&Au(e,h)}else{let h=t.viewHooks;h!==null&&Nu(e,h,2),ih(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[rh]){for(let h of e[rh])h();e[rh]=null}o||(e[me]&=-73)}catch(c){throw o||gc(e),c}finally{u!==null&&(_f(u,l),a&&WA(u)),Ip()}}function tC(t,e){for(let n=iw(t);n!==null;n=ow(n))for(let r=Kt;r<n.length;r++){let i=n[r];nC(i,e)}}function JA(t){for(let e=iw(t);e!==null;e=ow(e)){if(!(e[me]&2))continue;let n=e[rs];for(let r=0;r<n.length;r++){let i=n[r];Sp(i)}}}function eN(t,e,n){let r=lr(e,t);nC(r,n)}function nC(t,e){_p(t)&&Hh(t,e)}function Hh(t,e){let r=t[fe],i=t[me],o=t[un],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Sf(o)),s||=!1,o&&(o.dirty=!1),t[me]&=-9217,s)KA(r,t,r.template,t[_n]);else if(i&8192){Jw(t),tC(t,1);let a=r.components;a!==null&&rC(t,a,1)}}function rC(t,e,n){for(let r=0;r<e.length;r++)eN(t,e[r],n)}function tN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Gi(~i);else{let o=i,s=n[++r],a=n[++r];KM(s,o);let l=e[o];xn(24,l),a(2,l),xn(25,l)}}}finally{Gi(-1)}}function Mc(t,e){let n=Sb()?64:1088;for(t[ei].changeDetectionScheduler?.notify(e);t;){t[me]|=n;let r=Hi(t);if(ya(t)&&!r)return t;t=r}return null}var Wi=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[fe];return ec(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[_n]}get dirty(){return!!(this._lView[me]&9280)||!!this._lView[un]?.dirty}set context(e){this._lView[_n]=e}get destroyed(){return cs(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[It];if(dr(e)){let n=e[Gu],r=n?n.indexOf(this):-1;r>-1&&(Ju(e,r),Uu(n,r))}this._attachedToViewContainer=!1}eg(this._lView[fe],this._lView)}onDestroy(e){wb(this._lView,e)}markForCheck(){Mc(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Sp(this._cdRefInjectingView||this._lView)}detach(){this._lView[me]&=-129}reattach(){Dh(this._lView),this._lView[me]|=128}detectChanges(){this._lView[me]|=1024,eC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=ya(this._lView),n=this._lView[Bi];n!==null&&!e&&Jp(n,this._lView),Ww(this._lView[fe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let n=ya(this._lView),r=this._lView[Bi];r!==null&&!n&&qw(r,this._lView),Dh(this._lView)}},qi=(()=>{class t{static __NG_ELEMENT_ID__=iN}return t})(),nN=qi,rN=class extends nN{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=Zw(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Wi(i)}};function iN(){return rg(In(),Ge())}function rg(t,e){return t.type&4?new rN(e,t,fs(t,e)):null}function Tc(t,e,n,r,i){let o=t.data[e];if(o===null)o=oN(t,e,n,r,i),QM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=qM();o.injectorIndex=s===null?-1:s.injectorIndex}return Sa(o,!0),o}function oN(t,e,n,r,i){let o=xb(),s=_b(),a=s?o:o&&o.parent,l=t.data[e]=aN(t,a,n,e,r,i);return sN(t,l,o,s),l}function sN(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function aN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return _a()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var lN=new RegExp(`^(\\d+)*(${uw}|${lw})*(.*)`);function uN(t){let e=t.match(lN),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[l,u,c]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(c,10)||1;a.push(u,d)}return[s,...a]}function cN(t){return!t.prev&&t.parent?.type===8}function uh(t){return t.index-Rt}function dN(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Ic(t,e,n,r){let i=uh(r),o=dN(t,i);if(o===void 0){let s=t.data[ZT];if(s?.[i])o=hN(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,l=r.prev??r.parent;if(cN(r)){let u=uh(r.parent);o=Lh(t,u)}else{let u=Tn(l,n);if(a)o=u.firstChild;else{let c=uh(l),d=Lh(t,c);if(l.type===2&&d){let h=jp(t,c)+1;o=Ac(h,d)}else o=u.nextSibling}}}}return o}function Ac(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function fN(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case $T:n=n.firstChild;break;case zT:n=n.nextSibling;break}}return n}function hN(t,e){let[n,...r]=uN(t),i;if(n===lw)i=e[Sn][dn];else if(n===uw)i=LI(e[Sn][dn]);else{let o=Number(n);i=zn(e[o+Rt])}return fN(i,r)}var pN=!1;function gN(t){pN=t}function mN(t){let e=t[ar];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[Je];for(let o of r.values())vN(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function vN(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-Rt);i&&zp(t,i,!1)}}function iC(t){let e=t[ji]??[],r=t[It][Je],i=[];for(let o of e)o.data[XT]!==void 0?i.push(o):yN(o,r);t[ji]=i}function yN(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Qu];for(;n<i;){let o=r.nextSibling;zp(e,r,!1),r=o,n++}}}function ig(t){iC(t);let e=t[dn];$n(e)&&tc(e);for(let n=Kt;n<t.length;n++)tc(t[n])}function tc(t){mN(t);let e=t[fe];for(let n=Rt;n<e.bindingStartIndex;n++)if(dr(t[n])){let r=t[n];ig(r)}else $n(t[n])&&tc(t[n])}function oC(t){let e=t._views;for(let n of e){let r=SI(n);r!==null&&r[dn]!==null&&($n(r)?tc(r):ig(r))}}function bN(t,e,n,r){t!==null&&(n.cleanup(e),ig(t.lContainer),oC(r))}function wN(t,e){let n=[];for(let r of e)for(let i=0;i<(r[cw]??1);i++){let o={data:r,firstChild:null};r[Qu]>0&&(o.firstChild=t,t=Ac(r[Qu],t)),n.push(o)}return[t,n]}var sC=()=>null;function CN(t,e){let n=t[ji];return!e||n===null||n.length===0?null:n[0].data[YT]===e?n.shift():(iC(t),null)}function EN(){sC=CN}function Dy(t,e){return sC(t,e)}var Gh=class{},nc=class{},$h=class{resolveComponentFactory(e){throw Error(`No component factory found for ${zt(e)}.`)}},ss=class{static NULL=new $h},as=class{},hn=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>DN()}return t})();function DN(){let t=Ge(),e=In(),n=lr(e.index,t);return($n(n)?n:t)[Je]}var xN=(()=>{class t{static \u0275prov=oe({token:t,providedIn:"root",factory:()=>null})}return t})();function zh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=q0(i,a);else if(o==2){let l=a,u=e[++s];r=q0(r,l+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var rc=class extends ss{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Kr(e);return new wa(n,this.ngModule)}};function xy(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:ti.None;e?n.push({propName:s,templateName:r,isSignal:(a&ti.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function _N(t){let e=t.toLowerCase();return e==="svg"?vb:e==="math"?FM:null}var wa=class extends nc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,n=e.inputTransforms,r=xy(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return xy(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=qI(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){let o=ke(null);try{i=i||this.ngModule;let s=i instanceof cn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Ko(e,s):e,l=a.get(as,null);if(l===null)throw new Q(407,!1);let u=a.get(xN,null),c=a.get(os,null),d={rendererFactory:l,sanitizer:u,changeDetectionScheduler:c},f=l.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",v=r?eA(f,r,this.componentDef.encapsulation,a):$p(f,h,_N(h)),b=512;this.componentDef.signals?b|=4096:this.componentDef.onPush||(b|=16);let E=null;v!==null&&(E=Ew(v,a,!0));let C=qp(0,null,null,1,0,null,null,null,null,null,null),T=Wp(null,C,null,b,null,null,d,f,a,null,E);T[Rt]=v,Tp(T);let M=null;try{let F=r?["ng-version","19.1.4"]:YI(this.componentDef.selectors[0]),A=Tc(C,Rt,2,"#host",F),[G,B]=$w(C,A,[this.componentDef]);Gw(C,T,A,G,{},B);for(let O of G)A.mergedAttrs=is(A.mergedAttrs,O.hostAttrs);A.mergedAttrs=is(A.mergedAttrs,F),zh(A,A.mergedAttrs,!0),v&&(kw(f,v,A),hs(v,T)),n!==void 0&&SN(A,this.ngContentSelectors,n),Uw(C,T,A),_w(C,A,T),Np(C,A),M=lr(A.index,T),T[_n]=M[_n],Qp(C,T,null)}catch(F){throw M!==null&&Oh(M),Oh(T),F}finally{Ip()}return new Wh(this.componentType,T)}finally{ke(o)}}},Wh=class extends Gh{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=hc(n[fe],Rt),this.location=fs(this._tNode,n),this.instance=lr(this._tNode.index,n)[_n],this.hostView=this.changeDetectorRef=new Wi(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Xp(o[fe],o,i,e,n),this.previousInputValues.set(e,n);let s=lr(this._tNode.index,o);Mc(s,1)}}get injector(){return new Ui(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function SN(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ui=(()=>{class t{static __NG_ELEMENT_ID__=MN}return t})();function MN(){let t=In();return lC(t,Ge())}var TN=ui,aC=class extends TN{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return fs(this._hostTNode,this._hostLView)}get injector(){return new Ui(this._hostTNode,this._hostLView)}get parentInjector(){let e=Rp(this._hostTNode,this._hostLView);if(Lb(e)){let n=Wu(e,this._hostLView),r=zu(e),i=n[fe].data[r+8];return new Ui(i,n)}else return new Ui(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=_y(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Kt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Dy(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,jh(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!NM(e),a;if(s)a=n;else{let v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let l=s?e:new wa(Kr(e)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let b=(s?u:this.parentInjector).get(cn,null);b&&(o=b)}let c=Kr(l.componentType??{}),d=Dy(this._lContainer,c?.id??null),f=d?.firstChild??null,h=l.create(u,i,f,o);return this.insertImpl(h.hostView,a,jh(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(LM(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[It],u=new aC(l,l[Wn],l[It]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return Xw(s,i,o,r),e.attachToViewContainerRef(),tb(ch(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=_y(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ju(this._lContainer,n);r&&(Uu(ch(this._lContainer),n),eg(r[fe],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ju(this._lContainer,n);return r&&Uu(ch(this._lContainer),n)!=null?new Wi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function _y(t){return t[Gu]}function ch(t){return t[Gu]||(t[Gu]=[])}function lC(t,e){let n,r=e[t.index];return dr(r)?n=r:(n=zw(r,e,null,t),e[t.index]=n,Zp(e,n)),uC(n,e,t,r),new aC(n,t,e)}function IN(t,e){let n=t[Je],r=n.createComment(""),i=Tn(e,t),o=n.parentNode(i);return Ku(n,o,r,n.nextSibling(i),!1),r}var uC=cC,og=()=>!1;function AN(t,e,n){return og(t,e,n)}function cC(t,e,n,r){if(t[Ir])return;let i;n.type&8?i=zn(r):i=IN(e,n),t[Ir]=i}function NN(t,e,n){if(t[Ir]&&t[ji])return!0;let r=n[ar],i=e.index-Rt;if(!r||LT(e)||Ta(r,i))return!1;let s=Lh(r,i),a=r.data[Lp]?.[i],[l,u]=wN(s,a);return t[Ir]=l,t[ji]=u,!0}function RN(t,e,n,r){og(t,n,e)||cC(t,e,n,r)}function kN(){uC=RN,og=NN}var qh=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Yh=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)sg(e,n).matches!==null&&this.queries[n].setDirty()}},Zh=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=jN(e):this.predicate=e}},Xh=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Qh=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,ON(n,o)),this.matchTNodeWithReadOption(e,n,Ru(n,e,o,!1,!1))}else r===qi?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Ru(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Wt||i===ui||i===qi&&n.type&4)this.addMatch(n.index,-2);else{let o=Ru(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function ON(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function FN(t,e){return t.type&11?fs(t,e):t.type&4?rg(t,e):null}function PN(t,e,n,r){return n===-1?FN(e,t):n===-2?LN(t,e,r):ba(t,t[fe],n,e)}function LN(t,e,n){if(n===Wt)return fs(e,t);if(n===qi)return rg(e,t);if(n===ui)return lC(e,t)}function dC(t,e,n,r){let i=e[Tr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let c=o[u];a.push(PN(e,c,s[l+1],n.metadata.read))}}i.matches=a}return i.matches}function Kh(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=dC(t,e,i,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let u=o[a+1],c=e[-l];for(let d=Kt;d<c.length;d++){let f=c[d];f[Bi]===f[It]&&Kh(f[fe],f,u,r)}if(c[rs]!==null){let d=c[rs];for(let f=0;f<d.length;f++){let h=d[f];Kh(h[fe],h,u,r)}}}}}return r}function VN(t,e){return t[Tr].queries[e].queryList}function UN(t,e,n){let r=new kh((n&4)===4);return BM(t,e,r,r.destroy),(e[Tr]??=new Yh).queries.push(new qh(r))-1}function BN(t,e,n){let r=Bt();return r.firstCreatePass&&(HN(r,new Zh(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),UN(r,Ge(),e)}function jN(t){return t.split(",").map(e=>e.trim())}function HN(t,e,n){t.queries===null&&(t.queries=new Xh),t.queries.track(new Qh(e,n))}function sg(t,e){return t.queries.getByIndex(e)}function GN(t,e){let n=t[fe],r=sg(n,e);return r.crossesNgTemplate?Kh(n,t,e,[]):dC(n,t,r,e)}var ni=class{},Ca=class{};var Jh=class extends ni{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new rc(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=ib(e);this._bootstrapComponents=Mw(o.bootstrap),this._r3Injector=Wb(e,n,[{provide:ni,useValue:this},{provide:ss,useValue:this.componentFactoryResolver},...r],zt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ep=class extends Ca{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Jh(this.moduleType,e,[])}};var ic=class extends ni{injector;componentFactoryResolver=new rc(this);instance=null;constructor(e){super();let n=new ma([...e.providers,{provide:ni,useValue:this},{provide:ss,useValue:this.componentFactoryResolver}],e.parent||Dp(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Nc(t,e,n=null){return new ic({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var $N=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Cp(!1,n.type),i=r.length>0?Nc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=oe({token:t,providedIn:"environment",factory:()=>new t(Re(cn))})}return t})();function We(t){return Da(()=>{let e=fC(t),n=De(L({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===nw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get($N).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ur.Emulated,styles:t.styles||Dn,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&hr("NgStandalone"),hC(n);let r=t.dependencies;return n.directiveDefs=My(r,!1),n.pipeDefs=My(r,!0),n.id=qN(n),n})}function zN(t){return Kr(t)||bp(t)}function WN(t){return t!==null}function ci(t){return Da(()=>({type:t.type,bootstrap:t.bootstrap||Dn,declarations:t.declarations||Dn,imports:t.imports||Dn,exports:t.exports||Dn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Sy(t,e){if(t==null)return ts;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ti.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ti.None?[r,a]:r,e[o]=s):n[o]=r}return n}function ot(t){return Da(()=>{let e=fC(t);return hC(e),e})}function fC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ts,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||Dn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Sy(t.inputs,e),outputs:Sy(t.outputs),debugInfo:null}}function hC(t){t.features?.forEach(e=>e(t))}function My(t,e){if(!t)return null;let n=e?wp:zN;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(WN)}function qN(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function YN(t){return Object.getPrototypeOf(t.prototype).constructor}function tn(t){let e=YN(t.type),n=!0,r=[t];for(;e;){let i;if(Ar(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Su(t.inputs),s.inputTransforms=Su(t.inputTransforms),s.declaredInputs=Su(t.declaredInputs),s.outputs=Su(t.outputs);let a=i.hostBindings;a&&JN(t,a);let l=i.viewQuery,u=i.contentQueries;if(l&&QN(t,l),u&&KN(t,u),ZN(t,i),Z1(t.outputs,i.outputs),Ar(i)&&i.data.animation){let c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===tn&&(n=!1)}}e=Object.getPrototypeOf(e)}XN(r)}function ZN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function XN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=is(i.hostAttrs,n=is(n,i.hostAttrs))}}function Su(t){return t===ts?{}:t===Dn?[]:t}function QN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function KN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function JN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function pC(t){return ag(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function eR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function ag(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function gC(t,e,n){return t[e]=n}function ri(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function tR(t,e,n,r){let i=ri(t,e,n);return ri(t,e+1,r)||i}function nR(t,e,n,r,i,o,s,a,l){let u=e.consts,c=Tc(e,t,4,s||null,a||null);Hw(e,n,c,$u(u,l)),Np(e,c);let d=c.tView=qp(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}function rR(t,e,n,r,i,o,s,a,l,u){let c=n+Rt,d=e.firstCreatePass?nR(c,e,t,r,i,o,s,a,l):e.data[c];Sa(d,!1);let f=mC(e,t,d,n);Ap()&&tg(e,t,f,d),hs(f,t);let h=zw(f,t,f,d);return t[c]=h,Zp(t,h),AN(h,d,t),xp(d)&&Vw(e,t,d),l!=null&&Bw(t,d,u),d}function pr(t,e,n,r,i,o,s,a){let l=Ge(),u=Bt(),c=$u(u.consts,o);return rR(l,u,t,e,n,r,i,c,s,a),pr}var mC=vC;function vC(t,e,n,r){return si(!0),e[Je].createComment("")}function iR(t,e,n,r){let i=e[ar],o=!i||_a()||ms(n)||Ta(i,r);if(si(o),o)return vC(t,e,n,r);let s=i.data[qT]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Ic(i,t,e,n);xc(i,r,a);let l=jp(i,r);return Ac(l,a)}function oR(){mC=iR}var sR=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?Nc(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=oe({token:t,providedIn:"environment",factory:()=>new t})}return t})();var aR=new K("");function dh(t,e,n){return t.get(sR).getOrCreateInjector(e,t,n,"")}function lR(t,e,n){if(t instanceof Ko){let i=t.injector,o=t.parentInjector,s=dh(o,e,n);return new Ko(i,s)}let r=t.get(cn);if(r!==t){let i=dh(r,e,n);return new Ko(t,i)}return dh(t,e,n)}function Zo(t,e,n,r=!1){let i=n[It],o=i[fe];if(cs(i))return;let s=Cc(i,e),a=s[Bp],l=s[uI];if(!(l!==null&&t<l)&&Ty(a,t)&&Ty(s[sI]??-1,t)){let u=Ec(o,e),d=!r&&!0&&(pI(u)!==null||my(u,Tt.Loading)!==null||my(u,Tt.Placeholder))?dR:cR;try{d(t,s,n,e,i)}catch(f){_c(i,f)}}}function uR(t,e){return t[ji]?.find(n=>n.data[QT]===e[Bp])??null}function cR(t,e,n,r,i){let o=hI(t,i,r);if(o!==null){e[Bp]=t;let s=i[fe],a=o+Rt,l=hc(s,a),u=0;HA(n,u);let c;if(t===Tt.Complete){let h=Ec(s,r),v=h.providers;v&&v.length>0&&(c=lR(i[Jr],h,v))}let d=uR(n,e);n[ji]=null;let f=Zw(i,l,null,{injector:c,dehydratedView:d});if(Xw(n,f,u,jh(l,d)),Mc(f,2),(t===Tt.Complete||t===Tt.Error)&&Array.isArray(e[Jo])){for(let h of e[Jo])h();e[Jo]=null}}}function Ty(t,e){return t<e}function Iy(t,e,n){t.loadingPromise.then(()=>{t.loadingState===ln.COMPLETE?Zo(Tt.Complete,e,n):t.loadingState===ln.FAILED&&Zo(Tt.Error,e,n)})}var dR=null;var lg=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var yC=new K("");function Ki(t){return!!t&&typeof t.then=="function"}function bC(t){return!!t&&typeof t.subscribe=="function"}var wC=new K("");var CC=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=k(wC,{optional:!0})??[];injector=k(Jt);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Mn(this.injector,i);if(Ki(o))n.push(o);else if(bC(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),fR=(()=>{class t{static \u0275prov=oe({token:t,providedIn:"root",factory:()=>new tp})}return t})(),tp=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},Ji=new K("");function hR(){n0(()=>{throw new Q(600,!1)})}function pR(t){return t.isBoundToModule}var gR=10;function mR(t,e,n){try{let r=n();return Ki(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var en=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=k(TT);afterRenderManager=k(gw);zonelessEnabled=k(yc);rootEffectScheduler=k(fR);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Et;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=k(Rr).hasPendingTasks.pipe(Ie(n=>!n));constructor(){k(ps,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=k(cn);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let i=n instanceof nc;if(!this._injector.get(CC).done){let f=!i&&ob(n),h=!1;throw new Q(405,h)}let s;i?s=n:s=this._injector.get(ss).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=pR(s)?void 0:this._injector.get(ni),l=r||s.selector,u=s.create(Jt.NULL,[],l,a),c=u.location.nativeElement,d=u.injector.get(yC,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Ou(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(Vp.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new Q(101,!1);let n=ke(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ke(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(as,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<gR;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)vR(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>pc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ou(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(Ji,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ou(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Q(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ou(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vR(t,e,n,r){if(!n&&!pc(t))return;eC(t,e,n&&!r?0:1)}function yR(t,e,n){let r=e[Jr],i=e[fe];if(t.loadingState!==ln.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=Cc(e,n),s=gI(i,t);t.loadingState=ln.IN_PROGRESS,ku(1,o);let a=t.dependencyResolverFn,l=r.get(Rr),u=l.add();return a?(t.loadingPromise=Promise.allSettled(a()).then(c=>{let d=!1,f=[],h=[];for(let v of c)if(v.status==="fulfilled"){let b=v.value,E=Kr(b)||bp(b);if(E)f.push(E);else{let C=wp(b);C&&h.push(C)}}else{d=!0;break}if(t.loadingPromise=null,l.remove(u),d){if(t.loadingState=ln.FAILED,t.errorTmplIndex===null){let v="",b=new Q(-750,!1);_c(e,b)}}else{t.loadingState=ln.COMPLETE;let v=s.tView;if(f.length>0){v.directiveRegistry=vy(v.directiveRegistry,f);let b=f.map(C=>C.type),E=Cp(!1,...b);t.providers=E}h.length>0&&(v.pipeRegistry=vy(v.pipeRegistry,h))}}),t.loadingPromise):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=ln.COMPLETE,l.remove(u)}),t.loadingPromise)}function bR(t,e){return e[Jr].get(aR,null,{optional:!0})?.behavior!==mw.Manual}function wR(t,e,n){let r=e[fe],i=e[n.index];if(!bR(t,e))return;let o=Cc(e,n),s=Ec(r,n);switch(dI(o),s.loadingState){case ln.NOT_STARTED:Zo(Tt.Loading,n,i),yR(s,e,n),s.loadingState===ln.IN_PROGRESS&&Iy(s,n,i);break;case ln.IN_PROGRESS:Zo(Tt.Loading,n,i),Iy(s,n,i);break;case ln.COMPLETE:Zo(Tt.Complete,n,i);break;case ln.FAILED:Zo(Tt.Error,n,i);break;default:}}function CR(t,e,n){return sa(this,null,function*(){let r=t.get(bw),i=r.hydrating;if(i.has(e))return;let{parentBlockPromise:o,hydrationQueue:s}=RI(e,t);ER(r,s);let a=t.get(Rr),l=a.add();o!==null&&(yield o);for(let u of s)yield xR(u,r),yield DR(t),i.get(u).resolve();yield i.get(e)?.promise,a.remove(l),n&&n(s),bN(r.get(e),s,r,t.get(en))})}function ER(t,e){for(let n of e)t.hydrating.set(n,Promise.withResolvers())}function DR(t){return new Promise(e=>Up(e,{injector:t}))}function xR(t,e){return sa(this,null,function*(){let n=e.get(t);if(n===null)return;let{tNode:r,lView:i}=n,o=Cc(i,r);return new Promise(s=>{_R(o,s),wR(2,i,r)})})}function _R(t,e){Array.isArray(t[Jo])||(t[Jo]=[]),t[Jo].push(e)}function eo(t,e,n,r){let i=Ge(),o=mc();if(ri(i,o,e)){let s=Bt(),a=vc();wA(a,i,t,e,n,r)}return eo}function EC(t,e,n,r){return ri(t,mc(),n)?e+gp(n)+r:li}function Mu(t,e){return t<<17|e<<2}function Yi(t){return t>>17&32767}function SR(t){return(t&2)==2}function MR(t,e){return t&131071|e<<17}function np(t){return t|2}function ls(t){return(t&131068)>>2}function fh(t,e){return t&-131069|e<<2}function TR(t){return(t&1)===1}function rp(t){return t|1}function IR(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Yi(s),l=ls(s);t[r]=n;let u=!1,c;if(Array.isArray(n)){let d=n;c=d[1],(c===null||xa(d,c)>0)&&(u=!0)}else c=n;if(i)if(l!==0){let f=Yi(t[a+1]);t[r+1]=Mu(f,a),f!==0&&(t[f+1]=fh(t[f+1],r)),t[a+1]=MR(t[a+1],r)}else t[r+1]=Mu(a,0),a!==0&&(t[a+1]=fh(t[a+1],r)),a=r;else t[r+1]=Mu(l,0),a===0?a=r:t[l+1]=fh(t[l+1],r),l=r;u&&(t[r+1]=np(t[r+1])),Ay(t,c,r,!0),Ay(t,c,r,!1),AR(e,c,t,r,o),s=Mu(a,l),o?e.classBindings=s:e.styleBindings=s}function AR(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&xa(o,e)>=0&&(n[r+1]=rp(n[r+1]))}function Ay(t,e,n,r){let i=t[n+1],o=e===null,s=r?Yi(i):ls(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],u=t[s+1];NR(l,e)&&(a=!0,t[s+1]=r?rp(u):np(u)),s=r?Yi(u):ls(u)}a&&(t[n+1]=r?np(i):rp(i))}function NR(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?xa(t,e)>=0:!1}function Me(t,e,n){let r=Ge(),i=mc();if(ri(r,i,e)){let o=Bt(),s=vc();Yp(o,s,r,t,e,r[Je],n,!1)}return Me}function Ny(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Xp(t,n,o[s],s,r)}function nt(t,e){return RR(t,e,null,!0),nt}function RR(t,e,n,r){let i=Ge(),o=Bt(),s=XM(2);if(o.firstUpdatePass&&OR(o,t,s,r),e!==li&&ri(i,s,e)){let a=o.data[ds()];UR(o,a,i,i[Je],t,i[s+1]=BR(e,n),r,s)}}function kR(t,e){return e>=t.expandoStartIndex}function OR(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[ds()],s=kR(t,n);jR(o,r)&&e===null&&!s&&(e=!1),e=FR(i,o,e,r),IR(i,o,e,n,s,r)}}function FR(t,e,n,r){let i=eT(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=hh(null,t,e,n,r),n=Ea(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=hh(i,t,e,n,r),o===null){let l=PR(t,e,r);l!==void 0&&Array.isArray(l)&&(l=hh(null,t,e,l[1],r),l=Ea(l,e.attrs,r),LR(t,e,r,l))}else o=VR(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function PR(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ls(r)!==0)return t[Yi(r)]}function LR(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Yi(i)]=r}function VR(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ea(r,s,n)}return Ea(r,e.attrs,n)}function hh(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Ea(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ea(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),vM(t,s,n?!0:e[++o]))}return t===void 0?null:t}function UR(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,u=l[a+1],c=TR(u)?Ry(l,e,n,i,ls(u),s):void 0;if(!oc(c)){oc(o)||SR(u)&&(o=Ry(l,null,n,i,a,s));let d=yb(ds(),n);jA(r,s,d,i,o)}}function Ry(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],u=Array.isArray(l),c=u?l[1]:l,d=c===null,f=n[i+1];f===li&&(f=d?Dn:void 0);let h=d?th(f,r):c===r?f:void 0;if(u&&!oc(h)&&(h=th(l,r)),oc(h)&&(a=h,s))return a;let v=t[i+1];i=s?Yi(v):ls(v)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=th(l,r))}return a}function oc(t){return t!==void 0}function BR(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=zt(Hp(t)))),t}function jR(t,e){return(t.flags&(e?8:16))!==0}function HR(t,e,n,r,i,o){let s=e.consts,a=$u(s,i),l=Tc(e,t,2,r,a);return Hw(e,n,l,$u(s,o)),l.attrs!==null&&zh(l,l.attrs,!1),l.mergedAttrs!==null&&zh(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function x(t,e,n,r){let i=Ge(),o=Bt(),s=Rt+t,a=i[Je],l=o.firstCreatePass?HR(s,o,i,e,n,r):o.data[s],u=DC(o,i,l,a,e,t);i[s]=u;let c=xp(l);return Sa(l,!0),kw(a,u,l),!ms(l)&&Ap()&&tg(o,i,u,l),jM()===0&&hs(u,i),HM(),c&&(Vw(o,i,l),_w(o,l,i)),r!==null&&Bw(i,l),x}function _(){let t=In();_b()?YM():(t=t.parent,Sa(t,!1));let e=t;$M(e)&&WM(),GM();let n=Bt();return n.firstCreatePass&&(Np(n,t),fb(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&aT(e)&&Ny(n,e,Ge(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&lT(e)&&Ny(n,e,Ge(),e.stylesWithoutHost,!1),_}function J(t,e,n,r){return x(t,e,n,r),_(),J}var DC=(t,e,n,r,i,o)=>(si(!0),$p(r,i,Ob()));function GR(t,e,n,r,i,o){let s=e[ar],a=!s||_a()||ms(n)||Ta(s,o);if(si(a),a)return $p(r,i,Ob());let l=Ic(s,t,e,n);return Dw(s,o)&&xc(s,o,l.nextSibling),s&&(ew(n)||tw(l))&&oi(n)&&(zM(n),Rw(l)),l}function $R(){DC=GR}var zR=(t,e,n,r)=>(si(!0),Aw(e[Je],""));function WR(t,e,n,r){let i,o=e[ar],s=!o||_a()||Ta(o,r)||ms(n);if(si(s),s)return Aw(e[Je],"");let a=Ic(o,t,e,n),l=AI(o,r);return xc(o,r,a),i=Ac(l,a),i}function qR(){zR=WR}function vt(){return Ge()}var sc="en-US";var YR=sc;function ZR(t){typeof t=="string"&&(YR=t.toLowerCase().replace(/_/g,"-"))}var xC=(t,e,n)=>{};function ky(t){xC=t}function U(t,e,n,r){let i=Ge(),o=Bt(),s=In();return _C(o,i,i[Je],s,t,e,r),U}function XR(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ju],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function _C(t,e,n,r,i,o,s){let a=xp(r),u=t.firstCreatePass&&Eb(t),c=e[_n],d=Cb(e),f=!0;if(r.type&3||s){let b=Tn(r,e),E=s?s(b):b,C=d.length,T=s?F=>s(zn(F[r.index])):r.index,M=null;if(!s&&a&&(M=XR(t,e,i,r.index)),M!==null){let F=M.__ngLastListenerFn__||M;F.__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,f=!1}else{o=Fy(r,e,c,o),xC(b,i,o);let F=n.listen(E,i,o);d.push(o,F),u&&u.push(i,T,C,C+1)}}else o=Fy(r,e,c,o);let h=r.outputs,v;if(f&&h!==null&&(v=h[i])){let b=v.length;if(b)for(let E=0;E<b;E+=2){let C=v[E],T=v[E+1],A=e[C][T].subscribe(o),G=d.length;d.push(o,A),u&&u.push(i,r.index,G,-(G+1))}}}function Oy(t,e,n,r){let i=ke(null);try{return xn(6,e,n),n(r)!==!1}catch(o){return _c(t,o),!1}finally{xn(7,e,n),ke(i)}}function Fy(t,e,n,r){return function i(o){if(o===Function)return r;let s=oi(t)?lr(t.index,e):e;Mc(s,5);let a=Oy(e,n,r,o),l=i.__ngNextListenerFn__;for(;l;)a=Oy(e,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function _t(t=1){return nT(t)}function ug(t,e,n,r,i){let o=Ge(),s=EC(o,e,n,r);if(s!==li){let a=Bt(),l=vc();Yp(a,l,o,t,s,o[Je],i,!1)}return ug}function Be(t,e,n){BN(t,e,n)}function Ve(t){let e=Ge(),n=Bt(),r=Tb();Mp(r+1);let i=sg(n,r);if(t.dirty&&PM(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=GN(e,r);t.reset(o,NT),t.notifyOnChanges()}return!0}return!1}function Ue(){return VN(Ge(),Tb())}function N(t,e=""){let n=Ge(),r=Bt(),i=t+Rt,o=r.firstCreatePass?Tc(r,i,1,e,null):r.data[i],s=SC(r,n,o,e,t);n[i]=s,Ap()&&tg(r,n,s,o),Sa(o,!1)}var SC=(t,e,n,r,i)=>(si(!0),Iw(e[Je],r));function QR(t,e,n,r,i){let o=e[ar],s=!o||_a()||ms(n)||Ta(o,i);return si(s),s?Iw(e[Je],r):Ic(o,t,e,n)}function KR(){SC=QR}function kt(t){return vs("",t,""),kt}function vs(t,e,n){let r=Ge(),i=EC(r,t,e,n);return i!==li&&JR(r,ds(),i),vs}function JR(t,e,n){let r=yb(e,t);ZI(t[Je],r,n)}function rt(t,e,n){Jb(e)&&(e=e());let r=Ge(),i=mc();if(ri(r,i,e)){let o=Bt(),s=vc();Yp(o,s,r,t,e,r[Je],n,!1)}return rt}function st(t,e){let n=Jb(t);return n&&t.set(e),n}function it(t,e){let n=Ge(),r=Bt(),i=In();return _C(r,n,n[Je],i,t,e),it}function ek(t,e,n){let r=Bt();if(r.firstCreatePass){let i=Ar(t);ip(n,r.data,r.blueprint,i,!0),ip(e,r.data,r.blueprint,i,!1)}}function ip(t,e,n,r,i){if(t=$t(t),Array.isArray(t))for(let o=0;o<t.length;o++)ip(t[o],e,n,r,i);else{let o=Bt(),s=Ge(),a=In(),l=ns(t)?t:$t(t.provide),u=lb(t),c=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(ns(t)||!t.multi){let h=new $i(u,i,ye),v=gh(l,e,i?c:c+f,d);v===-1?(Mh(qu(a,s),o,l),ph(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[v]=h,s[v]=h)}else{let h=gh(l,e,c+f,d),v=gh(l,e,c,c+f),b=h>=0&&n[h],E=v>=0&&n[v];if(i&&!E||!i&&!b){Mh(qu(a,s),o,l);let C=rk(i?nk:tk,n.length,i,r,u);!i&&E&&(n[v].providerFactory=C),ph(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(C),s.push(C)}else{let C=MC(n[i?v:h],u,!i&&r);ph(o,t,h>-1?h:v,C)}!i&&r&&E&&n[v].componentProviders++}}}function ph(t,e,n,r){let i=ns(e),o=DM(e);if(i||o){let l=(o?$t(e.useClass):e).prototype.ngOnDestroy;if(l){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let c=u.indexOf(n);c===-1?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function MC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function gh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function tk(t,e,n,r){return op(this.multi,[])}function nk(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ba(n,n[fe],this.providerFactory.index,r);o=a.slice(0,s),op(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],op(i,o);return o}function op(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function rk(t,e,n,r,i){let o=new $i(t,n,ye);return o.multi=[],o.index=e,o.componentProviders=0,MC(o,i,r&&!n),o}function qn(t,e=[]){return n=>{n.providersResolver=(r,i)=>ek(r,i?i(t):t,e)}}function TC(t,e,n,r){return ik(Ge(),Mb(),t,e,n,r)}function Yn(t,e,n,r,i){return ok(Ge(),Mb(),t,e,n,r,i)}function IC(t,e){let n=t[e];return n===li?void 0:n}function ik(t,e,n,r,i,o){let s=e+n;return ri(t,s,i)?gC(t,s+1,o?r.call(o,i):r(i)):IC(t,s+1)}function ok(t,e,n,r,i,o,s){let a=e+n;return tR(t,a,i,o)?gC(t,a+2,s?r.call(s,i,o):r(i,o)):IC(t,a+2)}var sp=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},cg=(()=>{class t{compileModuleSync(n){return new ep(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=ib(n),o=Mw(i.declarations).reduce((s,a)=>{let l=Kr(a);return l&&s.push(new wa(l)),s},[]);return new sp(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var sk=(()=>{class t{zone=k(mt);changeDetectionScheduler=k(os);applicationRef=k(en);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),ak=new K("",{factory:()=>!1});function AC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new mt(De(L({},RC()),{scheduleInRootZone:n})),[{provide:mt,useFactory:t},{provide:Qr,multi:!0,useFactory:()=>{let r=k(sk,{optional:!0});return()=>r.initialize()}},{provide:Qr,multi:!0,useFactory:()=>{let r=k(lk);return()=>{r.initialize()}}},e===!0?{provide:Yb,useValue:!0}:[],{provide:Zb,useValue:n??qb}]}function NC(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=AC({ngZoneFactory:()=>{let i=RC(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&hr("NgZone_CoalesceEvent"),new mt(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Zi([{provide:ak,useValue:!0},{provide:yc,useValue:!1},r])}function RC(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var lk=(()=>{class t{subscription=new pt;initialized=!1;zone=k(mt);pendingTasks=k(Rr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{mt.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{mt.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var uk=(()=>{class t{appRef=k(en);taskService=k(Rr);ngZone=k(mt);zonelessEnabled=k(yc);tracing=k(ps,{optional:!0});disableScheduling=k(Yb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new pt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zu):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(k(Zb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rh||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?ly:Xb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,ly(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ck(){return typeof $localize<"u"&&$localize.locale||sc}var dg=new K("",{providedIn:"root",factory:()=>k(dg,Se.Optional|Se.SkipSelf)||ck()});var ap=new K(""),dk=new K("");function da(t){return!t.moduleRef}function fk(t){let e=da(t)?t.r3Injector:t.moduleRef.injector,n=e.get(mt);return n.run(()=>{da(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Nr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),da(t)){let o=()=>e.destroy(),s=t.platformInjector.get(ap);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(ap);s.add(o),t.moduleRef.onDestroy(()=>{Ou(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return mR(r,n,()=>{let o=e.get(CC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(dg,sc);if(ZR(s||sc),!e.get(dk,!0))return da(t)?e.get(en):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(da(t)){let l=e.get(en);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return hk(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function hk(t,e){let n=t.injector.get(en);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new Q(-403,!1);e.push(t)}var Fu=null;function pk(t=[],e){return Jt.create({name:e,providers:[{provide:dc,useValue:"platform"},{provide:ap,useValue:new Set([()=>Fu=null])},...t]})}function gk(t=[]){if(Fu)return Fu;let e=pk(t);return Fu=e,hR(),mk(e),e}function mk(t){let e=t.get(Fp,null);Mn(t,()=>{e?.forEach(n=>n())})}var to=(()=>{class t{static __NG_ELEMENT_ID__=vk}return t})();function vk(t){return yk(In(),Ge(),(t&16)===16)}function yk(t,e,n){if(oi(t)&&!n){let r=lr(t.index,e);return new Wi(r,r)}else if(t.type&175){let r=e[Sn];return new Wi(r,e)}return null}var lp=class{constructor(){}supports(e){return pC(e)}create(e){return new up(e)}},bk=(t,e)=>e,up=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||bk}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Py(r,i,o)?n:r,a=Py(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,c=l-i;if(u!=c){for(let f=0;f<u;f++){let h=f<o.length?o[f]:o[f]=0,v=h+f;c<=v&&v<u&&(o[f]=h+1)}let d=s.previousIndex;o[d]=c-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!pC(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,eR(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new cp(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ac),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ac),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},cp=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},dp=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ac=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new dp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Py(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var fp=class{constructor(){}supports(e){return e instanceof Map||ag(e)}create(){return new hp}},hp=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||ag(e)))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}let r=new pp(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},pp=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function Ly(){return new fg([new lp])}var fg=(()=>{class t{factories;static \u0275prov=oe({token:t,providedIn:"root",factory:Ly});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Ly()),deps:[[t,new eb,new vp]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new Q(901,!1)}}return t})();function Vy(){return new hg([new fp])}var hg=(()=>{class t{static \u0275prov=oe({token:t,providedIn:"root",factory:Vy});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||Vy()),deps:[[t,new eb,new vp]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new Q(901,!1)}}return t})();function kC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=gk(r),o=[AC({}),{provide:os,useExisting:uk},...n||[]],s=new ic({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return fk({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var Tu=new WeakSet,Uy="",Pu=[];function By(t){return t.get(pw,JT)}function OC(){let t=[{provide:pw,useFactory:()=>{let e=!0;{let n=k(zi);e=!!window._ejsas?.[n]}return e&&hr("NgEventReplay"),e}}];return t.push({provide:Qr,useValue:()=>{let e=k(Jt),n=e.get(en);if(!Tu.has(n)){let r=k(py);By(e)&&ky((i,o,s)=>{mI(i,o,s),vI(i,r)})}},multi:!0},{provide:Ji,useFactory:()=>{let e=k(zi),n=k(Jt),r=k(en);return()=>{!By(n)||Tu.has(r)||(Tu.add(r),r.onDestroy(()=>{Tu.delete(r),eh(e),ky(()=>{})}),r.whenStable().then(()=>{let i=n.get(bI);wk(i,n);let o=n.get(py);o.get(Uy)?.forEach(yI),o.delete(Uy);let s=i.instance;II(n)?r.onDestroy(()=>s.cleanUp()):s.cleanUp()}))}},multi:!0}),t}var wk=(t,e)=>{let n=e.get(zi),r=window._ejsas[n],i=t.instance=new z0(new Eu(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=W0(n);i.replayEarlyEventInfos(o),eh(n);let s=new Du(a=>{Ck(e,a,a.currentTarget)});$0(i,s)};function Ck(t,e,n){let r=(n&&n.getAttribute(Dc))??"";/d\d+/.test(r)?Ek(r,t,e,n):e.eventPhase===Jf.REPLAY&&yw(e,n)}function Ek(t,e,n,r){Pu.push({event:n,currentTarget:r}),CR(e,t,Dk)}function Dk(t){let e=[...Pu],n=new Set(t);Pu=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(Dc);n.has(o)?yw(r,i):Pu.push({event:r,currentTarget:i})}}var jy=!1;function xk(){jy||(jy=!0,_I(),$R(),KR(),qR(),oR(),kN(),EN(),rA())}function _k(t){return t.whenStable()}function FC(){let t=[{provide:_u,useFactory:()=>{let e=!0;return e=!!k(Qi,{optional:!0})?.get(ww,null),e&&hr("NgHydration"),e}},{provide:Qr,useValue:()=>{gN(!1),k(_u)&&(Sk(),xk())},multi:!0}];return t.push({provide:hw,useFactory:()=>k(_u)},{provide:Ji,useFactory:()=>{if(k(_u)){let e=k(en);return()=>{_k(e).then(()=>{e.destroyed||oC(e)})}}return()=>{}},multi:!0}),Zi(t)}function Sk(){let t=wc(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===DI){e=n;break}if(!e)throw new Q(-507,!1)}function Rc(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function kc(t,e){hr("NgSignals");let n=Jv(t);return e?.equal&&(n[on].equal=e.equal),n}function di(t){let e=ke(null);try{return t()}finally{ke(e)}}var Hy=class{[on];constructor(e){this[on]=e}destroy(){this[on].destroy()}};var BC=null;function kr(){return BC}function jC(t){BC??=t}var Oc=class{};var Nn=new K(""),HC=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>k(Ik),providedIn:"platform"})}return t})();var Ik=(()=>{class t extends HC{_location;_history;_doc=k(Nn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return kr().getBaseHref(this._doc)}onPopState(n){let r=kr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=kr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function GC(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function PC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function no(t){return t&&t[0]!=="?"?"?"+t:t}var Pc=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>k($C),providedIn:"root"})}return t})(),Ak=new K(""),$C=(()=>{class t extends Pc{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??k(Nn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return GC(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+no(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+no(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+no(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Re(HC),Re(Ak,8))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Ia=(()=>{class t{_subject=new Et;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=kk(PC(LC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+no(r))}normalize(n){return t.stripTrailingSlash(Rk(this._basePath,LC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+no(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+no(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=no;static joinWithSlash=GC;static stripTrailingSlash=PC;static \u0275fac=function(r){return new(r||t)(Re(Pc))};static \u0275prov=oe({token:t,factory:()=>Nk(),providedIn:"root"})}return t})();function Nk(){return new Ia(Re(Pc))}function Rk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function LC(t){return t.replace(/\/index.html$/,"")}function kk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function zC(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var pg=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},ys=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new pg(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),VC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);VC(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(ye(ui),ye(qi),ye(fg))};static \u0275dir=ot({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function VC(t,e){t.context.$implicit=e.item}var WC=(()=>{class t{_viewContainer;_context=new gg;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){UC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){UC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(ye(ui),ye(qi))};static \u0275dir=ot({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),gg=class{$implicit=null;ngIf=null};function UC(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${zt(e)}'.`)}var qC=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,o]=n.split("."),s=i.indexOf("-")===-1?void 0:cr.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(ye(Wt),ye(hg),ye(hn))};static \u0275dir=ot({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})();var St=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ci({type:t});static \u0275inj=ii({})}return t})(),YC="browser",Ok="server";function vg(t){return t===Ok}var Fc=class{};var Vc=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Fk="X-Request-URL",Pk="text/plain",Lk="application/json",T6=`${Lk}, ${Pk}, */*`;var XC=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(XC||{}),yg=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new Vc,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Uc=class t extends yg{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=XC.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var Vk=new K("");var I6=RegExp(`^${Fk}:`,"m");var Uk=new K(""),Bk="b",jk="h",Hk="s",Gk="st",$k="u",zk="rt",Lc=new K(""),Wk=["GET","HEAD"];function qk(t,e){let f=k(Lc),{isCacheActive:n}=f,r=Gv(f,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!Wk.includes(o)||!r.includeRequestsWithAuthHeaders&&Yk(t)||r.filter?.(t)===!1)return e(t);let s=k(Qi);if(k(Uk,{optional:!0}))throw new Q(2803,!1);let l=t.url,u=Zk(t,l),c=s.get(u,null),d=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(d=i.includeHeaders),c){let{[Bk]:h,[zk]:v,[jk]:b,[Hk]:E,[Gk]:C,[$k]:T}=c,M=h;switch(v){case"arraybuffer":M=new TextEncoder().encode(h).buffer;break;case"blob":M=new Blob([h]);break}let F=new Vc(b);return ge(new Uc({body:M,headers:F,status:E,statusText:C,url:T}))}return e(t).pipe(xt(h=>{h instanceof Uc}))}function Yk(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function ZC(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function Zk(t,e){let{params:n,method:r,responseType:i}=t,o=ZC(n),s=t.serializeBody();s instanceof URLSearchParams?s=ZC(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),l=Xk(a);return l}function Xk(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function QC(t){return[{provide:Lc,useFactory:()=>(hr("NgHttpTransferCache"),L({isCacheActive:!0},t))},{provide:Vk,useValue:qk,multi:!0,deps:[Qi,Lc]},{provide:Ji,multi:!0,useFactory:()=>{let e=k(en),n=k(Lc);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var wg=class extends Oc{supportsDOMEvents=!0},Cg=class t extends wg{static makeCurrent(){jC(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Qk();return n==null?null:Kk(n)}resetBaseElement(){Na=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return zC(document.cookie,e)}},Na=null;function Qk(){return Na=Na||document.querySelector("base"),Na?Na.getAttribute("href"):null}function Kk(t){return new URL(t,document.baseURI).pathname}var Jk=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),Eg=new K(""),rE=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Re(Eg),Re(mt))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),jc=class{_doc;constructor(e){this._doc=e}manager},Bc="ng-app-id";function KC(t){for(let e of t)e.remove()}function JC(t,e){let n=e.createElement("style");return n.textContent=t,n}function eO(t,e,n,r){let i=t.head?.querySelectorAll(`style[${Bc}="${e}"],link[${Bc}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Bc),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Dg(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var iE=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=vg(o),eO(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,JC);r?.forEach(i=>this.addUsage(i,this.external,Dg))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(KC(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])KC(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,JC(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Dg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Bc,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Re(Nn),Re(zi),Re(Pp,8),Re(ai))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),bg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},_g=/%COMP%/g;var oE="%COMP%",tO=`_nghost-${oE}`,nO=`_ngcontent-${oE}`,rO=!0,iO=new K("",{providedIn:"root",factory:()=>rO});function oO(t){return nO.replace(_g,t)}function sO(t){return tO.replace(_g,t)}function sE(t,e){return e.map(n=>n.replace(_g,t))}var eE=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,u=null,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.tracingService=c,this.platformIsServer=vg(a),this.defaultRenderer=new Ra(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ur.ShadowDom&&(r=De(L({},r),{encapsulation:ur.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Hc?i.applyToHost(n):i instanceof ka&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case ur.Emulated:o=new Hc(l,u,r,this.appId,c,s,a,d,f);break;case ur.ShadowDom:return new xg(l,u,n,r,s,a,this.nonce,d,f);default:o=new ka(l,u,r,c,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Re(rE),Re(iE),Re(zi),Re(iO),Re(Nn),Re(ai),Re(mt),Re(Pp),Re(ps,8))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),Ra=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(bg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(tE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(tE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=bg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=bg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(cr.DashCase|cr.Important)?e.style.setProperty(n,r,i&cr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&cr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=kr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function tE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var xg=class extends Ra{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,l,u){super(e,o,s,l,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=i.styles;c=sE(i.id,c);for(let f of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=Dg(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ka=class extends Ra{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,l,u){super(e,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let c=r.styles;this.styles=u?sE(u,c):c,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Hc=class extends ka{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,l,u){let c=i+"-"+r.id;super(e,n,r,o,s,a,l,u,c),this.contentAttr=oO(c),this.hostAttr=sO(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},aO=(()=>{class t extends jc{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(Re(Nn))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})(),nE=["alt","control","meta","shift"],lO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},uO={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},cO=(()=>{class t extends jc{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>kr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),nE.forEach(u=>{let c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=lO[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),nE.forEach(s=>{if(s!==i){let a=uO[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Re(Nn))};static \u0275prov=oe({token:t,factory:t.\u0275fac})}return t})();function aE(t,e){return kC(L({rootComponent:t},dO(e)))}function dO(t){return{appProviders:[...mO,...t?.providers??[]],platformProviders:gO}}function fO(){Cg.makeCurrent()}function hO(){return new Nr}function pO(){return aw(document),document}var gO=[{provide:ai,useValue:YC},{provide:Fp,useValue:fO,multi:!0},{provide:Nn,useFactory:pO,deps:[]}];var mO=[{provide:dc,useValue:"root"},{provide:Nr,useFactory:hO,deps:[]},{provide:Eg,useClass:aO,multi:!0,deps:[Nn,mt,ai]},{provide:Eg,useClass:cO,multi:!0,deps:[Nn]},eE,iE,rE,{provide:as,useExisting:eE},{provide:Fc,useClass:Jk,deps:[]},[]];var lE=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(Re(Nn))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Gc=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t}(Gc||{});function vO(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function uE(){return vO(Gc.EventReplay,OC())}function cE(...t){let e=[],n=new Set,r=n.has(Gc.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return Zi([[],FC(),n.has(Gc.NoHttpTransferCache)||r?[]:QC({}),e])}var Ce="primary",Za=Symbol("RouteTitle"),Ag=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function xs(t){return new Ag(t)}function bO(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function wO(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!gr(t[n],e[n]))return!1;return!0}function gr(t,e){let n=t?Ng(t):void 0,r=e?Ng(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!yE(t[i],e[i]))return!1;return!0}function Ng(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function yE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function bE(t){return t.length>0?t[t.length-1]:null}function fi(t){return Vf(t)?t:Ki(t)?lt(Promise.resolve(t)):ge(t)}var CO={exact:CE,subset:EE},wE={exact:EO,subset:DO,ignored:()=>!0};function dE(t,e,n){return CO[n.paths](t.root,e.root,n.matrixParams)&&wE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function EO(t,e){return gr(t,e)}function CE(t,e,n){if(!io(t.segments,e.segments)||!Wc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!CE(t.children[r],e.children[r],n))return!1;return!0}function DO(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>yE(t[n],e[n]))}function EE(t,e,n){return DE(t,e,e.segments,n)}function DE(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!io(i,n)||e.hasChildren()||!Wc(i,n,r))}else if(t.segments.length===n.length){if(!io(t.segments,n)||!Wc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!EE(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!io(t.segments,i)||!Wc(t.segments,i,r)||!t.children[Ce]?!1:DE(t.children[Ce],e,o,r)}}function Wc(t,e,n){return e.every((r,i)=>wE[n](t[i].parameters,r.parameters))}var Fr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new je([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=xs(this.queryParams),this._queryParamMap}toString(){return SO.serialize(this)}},je=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qc(this)}},ro=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=xs(this.parameters),this._parameterMap}toString(){return _E(this)}};function xO(t,e){return io(t,e)&&t.every((n,r)=>gr(n.parameters,e[r].parameters))}function io(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function _O(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Ce&&(n=n.concat(e(i,r)))}),n}var rm=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>new Ua,providedIn:"root"})}return t})(),Ua=class{parse(e){let n=new kg(e);return new Fr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Oa(e.root,!0)}`,r=IO(e.queryParams),i=typeof e.fragment=="string"?`#${MO(e.fragment)}`:"";return`${n}${r}${i}`}},SO=new Ua;function qc(t){return t.segments.map(e=>_E(e)).join("/")}function Oa(t,e){if(!t.hasChildren())return qc(t);if(e){let n=t.children[Ce]?Oa(t.children[Ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Ce&&r.push(`${i}:${Oa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=_O(t,(r,i)=>i===Ce?[Oa(t.children[Ce],!1)]:[`${i}:${Oa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Ce]!=null?`${qc(t)}/${n[0]}`:`${qc(t)}/(${n.join("//")})`}}function xE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $c(t){return xE(t).replace(/%3B/gi,";")}function MO(t){return encodeURI(t)}function Rg(t){return xE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yc(t){return decodeURIComponent(t)}function fE(t){return Yc(t.replace(/\+/g,"%20"))}function _E(t){return`${Rg(t.path)}${TO(t.parameters)}`}function TO(t){return Object.entries(t).map(([e,n])=>`;${Rg(e)}=${Rg(n)}`).join("")}function IO(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${$c(n)}=${$c(i)}`).join("&"):`${$c(n)}=${$c(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var AO=/^[^\/()?;#]+/;function Sg(t){let e=t.match(AO);return e?e[0]:""}var NO=/^[^\/()?;=#]+/;function RO(t){let e=t.match(NO);return e?e[0]:""}var kO=/^[^=?&#]+/;function OO(t){let e=t.match(kO);return e?e[0]:""}var FO=/^[^&#]+/;function PO(t){let e=t.match(FO);return e?e[0]:""}var kg=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new je([],{}):new je([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Ce]=new je(e,n)),r}parseSegment(){let e=Sg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new ro(Yc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=RO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Sg(this.remaining);i&&(r=i,this.capture(r))}e[Yc(n)]=Yc(r)}parseQueryParam(e){let n=OO(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=PO(this.remaining);s&&(r=s,this.capture(r))}let i=fE(n),o=fE(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Sg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Ce);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Ce]:new je([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function SE(t){return t.segments.length>0?new je([],{[Ce]:t}):t}function ME(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=ME(i);if(r===Ce&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new je(t.segments,e);return LO(n)}function LO(t){if(t.numberOfChildren===1&&t.children[Ce]){let e=t.children[Ce];return new je(t.segments.concat(e.segments),e.children)}return t}function Ba(t){return t instanceof Fr}function VO(t,e,n=null,r=null){let i=TE(t);return IE(i,e,n,r)}function TE(t){let e;function n(o){let s={};for(let l of o.children){let u=n(l);s[l.outlet]=u}let a=new je(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=SE(r);return e??i}function IE(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Mg(i,i,i,n,r);let o=UO(e);if(o.toRoot())return Mg(i,i,new je([],{}),n,r);let s=BO(o,i,t),a=s.processChildren?Pa(s.segmentGroup,s.index,o.commands):NE(s.segmentGroup,s.index,o.commands);return Mg(i,s.segmentGroup,a,n,r)}function Zc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function ja(t){return typeof t=="object"&&t!=null&&t.outlets}function Mg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`});let s;t===e?s=n:s=AE(t,e,n);let a=SE(ME(s));return new Fr(a,o,i)}function AE(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=AE(o,e,n)}),new je(t.segments,r)}var Xc=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Zc(r[0]))throw new Q(4003,!1);let i=r.find(ja);if(i&&i!==bE(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function UO(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Xc(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Xc(n,e,r)}var Cs=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function BO(t,e,n){if(t.isAbsolute)return new Cs(e,!0,0);if(!n)return new Cs(e,!1,NaN);if(n.parent===null)return new Cs(n,!0,0);let r=Zc(t.commands[0])?0:1,i=n.segments.length-1+r;return jO(n,i,t.numberOfDoubleDots)}function jO(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new Cs(r,!1,i-o)}function HO(t){return ja(t[0])?t[0].outlets:{[Ce]:t}}function NE(t,e,n){if(t??=new je([],{}),t.segments.length===0&&t.hasChildren())return Pa(t,e,n);let r=GO(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new je(t.segments.slice(0,r.pathIndex),{});return o.children[Ce]=new je(t.segments.slice(r.pathIndex),t.children),Pa(o,0,i)}else return r.match&&i.length===0?new je(t.segments,{}):r.match&&!t.hasChildren()?Og(t,e,n):r.match?Pa(t,0,i):Og(t,e,n)}function Pa(t,e,n){if(n.length===0)return new je(t.segments,{});{let r=HO(n),i={};if(Object.keys(r).some(o=>o!==Ce)&&t.children[Ce]&&t.numberOfChildren===1&&t.children[Ce].segments.length===0){let o=Pa(t.children[Ce],e,n);return new je(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=NE(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new je(t.segments,i)}}function GO(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(ja(a))break;let l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!pE(l,u,s))return o;r+=2}else{if(!pE(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Og(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(ja(o)){let l=$O(o.outlets);return new je(r,l)}if(i===0&&Zc(n[0])){let l=t.segments[e];r.push(new ro(l.path,hE(n[0]))),i++;continue}let s=ja(o)?o.outlets[Ce]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Zc(a)?(r.push(new ro(s,hE(a))),i+=2):(r.push(new ro(s,{})),i++)}return new je(r,{})}function $O(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Og(new je([],{}),0,r))}),e}function hE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function pE(t,e,n){return t==n.path&&gr(e,n.parameters)}var La="imperative",Ft=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ft||{}),Rn=class{id;url;constructor(e,n){this.id=e,this.url=n}},Ha=class extends Rn{type=Ft.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},oo=class extends Rn{urlAfterRedirects;type=Ft.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},gn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(gn||{}),Fg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Fg||{}),Or=class extends Rn{reason;code;type=Ft.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},so=class extends Rn{reason;code;type=Ft.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Ga=class extends Rn{error;target;type=Ft.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Qc=class extends Rn{urlAfterRedirects;state;type=Ft.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Pg=class extends Rn{urlAfterRedirects;state;type=Ft.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Lg=class extends Rn{urlAfterRedirects;state;shouldActivate;type=Ft.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Vg=class extends Rn{urlAfterRedirects;state;type=Ft.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ug=class extends Rn{urlAfterRedirects;state;type=Ft.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bg=class{route;type=Ft.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},jg=class{route;type=Ft.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Hg=class{snapshot;type=Ft.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gg=class{snapshot;type=Ft.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$g=class{snapshot;type=Ft.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zg=class{snapshot;type=Ft.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var $a=class{},_s=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function zO(t,e){return t.providers&&!t._injector&&(t._injector=Nc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Zn(t){return t.outlet||Ce}function WO(t,e){let n=t.filter(r=>Zn(r)===e);return n.push(...t.filter(r=>Zn(r)!==e)),n}function Xa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Wg=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Xa(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new id(this.rootInjector)}},id=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Wg(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(Re(cn))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Kc=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=qg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=qg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Yg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Yg(e,this._root).map(n=>n.value)}};function qg(t,e){if(t===e.value)return e;for(let n of e.children){let r=qg(t,n);if(r)return r}return null}function Yg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Yg(t,n);if(r.length)return r.unshift(e),r}return[]}var pn=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ws(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Jc=class extends Kc{snapshot;constructor(e,n){super(e),this.snapshot=n,im(this,e)}toString(){return this.snapshot.toString()}};function RE(t){let e=qO(t),n=new Nt([new ro("",{})]),r=new Nt({}),i=new Nt({}),o=new Nt({}),s=new Nt(""),a=new Ss(n,r,o,s,i,Ce,t,e.root);return a.snapshot=e.root,new Jc(new pn(a,[]),e)}function qO(t){let e={},n={},r={},i="",o=new Es([],e,r,i,n,Ce,t,null,{});return new td("",new pn(o,[]))}var Ss=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(Ie(u=>u[Za]))??ge(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Ie(e=>xs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Ie(e=>xs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ed(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),t.params),data:L(L({},e.data),t.data),resolve:L(L(L(L({},t.data),e.data),i?.data),t._resolvedData)}:r={params:L({},t.params),data:L({},t.data),resolve:L(L({},t.data),t._resolvedData??{})},i&&OE(i)&&(r.resolve[Za]=i.title),r}var Es=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Za]}constructor(e,n,r,i,o,s,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},td=class extends Kc{url;constructor(e,n){super(n),this.url=e,im(this,n)}toString(){return kE(this._root)}};function im(t,e){e.value._routerState=t,e.children.forEach(n=>im(t,n))}function kE(t){let e=t.children.length>0?` { ${t.children.map(kE).join(", ")} } `:"";return`${t.value}${e}`}function Tg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,gr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),gr(e.params,n.params)||t.paramsSubject.next(n.params),wO(e.url,n.url)||t.urlSubject.next(n.url),gr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Zg(t,e){let n=gr(t.params,e.params)&&xO(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Zg(t.parent,e.parent))}function OE(t){return typeof t.title=="string"||t.title===null}var YO=new K(""),ZO=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Ce;activateEvents=new Mt;deactivateEvents=new Mt;attachEvents=new Mt;detachEvents=new Mt;routerOutletData=Kb(void 0);parentContexts=k(id);location=k(ui);changeDetector=k(to);inputBinder=k(om,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Xg(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ot({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Xi]})}return t})(),Xg=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Ss?this.route:e===id?this.childContexts:e===YO?this.outletData:this.parent.get(e,n)}},om=new K("");function XO(t,e,n){let r=za(t,e._root,n?n._root:void 0);return new Jc(r,e)}function za(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=QO(t,e,n);return new pn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>za(t,a)),s}}let r=KO(e.value),i=e.children.map(o=>za(t,o));return new pn(r,i)}}function QO(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return za(t,r,i);return za(t,r)})}function KO(t){return new Ss(new Nt(t.url),new Nt(t.params),new Nt(t.queryParams),new Nt(t.fragment),new Nt(t.data),t.outlet,t.component,t)}var Wa=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},FE="ngNavigationCancelingError";function nd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Ba(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=PE(!1,gn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function PE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[FE]=!0,n.cancellationCode=e,n}function JO(t){return LE(t)&&Ba(t.url)}function LE(t){return!!t&&t[FE]}var eF=(t,e,n,r)=>Ie(i=>(new Qg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Qg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Tg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ws(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ws(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ws(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ws(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new zg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Gg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Tg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Tg(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},rd=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ds=class{component;route;constructor(e,n){this.component=e,this.route=n}};function tF(t,e,n){let r=t._root,i=e?e._root:null;return Fa(r,i,n,[r.value])}function nF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ts(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!qy(t)?t:e.get(t):r}function Fa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ws(e);return t.children.forEach(s=>{rF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Va(a,n.getContext(s),i)),i}function rF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=iF(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new rd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Fa(t,e,a?a.children:null,r,i):Fa(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ds(a.outlet.component,s))}else s&&Va(e,a,i),i.canActivateChecks.push(new rd(r)),o.component?Fa(t,null,a?a.children:null,r,i):Fa(t,null,n,r,i);return i}function iF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!io(t.url,e.url);case"pathParamsOrQueryParamsChange":return!io(t.url,e.url)||!gr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Zg(t,e)||!gr(t.queryParams,e.queryParams);case"paramsChange":default:return!Zg(t,e)}}function Va(t,e,n){let r=ws(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Va(s,e.children.getContext(o),n):Va(s,null,n):Va(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ds(e.outlet.component,i)):n.canDeactivateChecks.push(new Ds(null,i)):n.canDeactivateChecks.push(new Ds(null,i))}function Qa(t){return typeof t=="function"}function oF(t){return typeof t=="boolean"}function sF(t){return t&&Qa(t.canLoad)}function aF(t){return t&&Qa(t.canActivate)}function lF(t){return t&&Qa(t.canActivateChild)}function uF(t){return t&&Qa(t.canDeactivate)}function cF(t){return t&&Qa(t.canMatch)}function VE(t){return t instanceof _r||t?.name==="EmptyError"}var zc=Symbol("INITIAL_VALUE");function Ms(){return Cn(t=>mu(t.map(e=>e.pipe(Sr(1),Gf(zc)))).pipe(Ie(e=>{for(let n of e)if(n!==!0){if(n===zc)return zc;if(n===!1||dF(n))return n}return!0}),wn(e=>e!==zc),Sr(1)))}function dF(t){return Ba(t)||t instanceof Wa}function fF(t,e){return Dt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ge(De(L({},n),{guardsResult:!0})):hF(s,r,i,t).pipe(Dt(a=>a&&oF(a)?pF(r,o,t,e):ge(a)),Ie(a=>De(L({},n),{guardsResult:a})))})}function hF(t,e,n,r){return lt(t).pipe(Dt(i=>bF(i.component,i.route,n,e,r)),Mr(i=>i!==!0,!0))}function pF(t,e,n,r){return lt(e).pipe(Li(i=>Ho(mF(i.route.parent,r),gF(i.route,r),yF(t,i.path,n),vF(t,i.route,n))),Mr(i=>i!==!0,!0))}function gF(t,e){return t!==null&&e&&e(new $g(t)),ge(!0)}function mF(t,e){return t!==null&&e&&e(new Hg(t)),ge(!0)}function vF(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ge(!0);let i=r.map(o=>vu(()=>{let s=Xa(e)??n,a=Ts(o,s),l=aF(a)?a.canActivate(e,t):Mn(s,()=>a(e,t));return fi(l).pipe(Mr())}));return ge(i).pipe(Ms())}function yF(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>nF(s)).filter(s=>s!==null).map(s=>vu(()=>{let a=s.guards.map(l=>{let u=Xa(s.node)??n,c=Ts(l,u),d=lF(c)?c.canActivateChild(r,t):Mn(u,()=>c(r,t));return fi(d).pipe(Mr())});return ge(a).pipe(Ms())}));return ge(o).pipe(Ms())}function bF(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ge(!0);let s=o.map(a=>{let l=Xa(e)??i,u=Ts(a,l),c=uF(u)?u.canDeactivate(t,e,n,r):Mn(l,()=>u(t,e,n,r));return fi(c).pipe(Mr())});return ge(s).pipe(Ms())}function wF(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ge(!0);let o=i.map(s=>{let a=Ts(s,t),l=sF(a)?a.canLoad(e,n):Mn(t,()=>a(e,n));return fi(l)});return ge(o).pipe(Ms(),UE(r))}function UE(t){return Of(xt(e=>{if(typeof e!="boolean")throw nd(t,e)}),Ie(e=>e===!0))}function CF(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ge(!0);let o=i.map(s=>{let a=Ts(s,t),l=cF(a)?a.canMatch(e,n):Mn(t,()=>a(e,n));return fi(l)});return ge(o).pipe(Ms(),UE(r))}var qa=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ya=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function bs(t){return jo(new qa(t))}function EF(t){return jo(new Q(4e3,!1))}function DF(t){return jo(PE(!1,gn.GuardRejected))}var Kg=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ge(r);if(i.numberOfChildren>1||!i.children[Ce])return EF(`${e.redirectTo}`);i=i.children[Ce]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:u,routeConfig:c,url:d,outlet:f,params:h,data:v,title:b}=i,E=Mn(o,()=>a({params:h,data:v,queryParams:l,fragment:u,routeConfig:c,url:d,outlet:f,title:b}));if(E instanceof Fr)throw new Ya(E);n=E}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ya(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Fr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new je(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Jg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function xF(t,e,n,r,i){let o=BE(t,e,n);return o.matched?(r=zO(e,r),CF(r,e,n,i).pipe(Ie(s=>s===!0?o:L({},Jg)))):ge(o)}function BE(t,e,n){if(e.path==="**")return _F(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?L({},Jg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||bO)(n,t,e);if(!i)return L({},Jg);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function _F(t){return{matched:!0,parameters:t.length>0?bE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function gE(t,e,n,r){return n.length>0&&TF(t,n,r)?{segmentGroup:new je(e,MF(r,new je(n,t.children))),slicedSegments:[]}:n.length===0&&IF(t,n,r)?{segmentGroup:new je(t.segments,SF(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new je(t.segments,t.children),slicedSegments:n}}function SF(t,e,n,r){let i={};for(let o of n)if(od(t,e,o)&&!r[Zn(o)]){let s=new je([],{});i[Zn(o)]=s}return L(L({},r),i)}function MF(t,e){let n={};n[Ce]=e;for(let r of t)if(r.path===""&&Zn(r)!==Ce){let i=new je([],{});n[Zn(r)]=i}return n}function TF(t,e,n){return n.some(r=>od(t,e,r)&&Zn(r)!==Ce)}function IF(t,e,n){return n.some(r=>od(t,e,r))}function od(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function AF(t,e,n){return e.length===0&&!t.children[n]}var em=class{};function NF(t,e,n,r,i,o,s="emptyOnly"){return new tm(t,e,n,r,i,s,o).recognize()}var RF=31,tm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Kg(this.urlSerializer,this.urlTree)}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=gE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Ie(({children:n,rootSnapshot:r})=>{let i=new pn(r,n),o=new td("",i),s=VO(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Es([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Ce,n).pipe(Ie(r=>({children:r,rootSnapshot:n})),Wr(r=>{if(r instanceof Ya)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof qa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(Ie(s=>s instanceof pn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return lt(o).pipe(Li(s=>{let a=r.children[s],l=WO(n,s);return this.processSegmentGroup(e,l,a,s,i)}),Hf((s,a)=>(s.push(...a),s)),qr(null),jf(),Dt(s=>{if(s===null)return bs(r);let a=jE(s);return kF(a),ge(a)}))}processSegment(e,n,r,i,o,s,a){return lt(n).pipe(Li(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,s,a).pipe(Wr(u=>{if(u instanceof qa)return ge(null);throw u}))),Mr(l=>!!l),Wr(l=>{if(VE(l))return AF(r,i,o)?ge(new em):bs(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,l){return Zn(r)!==s&&(s===Ce||!od(i,o,r))?bs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,l):bs(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:c,positionalParamSegments:d,remainingSegments:f}=BE(n,i,o);if(!l)return bs(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>RF&&(this.allowRedirects=!1));let h=new Es(o,u,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,mE(i),Zn(i),i.component??i._loadedComponent??null,i,vE(i)),v=ed(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(v.params),h.data=Object.freeze(v.data);let b=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,b).pipe(Dt(E=>this.processSegment(e,r,n,E.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=xF(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(Cn(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Cn(({routes:u})=>{let c=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=l,v=new Es(f,d,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,mE(r),Zn(r),r.component??r._loadedComponent??null,r,vE(r)),b=ed(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(b.params),v.data=Object.freeze(b.data);let{segmentGroup:E,slicedSegments:C}=gE(n,f,h,u);if(C.length===0&&E.hasChildren())return this.processChildren(c,u,E,v).pipe(Ie(M=>new pn(v,M)));if(u.length===0&&C.length===0)return ge(new pn(v,[]));let T=Zn(r)===o;return this.processSegment(c,u,E,C,T?Ce:o,!0,v).pipe(Ie(M=>new pn(v,M instanceof pn?[M]:[])))}))):bs(n)))}getChildConfig(e,n,r){return n.children?ge({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ge({routes:n._loadedRoutes,injector:n._loadedInjector}):wF(e,n,r,this.urlSerializer).pipe(Dt(i=>i?this.configLoader.loadChildren(e,n).pipe(xt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):DF(n))):ge({routes:[],injector:e})}};function kF(t){t.sort((e,n)=>e.value.outlet===Ce?-1:n.value.outlet===Ce?1:e.value.outlet.localeCompare(n.value.outlet))}function OF(t){let e=t.value.routeConfig;return e&&e.path===""}function jE(t){let e=[],n=new Set;for(let r of t){if(!OF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=jE(r.children);e.push(new pn(r.value,i))}return e.filter(r=>!n.has(r))}function mE(t){return t.data||{}}function vE(t){return t.resolve||{}}function FF(t,e,n,r,i,o){return Dt(s=>NF(t,e,n,r,s.extractedUrl,i,o).pipe(Ie(({state:a,tree:l})=>De(L({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function PF(t,e){return Dt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ge(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of HE(l))s.add(u);let a=0;return lt(s).pipe(Li(l=>o.has(l)?LF(l,r,t,e):(l.data=ed(l,l.parent,t).resolve,ge(void 0))),xt(()=>a++),$o(1),Dt(l=>a===s.size?ge(n):Xt))})}function HE(t){let e=t.children.map(n=>HE(n)).flat();return[t,...e]}function LF(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!OE(i)&&(o[Za]=i.title),VF(o,t,e,r).pipe(Ie(s=>(t._resolvedData=s,t.data=ed(t,t.parent,n).resolve,null)))}function VF(t,e,n,r){let i=Ng(t);if(i.length===0)return ge({});let o={};return lt(i).pipe(Dt(s=>UF(t[s],e,n,r).pipe(Mr(),xt(a=>{if(a instanceof Wa)throw nd(new Ua,a);o[s]=a}))),$o(1),Ie(()=>o),Wr(s=>VE(s)?Xt:jo(s)))}function UF(t,e,n,r){let i=Xa(e)??r,o=Ts(t,i),s=o.resolve?o.resolve(e,n):Mn(i,()=>o(e,n));return fi(s)}function Ig(t){return Cn(e=>{let n=t(e);return n?lt(n).pipe(Ie(()=>e)):ge(e)})}var GE=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Ce);return r}getResolvedTitleForRoute(n){return n.data[Za]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>k(BF),providedIn:"root"})}return t})(),BF=(()=>{class t extends GE{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Re(lE))};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),sm=new K("",{providedIn:"root",factory:()=>({})}),jF=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=We({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&J(0,"router-outlet")},dependencies:[ZO],encapsulation:2})}return t})();function am(t){let e=t.children&&t.children.map(am),n=e?De(L({},t),{children:e}):L({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ce&&(n.component=jF),n}var lm=new K(""),HF=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=k(cg);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ge(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=fi(n.loadComponent()).pipe(Ie($E),xt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Go(()=>{this.componentLoaders.delete(n)})),i=new Bo(r,()=>new Et).pipe(Uo());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ge({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=GF(r,this.compiler,n,this.onLoadEndListener).pipe(Go(()=>{this.childrenLoaders.delete(r)})),s=new Bo(o,()=>new Et).pipe(Uo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function GF(t,e,n,r){return fi(t.loadChildren()).pipe(Ie($E),Dt(i=>i instanceof Ca||Array.isArray(i)?ge(i):lt(e.compileModuleAsync(i))),Ie(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(lm,[],{optional:!0,self:!0}).flat()),{routes:s.map(am),injector:o}}))}function $F(t){return t&&typeof t=="object"&&"default"in t}function $E(t){return $F(t)?t.default:t}var um=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>k(zF),providedIn:"root"})}return t})(),zF=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WF=new K("");var qF=new K(""),YF=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Et;transitionAbortSubject=new Et;configLoader=k(HF);environmentInjector=k(cn);destroyRef=k(Ma);urlSerializer=k(rm);rootContexts=k(id);location=k(Ia);inputBindingEnabled=k(om,{optional:!0})!==null;titleStrategy=k(GE);options=k(sm,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=k(um);createViewTransition=k(WF,{optional:!0});navigationErrorHandler=k(qF,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ge(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Bg(i)),r=i=>this.events.next(new jg(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(De(L(L({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Nt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:La,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(wn(o=>o.id!==0),Ie(o=>De(L({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Cn(o=>{let s=!1,a=!1;return ge(o).pipe(Cn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",gn.SupersededByNewNavigation),Xt;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?De(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&c!=="reload"){let d="";return this.events.next(new so(l.id,this.urlSerializer.serialize(l.rawUrl),d,Fg.IgnoredSameUrlNavigation)),l.resolve(!1),Xt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ge(l).pipe(Cn(d=>{let f=this.transitions?.getValue();return this.events.next(new Ha(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?Xt:Promise.resolve(d)}),FF(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),xt(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=De(L({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new Qc(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:v,extras:b}=l,E=new Ha(d,this.urlSerializer.serialize(f),h,v);this.events.next(E);let C=RE(this.rootComponentType).snapshot;return this.currentTransition=o=De(L({},l),{targetSnapshot:C,urlAfterRedirects:f,extras:De(L({},b),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,ge(o)}else{let d="";return this.events.next(new so(l.id,this.urlSerializer.serialize(l.extractedUrl),d,Fg.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Xt}}),xt(l=>{let u=new Pg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),Ie(l=>(this.currentTransition=o=De(L({},l),{guards:tF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),fF(this.environmentInjector,l=>this.events.next(l)),xt(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw nd(this.urlSerializer,l.guardsResult);let u=new Lg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),wn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",gn.GuardRejected),!1)),Ig(l=>{if(l.guards.canActivateChecks.length)return ge(l).pipe(xt(u=>{let c=new Vg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Cn(u=>{let c=!1;return ge(u).pipe(PF(this.paramsInheritanceStrategy,this.environmentInjector),xt({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(u,"",gn.NoDataFromResolver)}}))}),xt(u=>{let c=new Ug(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}))}),Ig(l=>{let u=c=>{let d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(xt(f=>{c.component=f}),Ie(()=>{})));for(let f of c.children)d.push(...u(f));return d};return mu(u(l.targetSnapshot.root)).pipe(qr(null),Sr(1))}),Ig(()=>this.afterPreactivation()),Cn(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,c=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return c?lt(c).pipe(Ie(()=>o)):ge(o)}),Ie(l=>{let u=XO(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=De(L({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),xt(()=>{this.events.next(new $a)}),eF(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Sr(1),xt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new oo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),$f(this.transitionAbortSubject.pipe(xt(l=>{throw l}))),Go(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",gn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Wr(l=>{if(this.destroyed)return o.resolve(!1),Xt;if(a=!0,LE(l))this.events.next(new Or(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),JO(l)?this.events.next(new _s(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let u=new Ga(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let c=Mn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(c instanceof Wa){let{message:d,cancellationCode:f}=nd(this.urlSerializer,c);this.events.next(new Or(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new _s(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(u),l}catch(c){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(c)}}return Xt}))}))}cancelNavigationTransition(n,r,i){let o=new Or(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ZF(t){return t!==La}var XF=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>k(QF),providedIn:"root"})}return t})(),nm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},QF=(()=>{class t extends nm{static \u0275fac=(()=>{let n;return function(i){return(n||(n=An(t)))(i||t)}})();static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),zE=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:()=>k(KF),providedIn:"root"})}return t})(),KF=(()=>{class t extends zE{location=k(Ia);urlSerializer=k(rm);options=k(sm,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=k(um);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Fr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=RE(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Ha)this.stateMemento=this.createStateMemento();else if(n instanceof so)this.rawUrlTree=r.initialUrl;else if(n instanceof Qc){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof $a?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Or&&(n.code===gn.GuardRejected||n.code===gn.NoDataFromResolver)?this.restoreHistory(r):n instanceof Ga?this.restoreHistory(r,!0):n instanceof oo&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Fr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=L(L({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=L(L({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=An(t)))(i||t)}})();static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function JF(t,e){t.events.pipe(wn(n=>n instanceof oo||n instanceof Or||n instanceof Ga||n instanceof so),Ie(n=>n instanceof oo||n instanceof so?0:(n instanceof Or?n.code===gn.Redirect||n.code===gn.SupersededByNewNavigation:!1)?2:1),wn(n=>n!==2),Sr(1)).subscribe(()=>{e()})}var eP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},WE=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=k(lg);stateManager=k(zE);options=k(sm,{optional:!0})||{};pendingTasks=k(Rr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=k(YF);urlSerializer=k(rm);location=k(Ia);urlHandlingStrategy=k(um);_events=new Et;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=k(XF);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=k(lm,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!k(om,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new pt;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Or&&r.code!==gn.Redirect&&r.code!==gn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof oo)this.navigated=!0;else if(r instanceof _s){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ZF(i.source)},s);this.scheduleNavigation(a,La,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}rP(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),La,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=L({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(am),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,c=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":c=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}c!==null&&(c=this.removeEmptyProps(c));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=TE(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return IE(d,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Ba(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,La,null,r)}navigate(n,r={skipLocationChange:!1}){return nP(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=L({},eP):r===!1?i=L({},tP):i=r,Ba(n))return dE(this.currentUrlTree,n,i);let o=this.parseUrl(n);return dE(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((d,f)=>{a=d,l=f});let c=this.pendingTasks.add();return JF(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=oe({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function nP(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function rP(t){return!(t instanceof $a)&&!(t instanceof _s)}var iP=new K("");function qE(t,...e){return Zi([{provide:lm,multi:!0,useValue:t},[],{provide:Ss,useFactory:oP,deps:[WE]},{provide:Ji,multi:!0,useFactory:sP},e.map(n=>n.\u0275providers)])}function oP(t){return t.routerState.root}function sP(){let t=k(Jt);return e=>{let n=t.get(en);if(e!==n.components[0])return;let r=t.get(WE),i=t.get(aP);t.get(lP)===1&&r.initialNavigation(),t.get(uP,null,Se.Optional)?.setUpPreloading(),t.get(iP,null,Se.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var aP=new K("",{factory:()=>new Et}),lP=new K("",{providedIn:"root",factory:()=>1});var uP=new K("");var YE=[];var ZE={providers:[NC({eventCoalescing:!0}),qE(YE),cE(uE())]};var oD=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(ye(hn),ye(Wt))};static \u0275dir=ot({type:t})}return t})(),Rs=(()=>{class t extends oD{static \u0275fac=(()=>{let n;return function(i){return(n||(n=An(t)))(i||t)}})();static \u0275dir=ot({type:t,features:[tn]})}return t})(),hi=new K(""),cP={provide:hi,useExisting:fn(()=>nl),multi:!0},nl=(()=>{class t extends Rs{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(i){return(n||(n=An(t)))(i||t)}})();static \u0275dir=ot({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&U("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[qn([cP]),tn]})}return t})(),dP={provide:hi,useExisting:fn(()=>kn),multi:!0};function fP(){let t=kr()?kr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var hP=new K(""),kn=(()=>{class t extends oD{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!fP())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(ye(hn),ye(Wt),ye(hP,8))};static \u0275dir=ot({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&U("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[qn([dP]),tn]})}return t})();function ad(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var pd=new K(""),sD=new K("");function pP(t){return e=>{if(ad(e.value)||ad(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function gP(t){return e=>{if(ad(e.value)||ad(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function XE(t){return null}function aD(t){return t!=null}function lD(t){return Ki(t)?lt(t):t}function uD(t){let e={};return t.forEach(n=>{e=n!=null?L(L({},e),n):e}),Object.keys(e).length===0?null:e}function cD(t,e){return e.map(n=>n(t))}function mP(t){return!t.validate}function dD(t){return t.map(e=>mP(e)?e:n=>e.validate(n))}function vP(t){if(!t)return null;let e=t.filter(aD);return e.length==0?null:function(n){return uD(cD(n,e))}}function fD(t){return t!=null?vP(dD(t)):null}function yP(t){if(!t)return null;let e=t.filter(aD);return e.length==0?null:function(n){let r=cD(n,e).map(lD);return Bf(r).pipe(Ie(uD))}}function hD(t){return t!=null?yP(dD(t)):null}function QE(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function pD(t){return t._rawValidators}function gD(t){return t._rawAsyncValidators}function cm(t){return t?Array.isArray(t)?t:[t]:[]}function ld(t,e){return Array.isArray(t)?t.includes(e):t===e}function KE(t,e){let n=cm(e);return cm(t).forEach(i=>{ld(n,i)||n.push(i)}),n}function JE(t,e){return cm(e).filter(n=>!ld(t,n))}var ud=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=fD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=hD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},dm=class extends ud{name;get formDirective(){return null}get path(){return null}},ao=class extends ud{_parent=null;name=null;valueAccessor=null},fm=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},bP={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},eW=De(L({},bP),{"[class.ng-submitted]":"isSubmitted"}),On=(()=>{class t extends fm{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(ye(ao,2))};static \u0275dir=ot({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&nt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[tn]})}return t})();var Ka="VALID",sd="INVALID",Is="PENDING",Ja="DISABLED",Ns=class{},cd=class extends Ns{value;source;constructor(e,n){super(),this.value=e,this.source=n}},el=class extends Ns{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},tl=class extends Ns{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},As=class extends Ns{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function mD(t){return(gd(t)?t.validators:t)||null}function wP(t){return Array.isArray(t)?fD(t):t||null}function vD(t,e){return(gd(e)?e.asyncValidators:t)||null}function CP(t){return Array.isArray(t)?hD(t):t||null}function gd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function EP(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[n])throw new Q(1001,"")}function DP(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Q(1002,"")})}var dd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return di(this.statusReactive)}set status(e){di(()=>this.statusReactive.set(e))}_status=kc(()=>this.statusReactive());statusReactive=bc(void 0);get valid(){return this.status===Ka}get invalid(){return this.status===sd}get pending(){return this.status==Is}get disabled(){return this.status===Ja}get enabled(){return this.status!==Ja}errors;get pristine(){return di(this.pristineReactive)}set pristine(e){di(()=>this.pristineReactive.set(e))}_pristine=kc(()=>this.pristineReactive());pristineReactive=bc(!0);get dirty(){return!this.pristine}get touched(){return di(this.touchedReactive)}set touched(e){di(()=>this.touchedReactive.set(e))}_touched=kc(()=>this.touchedReactive());touchedReactive=bc(!1);get untouched(){return!this.touched}_events=new Et;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(KE(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(KE(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JE(e,this._rawAsyncValidators))}hasValidator(e){return ld(this._rawValidators,e)}hasAsyncValidator(e){return ld(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(De(L({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new tl(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new tl(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(De(L({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new el(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new el(!0,r))}markAsPending(e={}){this.status=Is;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new As(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(De(L({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ja,this.errors=null,this._forEachChild(i=>{i.disable(De(L({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cd(this.value,r)),this._events.next(new As(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(De(L({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ka,this._forEachChild(r=>{r.enable(De(L({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(De(L({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ka||this.status===Is)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new cd(this.value,n)),this._events.next(new As(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(De(L({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ja:Ka}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Is,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=lD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new As(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Mt,this.statusChanges=new Mt}_calculateStatus(){return this._allControlsDisabled()?Ja:this.errors?sd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Is)?Is:this._anyControlsHaveStatus(sd)?sd:Ka}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new el(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new tl(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){gd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=wP(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=CP(this._rawAsyncValidators)}},fd=class extends dd{constructor(e,n,r){super(mD(n),vD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){DP(this,!0,e),Object.keys(e).forEach(r=>{EP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var md=new K("",{providedIn:"root",factory:()=>vd}),vd="always";function xP(t,e){return[...e.path,t]}function yD(t,e,n=vd){SP(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),TP(t,e),AP(t,e),IP(t,e),_P(t,e)}function eD(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),MP(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function hd(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function _P(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function SP(t,e){let n=pD(t);e.validator!==null?t.setValidators(QE(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=gD(t);e.asyncValidator!==null?t.setAsyncValidators(QE(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();hd(e._rawValidators,i),hd(e._rawAsyncValidators,i)}function MP(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=pD(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=gD(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return hd(e._rawValidators,r),hd(e._rawAsyncValidators,r),n}function TP(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&bD(t,e)})}function IP(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&bD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function bD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function AP(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function wD(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function NP(t){return Object.getPrototypeOf(t.constructor)===Rs}function CD(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===kn?n=o:NP(o)?r=o:i=o}),i||r||n||null}function tD(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function nD(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var pi=class extends dd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(mD(n),vD(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(nD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){tD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){tD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){nD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var RP={provide:ao,useExisting:fn(()=>Xn)},rD=Promise.resolve(),Xn=(()=>{class t extends ao{_changeDetectorRef;callSetDisabledState;control=new pi;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Mt;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=CD(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),wD(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){yD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){rD.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Rc(r);rD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?xP(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(ye(dm,9),ye(pd,10),ye(sD,10),ye(hi,10),ye(to,8),ye(md,8))};static \u0275dir=ot({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[qn([RP]),tn,Xi]})}return t})();var kP={provide:hi,useExisting:fn(()=>lo),multi:!0},lo=(()=>{class t extends Rs{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=An(t)))(i||t)}})();static \u0275dir=ot({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&U("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[qn([kP]),tn]})}return t})();var OP={provide:hi,useExisting:fn(()=>rl),multi:!0},rl=(()=>{class t extends Rs{writeValue(n){this.setProperty("value",parseFloat(n))}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=An(t)))(i||t)}})();static \u0275dir=ot({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&U("change",function(s){return i.onChange(s.target.value)})("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[qn([OP]),tn]})}return t})(),ED=new K(""),FP={provide:ao,useExisting:fn(()=>hm)},hm=(()=>{class t extends ao{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(n){}model;update=new Mt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=CD(this,i)}ngOnChanges(n){if(this._isControlChanged(n)){let r=n.form.previousValue;r&&eD(r,this,!1),yD(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}wD(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&eD(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||t)(ye(pd,10),ye(sD,10),ye(hi,10),ye(ED,8),ye(md,8))};static \u0275dir=ot({type:t,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[qn([FP]),tn,Xi]})}return t})();var PP={provide:hi,useExisting:fn(()=>mr),multi:!0};function DD(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function LP(t){return t.split(":")[0]}var mr=(()=>{class t extends Rs{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=DD(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=LP(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=An(t)))(i||t)}})();static \u0275dir=ot({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&U("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[qn([PP]),tn]})}return t})(),gi=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(DD(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(ye(Wt),ye(hn),ye(mr,9))};static \u0275dir=ot({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),VP={provide:hi,useExisting:fn(()=>xD),multi:!0};function iD(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function UP(t){return t.split(":")[0]}var xD=(()=>{class t extends Rs{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],u=this._getOptionValue(l.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=UP(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=An(t)))(i||t)}})();static \u0275dir=ot({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&U("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[qn([VP]),tn]})}return t})(),mi=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(iD(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(iD(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(ye(Wt),ye(hn),ye(xD,9))};static \u0275dir=ot({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function _D(t){return typeof t=="number"?t:parseFloat(t)}var SD=(()=>{class t{_validator=XE;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):XE,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=ot({type:t,features:[Xi]})}return t})(),BP={provide:pd,useExisting:fn(()=>il),multi:!0},il=(()=>{class t extends SD{max;inputName="max";normalizeInput=n=>_D(n);createValidator=n=>gP(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=An(t)))(i||t)}})();static \u0275dir=ot({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&eo("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[qn([BP]),tn]})}return t})(),jP={provide:pd,useExisting:fn(()=>ol),multi:!0},ol=(()=>{class t extends SD{min;inputName="min";normalizeInput=n=>_D(n);createValidator=n=>pP(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=An(t)))(i||t)}})();static \u0275dir=ot({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&eo("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[qn([jP]),tn]})}return t})();var MD=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ci({type:t});static \u0275inj=ii({})}return t})();var Fn=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:md,useValue:n.callSetDisabledState??vd}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ci({type:t});static \u0275inj=ii({imports:[MD]})}return t})(),TD=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:ED,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:md,useValue:n.callSetDisabledState??vd}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=ci({type:t});static \u0275inj=ii({imports:[MD]})}return t})();var HP=["svgCanvas"],GP=["mirrorLines"],$P=["mandalaGroup"],zP=["gridGroup"],WP=["customSvgCanvas"];function qP(t,e){if(t&1){let n=vt();x(0,"div",28),et(),x(1,"svg",29,4),U("mousedown",function(i){W(n);let o=_t();return q(o.startCustomDrawing(i))})("mousemove",function(i){W(n);let o=_t();return q(o.drawCustom(i))})("mouseup",function(){W(n);let i=_t();return q(i.stopCustomDrawing())})("mouseleave",function(){W(n);let i=_t();return q(i.stopCustomDrawing())}),J(3,"path",30),_(),fr(),x(4,"button",26),U("click",function(){W(n);let i=_t();return q(i.saveCustomPath())}),N(5,"Custom speichern"),_()()}}function YP(t,e){if(t&1){let n=vt();x(0,"div",6)(1,"label",31),N(2,"Grid-Typ:"),_(),x(3,"select",32),it("ngModelChange",function(i){W(n);let o=_t();return st(o.gridType,i)||(o.gridType=i),q(i)}),U("change",function(){W(n);let i=_t();return q(i.updateGrid())}),x(4,"option",33),N(5,"Kreis"),_(),x(6,"option",34),N(7,"Rechteck"),_()()()}if(t&2){let n=_t();V(3),rt("ngModel",n.gridType)}}function ZP(t,e){if(t&1){let n=vt();x(0,"div",6)(1,"label",35),N(2,"Kreise:"),_(),x(3,"input",36),it("ngModelChange",function(i){W(n);let o=_t();return st(o.gridCircles,i)||(o.gridCircles=i),q(i)}),U("input",function(){W(n);let i=_t();return q(i.updateGrid())}),_(),x(4,"span"),N(5),_()()}if(t&2){let n=_t();V(3),rt("ngModel",n.gridCircles),V(2),kt(n.gridCircles)}}function XP(t,e){if(t&1){let n=vt();x(0,"div",6)(1,"label",37),N(2,"Reihen:"),_(),x(3,"input",38),it("ngModelChange",function(i){W(n);let o=_t();return st(o.gridRows,i)||(o.gridRows=i),q(i)}),U("input",function(){W(n);let i=_t();return q(i.updateGrid())}),_(),x(4,"span"),N(5),_(),x(6,"label",39),N(7,"Spalten:"),_(),x(8,"input",40),it("ngModelChange",function(i){W(n);let o=_t();return st(o.gridCols,i)||(o.gridCols=i),q(i)}),U("input",function(){W(n);let i=_t();return q(i.updateGrid())}),_(),x(9,"span"),N(10),_()()}if(t&2){let n=_t();V(3),rt("ngModel",n.gridRows),V(2),kt(n.gridRows),V(3),rt("ngModel",n.gridCols),V(2),kt(n.gridCols)}}var yd=class t{svgCanvas;mirrorLines;mandalaGroup;gridGroup;customSvgCanvas;symmetry=8;drawing=!1;lastPoint=null;showGrid=!1;gridType="circle";gridCircles=5;gridRows=5;gridCols=5;strokeWidth=2;strokeStyle="solid";strokeCap="round";customPath=null;customDrawing=!1;customLastPoint=null;ngOnInit(){this.updateMirrorLines()}startDrawing(e){this.drawing=!0;let n=this.snapToGrid(this.getPoint(e));this.lastPoint=n}draw(e){if(!this.drawing||!this.lastPoint)return;let n=this.snapToGrid(this.getPoint(e));Math.sqrt(Math.pow(n.x-this.lastPoint.x,2)+Math.pow(n.y-this.lastPoint.y,2))>2&&(this.drawMirroredLines(this.lastPoint.x,this.lastPoint.y,n.x,n.y),this.lastPoint=n)}stopDrawing(){this.drawing=!1,this.lastPoint=null}getPoint(e){let n=this.svgCanvas.nativeElement.getBoundingClientRect(),r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,i=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;return{x:r-n.left,y:i-n.top}}snapToGrid(e){if(!this.showGrid)return e;let n=this.svgCanvas.nativeElement.clientWidth/2,r=this.svgCanvas.nativeElement.clientHeight/2;if(this.gridType==="circle"){let i=n/this.gridCircles,o=Math.sqrt(Math.pow(e.x-n,2)+Math.pow(e.y-r,2)),s=Math.round(o/i)*i,a=Math.atan2(e.y-r,e.x-n);return{x:n+Math.cos(a)*s,y:r+Math.sin(a)*s}}else if(this.gridType==="rectangle"){let i=this.svgCanvas.nativeElement.clientWidth/this.gridCols,o=this.svgCanvas.nativeElement.clientHeight/this.gridRows;return{x:Math.round(e.x/i)*i,y:Math.round(e.y/o)*o}}return e}drawMirroredLines(e,n,r,i){for(let o=0;o<this.symmetry;o++){let s=o*2*Math.PI/this.symmetry,a=this.svgCanvas.nativeElement.clientWidth/2,l=this.svgCanvas.nativeElement.clientHeight/2,u=Math.cos(s)*(e-a)-Math.sin(s)*(n-l)+a,c=Math.sin(s)*(e-a)+Math.cos(s)*(n-l)+l,d=Math.cos(s)*(r-a)-Math.sin(s)*(i-l)+a,f=Math.sin(s)*(r-a)+Math.cos(s)*(i-l)+l;this.strokeStyle==="dotted"?this.drawDotted(u,c,d,f):this.strokeStyle==="dashed"?this.drawDashed(u,c,d,f):this.strokeStyle==="rectangles"?this.drawRectangles(u,c,d,f):this.strokeStyle==="custom"&&this.customPath?this.drawCustomPath(u,c,d,f):this.drawStandardLine(u,c,d,f)}}drawStandardLine(e,n,r,i){this.createLine(e,n,r,i)}drawDotted(e,n,r,i){let o=Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2)),s=Math.atan2(i-n,r-e),a=15,l=0;for(;l<o;){let u=e+Math.cos(s)*l,c=n+Math.sin(s)*l,d=document.createElementNS("http://www.w3.org/2000/svg","circle");d.setAttribute("cx",u.toString()),d.setAttribute("cy",c.toString()),d.setAttribute("r",(this.strokeWidth/2).toString()),d.setAttribute("fill","var(--secondary-color)"),this.mandalaGroup.nativeElement.appendChild(d),l+=a}}drawDashed(e,n,r,i){let o=Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2)),s=Math.atan2(i-n,r-e),a=20,l=10,u=0;for(;u<o;){let c=e+Math.cos(s)*u,d=n+Math.sin(s)*u,f=document.createElementNS("http://www.w3.org/2000/svg","line");f.setAttribute("x1",c.toString()),f.setAttribute("y1",(d-l/2).toString()),f.setAttribute("x2",c.toString()),f.setAttribute("y2",(d+l/2).toString()),f.setAttribute("stroke","var(--secondary-color)"),f.setAttribute("stroke-width",this.strokeWidth.toString()),this.mandalaGroup.nativeElement.appendChild(f),u+=a}}drawRectangles(e,n,r,i){let o=Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2)),s=Math.atan2(i-n,r-e),a=25,l=10,u=5,c=0;for(;c<o;){let d=e+Math.cos(s)*c,f=n+Math.sin(s)*c,h=document.createElementNS("http://www.w3.org/2000/svg","rect");h.setAttribute("x",(d-l/2).toString()),h.setAttribute("y",(f-u/2).toString()),h.setAttribute("width",l.toString()),h.setAttribute("height",u.toString()),h.setAttribute("fill","var(--secondary-color)"),h.setAttribute("transform",`rotate(${s*180/Math.PI}, ${d}, ${f})`),this.mandalaGroup.nativeElement.appendChild(h),c+=a}}drawCustomPath(e,n,r,i){let o=Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2)),s=Math.atan2(i-n,r-e),a=30,l=0;for(;l<o;){let u=e+Math.cos(s)*l,c=n+Math.sin(s)*l,d=document.createElementNS("http://www.w3.org/2000/svg","use");d.setAttribute("href","#customPath"),d.setAttribute("x",u.toString()),d.setAttribute("y",c.toString()),d.setAttribute("transform",`rotate(${s*180/Math.PI}, ${u}, ${c})`),this.mandalaGroup.nativeElement.appendChild(d),l+=a}}createLine(e,n,r,i){let o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",e.toString()),o.setAttribute("y1",n.toString()),o.setAttribute("x2",r.toString()),o.setAttribute("y2",i.toString()),o.setAttribute("stroke","var(--secondary-color)"),o.setAttribute("stroke-width",this.strokeWidth.toString()),o.setAttribute("stroke-linecap",this.strokeCap),this.mandalaGroup.nativeElement.appendChild(o)}startCustomDrawing(e){this.customDrawing=!0;let n=this.getCustomSvgPoint(e);this.customLastPoint=n,this.customSvgCanvas.nativeElement.querySelector("path").setAttribute("d",`M ${n.x} ${n.y}`)}drawCustom(e){if(!this.customDrawing||!this.customLastPoint)return;let n=this.getCustomSvgPoint(e),r=this.customSvgCanvas.nativeElement.querySelector("path"),i=r.getAttribute("d")||"";r.setAttribute("d",`${i} L ${n.x} ${n.y}`),this.customLastPoint=n}stopCustomDrawing(){this.customDrawing=!1,this.customLastPoint=null,this.saveCustomPath()}getCustomSvgPoint(e){let n=this.customSvgCanvas.nativeElement.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}saveCustomPath(){let e=this.customSvgCanvas.nativeElement.querySelector("path"),n=new XMLSerializer().serializeToString(e);this.customPath=n}updateMirrorLines(){let e=this.svgCanvas.nativeElement,n=this.mirrorLines.nativeElement;for(;n.firstChild;)n.removeChild(n.firstChild);let r=e.clientWidth/2,i=e.clientHeight/2;for(let o=0;o<this.symmetry;o++){let s=o*2*Math.PI/this.symmetry,a=r+Math.cos(s)*r,l=i+Math.sin(s)*i,u=document.createElementNS("http://www.w3.org/2000/svg","line");u.setAttribute("x1",r.toString()),u.setAttribute("y1",i.toString()),u.setAttribute("x2",a.toString()),u.setAttribute("y2",l.toString()),u.setAttribute("stroke","#cccccc"),u.setAttribute("stroke-dasharray","5,5"),u.setAttribute("stroke-width","1"),n.appendChild(u)}}updateGrid(){let e=this.svgCanvas.nativeElement,n=this.gridGroup.nativeElement;for(;n.firstChild;)n.removeChild(n.firstChild);let r=e.clientWidth/2,i=e.clientHeight/2;if(this.gridType==="circle"){let o=r/this.gridCircles;for(let s=1;s<=this.gridCircles;s++){let a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("cx",r.toString()),a.setAttribute("cy",i.toString()),a.setAttribute("r",(s*o).toString()),a.setAttribute("stroke","var(--secondary-color)"),a.setAttribute("stroke-dasharray","5,5"),a.setAttribute("fill","none"),n.appendChild(a)}}else if(this.gridType==="rectangle"){let o=e.clientWidth/this.gridCols,s=e.clientHeight/this.gridRows;for(let a=1;a<this.gridCols;a++){let l=a*o,u=document.createElementNS("http://www.w3.org/2000/svg","line");u.setAttribute("x1",l.toString()),u.setAttribute("y1","0"),u.setAttribute("x2",l.toString()),u.setAttribute("y2",e.clientHeight.toString()),u.setAttribute("stroke","var(--secondary-color)"),u.setAttribute("stroke-dasharray","5,5"),n.appendChild(u)}for(let a=1;a<this.gridRows;a++){let l=a*s,u=document.createElementNS("http://www.w3.org/2000/svg","line");u.setAttribute("x1","0"),u.setAttribute("y1",l.toString()),u.setAttribute("x2",e.clientWidth.toString()),u.setAttribute("y2",l.toString()),u.setAttribute("stroke","var(--secondary-color)"),u.setAttribute("stroke-dasharray","5,5"),n.appendChild(u)}}}downloadMandala(){let e=this.mandalaGroup.nativeElement.cloneNode(!0),n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("viewBox","0 0 500 500"),n.setAttribute("width","500"),n.setAttribute("height","500"),n.appendChild(e);let i=new XMLSerializer().serializeToString(n),o=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),s=URL.createObjectURL(o),a=document.createElement("a");a.href=s,a.download="mandala.svg",a.click(),URL.revokeObjectURL(s)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=We({type:t,selectors:[["app-mandala"]],viewQuery:function(n,r){if(n&1&&(Be(HP,5),Be(GP,5),Be($P,5),Be(zP,5),Be(WP,5)),n&2){let i;Ve(i=Ue())&&(r.svgCanvas=i.first),Ve(i=Ue())&&(r.mirrorLines=i.first),Ve(i=Ue())&&(r.mandalaGroup=i.first),Ve(i=Ue())&&(r.gridGroup=i.first),Ve(i=Ue())&&(r.customSvgCanvas=i.first)}},decls:58,vars:11,consts:[["svgCanvas",""],["mirrorLines",""],["gridGroup",""],["mandalaGroup",""],["customSvgCanvas",""],[1,"settingscontainer"],[1,"setting-group"],["for","symmetry"],["id","symmetry","type","range","min","1","max","50",3,"ngModelChange","input","ngModel"],["for","strokeWidth"],["id","strokeWidth","type","range","min","1","max","20",3,"ngModelChange","ngModel"],["for","strokeStyle"],["id","strokeStyle",3,"ngModelChange","ngModel"],["value","solid"],["value","dashed"],["value","dotted"],["value","rectangles"],["value","custom"],["class","custom-canvas-container",4,"ngIf"],["for","strokeCap"],["id","strokeCap",3,"ngModelChange","ngModel"],["value","round"],["value","square"],["value","butt"],["type","checkbox",3,"ngModelChange","change","ngModel"],["class","setting-group",4,"ngIf"],[3,"click"],["id","mandalaDrawingSVG","xmlns","http://www.w3.org/2000/svg",3,"mousedown","mousemove","mouseup","mouseleave","touchstart","touchmove","touchend"],[1,"custom-canvas-container"],["xmlns","http://www.w3.org/2000/svg","width","200","height","100",2,"border","1px solid black","touch-action","none",3,"mousedown","mousemove","mouseup","mouseleave"],["d","M 0 0","stroke","black","stroke-width","2","fill","none"],["for","gridType"],["id","gridType",3,"ngModelChange","change","ngModel"],["value","circle"],["value","rectangle"],["for","gridCircles"],["id","gridCircles","type","range","min","1","max","20",3,"ngModelChange","input","ngModel"],["for","gridRows"],["id","gridRows","type","range","min","1","max","20",3,"ngModelChange","input","ngModel"],["for","gridCols"],["id","gridCols","type","range","min","1","max","20",3,"ngModelChange","input","ngModel"]],template:function(n,r){if(n&1){let i=vt();x(0,"div",5)(1,"h3"),N(2,"Einstellungen"),_(),x(3,"div",6)(4,"label",7),N(5,"Spiegelungen:"),_(),x(6,"input",8),it("ngModelChange",function(s){return W(i),st(r.symmetry,s)||(r.symmetry=s),q(s)}),U("input",function(){return W(i),q(r.updateMirrorLines())}),_(),x(7,"span"),N(8),_()(),x(9,"div",6)(10,"label",9),N(11,"Strichbreite:"),_(),x(12,"input",10),it("ngModelChange",function(s){return W(i),st(r.strokeWidth,s)||(r.strokeWidth=s),q(s)}),_(),x(13,"span"),N(14),_()(),x(15,"div",6)(16,"label",11),N(17,"Strichart:"),_(),x(18,"select",12),it("ngModelChange",function(s){return W(i),st(r.strokeStyle,s)||(r.strokeStyle=s),q(s)}),x(19,"option",13),N(20,"Durchgezogen"),_(),x(21,"option",14),N(22,"Gestrichelt"),_(),x(23,"option",15),N(24,"Gepunktet"),_(),x(25,"option",16),N(26,"Rechtecke"),_(),x(27,"option",17),N(28,"Custom"),_()()(),pr(29,qP,6,0,"div",18),x(30,"div",6)(31,"label",19),N(32,"Strichende:"),_(),x(33,"select",20),it("ngModelChange",function(s){return W(i),st(r.strokeCap,s)||(r.strokeCap=s),q(s)}),x(34,"option",21),N(35,"Rund"),_(),x(36,"option",22),N(37,"Quadratisch"),_(),x(38,"option",23),N(39,"Abgestutzt"),_()()(),x(40,"div",6)(41,"label")(42,"input",24),it("ngModelChange",function(s){return W(i),st(r.showGrid,s)||(r.showGrid=s),q(s)}),U("change",function(){return W(i),q(r.updateGrid())}),_(),x(43,"span"),N(44,"Grid anzeigen"),_()()(),pr(45,YP,8,1,"div",25)(46,ZP,6,2,"div",25)(47,XP,11,4,"div",25),x(48,"button",26),U("click",function(){return W(i),q(r.downloadMandala())}),N(49,"Download Mandala"),_()(),et(),x(50,"svg",27,0),U("mousedown",function(s){return W(i),q(r.startDrawing(s))})("mousemove",function(s){return W(i),q(r.draw(s))})("mouseup",function(){return W(i),q(r.stopDrawing())})("mouseleave",function(){return W(i),q(r.stopDrawing())})("touchstart",function(s){return W(i),q(r.startDrawing(s))})("touchmove",function(s){return W(i),q(r.draw(s))})("touchend",function(){return W(i),q(r.stopDrawing())}),J(52,"g",null,1)(54,"g",null,2)(56,"g",null,3),_()}n&2&&(V(6),rt("ngModel",r.symmetry),V(2),kt(r.symmetry),V(4),rt("ngModel",r.strokeWidth),V(2),kt(r.strokeWidth),V(4),rt("ngModel",r.strokeStyle),V(11),Me("ngIf",r.strokeStyle==="custom"),V(4),rt("ngModel",r.strokeCap),V(9),rt("ngModel",r.showGrid),V(3),Me("ngIf",r.showGrid),V(),Me("ngIf",r.showGrid&&r.gridType==="circle"),V(),Me("ngIf",r.showGrid&&r.gridType==="rectangle"))},dependencies:[Fn,gi,mi,kn,rl,nl,mr,On,Xn,St,WC],styles:['@charset "UTF-8";[_nghost-%COMP%]{height:100%;width:100%;display:flex}#svg-container[_ngcontent-%COMP%]{width:500px;height:500px;border:1px solid #ccc;display:flex;justify-content:center;align-items:center}#mandalaDrawingSVG[_ngcontent-%COMP%]{height:500px;width:500px;background-color:var(--primary-color);border-radius:50%;box-shadow:5px 5px var(--secondary-color);border:2px solid var(--secondary-color)}@media (max-width: 768px){[_nghost-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:center}#mandalaDrawingSVG[_ngcontent-%COMP%]{height:400px;width:400px}}']})};var QP=["dynamicText"],KP=["svgWorkspace"],JP=["displacementImage"],e2=["feDisplacementMap"],bd=class t{constructor(e){this.renderer=e}dynamicText;svgWorkspace;displacementImage;feDisplacementMap;scale=20;fontSize=120;textContent="Klicke hier, um zu schreiben";imageSize=100;ngAfterViewInit(){this.updateDisplacementScale(),this.updateDisplacementImageSize(),this.applyWordWrap()}adjustFontSize(e){this.fontSize=e,this.dynamicText.nativeElement.style.fontSize=`${this.fontSize}px`,this.applyWordWrap()}adjustScale(e){this.scale=e,this.updateDisplacementScale()}adjustImageSize(e){this.imageSize=e,this.updateDisplacementImageSize()}handleKeyDown(e){e.key==="Enter"?(e.preventDefault(),this.textContent==="Klicke hier, um zu schreiben"&&(this.textContent=""),this.textContent+=`
`):e.key==="Backspace"?this.textContent==="Klicke hier, um zu schreiben"?this.textContent="":this.textContent=this.textContent.slice(0,-1):e.key.length===1&&(this.textContent==="Klicke hier, um zu schreiben"&&(this.textContent=""),this.textContent+=e.key),this.applyWordWrap()}applyWordWrap(){if(this.dynamicText){for(;this.dynamicText.nativeElement.firstChild;)this.dynamicText.nativeElement.removeChild(this.dynamicText.nativeElement.firstChild);let e=this.textContent.split(" "),n=this.svgWorkspace.nativeElement.clientWidth-20,r=this.fontSize*1.2,i="",o=0;e.forEach(s=>{let a=i+(i?" ":"")+s;this.calculateTextWidth(a)>n?(this.addTspan(i,o++*r),i=s):i=a}),i&&this.addTspan(i,o*r)}}calculateTextWidth(e){let n=this.renderer.createElement("text","svg");this.renderer.setStyle(n,"visibility","hidden"),this.renderer.setAttribute(n,"font-size",`${this.fontSize}px`),this.renderer.setProperty(n,"textContent",e),this.renderer.appendChild(this.svgWorkspace.nativeElement,n);let r=n.getBBox().width;return this.renderer.removeChild(this.svgWorkspace.nativeElement,n),r}addTspan(e,n){let r=this.renderer.createElement("tspan","svg");this.renderer.setAttribute(r,"x","10"),this.renderer.setAttribute(r,"dy",`${n}px`),r.textContent=e,this.renderer.appendChild(this.dynamicText.nativeElement,r)}uploadDisplacementMap(e){let n=e.target;if(n.files&&n.files[0]){let r=new FileReader;r.onload=()=>{this.displacementImage&&this.displacementImage.nativeElement.setAttribute("href",r.result)},r.readAsDataURL(n.files[0])}}updateDisplacementScale(){this.feDisplacementMap&&this.renderer.setAttribute(this.feDisplacementMap.nativeElement,"scale",`${this.scale}`)}updateDisplacementImageSize(){if(this.displacementImage){let e=(100-this.imageSize)/2;this.renderer.setAttribute(this.displacementImage.nativeElement,"width",`${this.imageSize}%`),this.renderer.setAttribute(this.displacementImage.nativeElement,"height",`${this.imageSize}%`),this.renderer.setAttribute(this.displacementImage.nativeElement,"x",`${e}%`),this.renderer.setAttribute(this.displacementImage.nativeElement,"y",`${e}%`)}}static \u0275fac=function(n){return new(n||t)(ye(hn))};static \u0275cmp=We({type:t,selectors:[["app-displacement-map"]],viewQuery:function(n,r){if(n&1&&(Be(QP,5),Be(KP,5),Be(JP,5),Be(e2,5)),n&2){let i;Ve(i=Ue())&&(r.dynamicText=i.first),Ve(i=Ue())&&(r.svgWorkspace=i.first),Ve(i=Ue())&&(r.displacementImage=i.first),Ve(i=Ue())&&(r.feDisplacementMap=i.first)}},hostBindings:function(n,r){n&1&&U("keydown",function(o){return r.handleKeyDown(o)},!1,Sw)},decls:24,vars:6,consts:[["svgWorkspace",""],["displacementImage",""],["feDisplacementMap",""],["dynamicText",""],[1,"settingscontainer"],["for","displacementMapUpload"],["type","file","id","displacementMapUpload",3,"change"],["for","scaleRange"],["type","range","id","scaleRange","min","1","max","100",3,"input","value"],["for","fontSizeRange"],["type","range","id","fontSizeRange","min","10","max","200",3,"input","value"],["for","imageSizeRange"],["type","range","id","imageSizeRange","min","10","max","500",3,"input","value"],[1,"workspace"],["xmlns","http://www.w3.org/2000/svg",1,"wrapper"],["id","displacement-filter","x","0","y","0"],["href",""],["in","SourceGraphic","in2","displacementImage","scale","20","xChannelSelector","R","yChannelSelector","G"],["text-anchor","start","dominant-baseline","hanging","filter","url(#displacement-filter)"]],template:function(n,r){if(n&1){let i=vt();x(0,"div",4)(1,"label",5),N(2,"Displacement Map hochladen:"),_(),x(3,"input",6),U("change",function(s){return W(i),q(r.uploadDisplacementMap(s))}),_(),x(4,"label",7),N(5),_(),x(6,"input",8),U("input",function(s){return W(i),q(r.adjustScale(s.target.value))}),_(),x(7,"label",9),N(8),_(),x(9,"input",10),U("input",function(s){return W(i),q(r.adjustFontSize(s.target.value))}),_(),x(10,"label",11),N(11),_(),x(12,"input",12),U("input",function(s){return W(i),q(r.adjustImageSize(s.target.value))}),_()(),x(13,"div",13),et(),x(14,"svg",14,0)(16,"defs")(17,"filter",15),J(18,"feImage",16,1)(20,"feDisplacementMap",17,2),_()(),J(22,"text",18,3),_()()}n&2&&(V(5),vs("Displacement Scale: ",r.scale,""),V(),Me("value",r.scale),V(2),vs("Schriftgr\xF6\xDFe: ",r.fontSize,""),V(),Me("value",r.fontSize),V(2),vs("Image Size (%): ",r.imageSize,""),V(),Me("value",r.imageSize))},dependencies:[St],styles:['@charset "UTF-8";[_nghost-%COMP%]{height:100%;width:100%;display:flex}.wrapper[_ngcontent-%COMP%]{width:100%;height:100%;background-color:var(--primary-color);border-radius:12%}input[type=range][_ngcontent-%COMP%]{width:100%;height:50px}@media (max-width: 768px){.wrapper[_ngcontent-%COMP%]{width:100%;height:100%;border-radius:10%}input[type=range][_ngcontent-%COMP%]{width:90%;height:40px;margin:10px 0}[_nghost-%COMP%]{flex-direction:column;align-items:center;justify-content:center}}']})};var t2=["gridCanvas"],n2=["workspace"],wd=class t{constructor(e){this.renderer=e}gridCanvas;workspace;rows=10;columns=10;cellSize=50;spacing=5;shape="rectangle";mode="fastFill";ngOnInit(){this.drawGrid()}onResize(){this.drawGrid()}drawGrid(){let e=this.gridCanvas.nativeElement;for(;e.firstChild;)e.removeChild(e.firstChild);for(let n=0;n<this.rows;n++)for(let r=0;r<this.columns;r++){let i=r*(this.cellSize+this.spacing),o=n*(this.cellSize+this.spacing),s;switch(this.shape){case"circle":s=this.createCircle(i,o,this.cellSize);break;case"rectangle":s=this.createRectangle(i,o,this.cellSize);break;case"triangle":s=this.createTriangle(i,o,this.cellSize,n,r);break;case"polygon":s=this.createPolygon(i,o,this.cellSize);break;default:s=this.createRectangle(i,o,this.cellSize)}this.renderer.listen(s,"click",()=>this.handleClick(s)),this.renderer.listen(s,"mousemove",a=>this.handleMouseMove(a,s)),this.renderer.appendChild(e,s)}}createCircle(e,n,r){let i=this.renderer.createElement("circle","svg");return this.renderer.setAttribute(i,"cx",(e+r/2).toString()),this.renderer.setAttribute(i,"cy",(n+r/2).toString()),this.renderer.setAttribute(i,"r",(r/2).toString()),this.renderer.setAttribute(i,"stroke","var(--secondary-color)"),this.renderer.setAttribute(i,"fill","none"),this.renderer.setAttribute(i,"class","grid-shape"),i}createRectangle(e,n,r){let i=this.renderer.createElement("rect","svg");return this.renderer.setAttribute(i,"x",e.toString()),this.renderer.setAttribute(i,"y",n.toString()),this.renderer.setAttribute(i,"width",r.toString()),this.renderer.setAttribute(i,"height",r.toString()),this.renderer.setAttribute(i,"stroke","var(--secondary-color)"),this.renderer.setAttribute(i,"fill","none"),this.renderer.setAttribute(i,"class","grid-shape"),i}createTriangle(e,n,r,i,o){let s=this.renderer.createElement("polygon","svg"),a=Math.sqrt(3)/2*r,u=(i+o)%2===1?`${e+r/2},${n} ${e},${n+a} ${e+r},${n+a}`:`${e},${n} ${e+r/2},${n+a} ${e+r},${n}`;return this.renderer.setAttribute(s,"points",u),this.renderer.setAttribute(s,"stroke","var(--secondary-color)"),this.renderer.setAttribute(s,"fill","none"),this.renderer.setAttribute(s,"class","grid-shape"),s}createPolygon(e,n,r){let i=this.renderer.createElement("polygon","svg"),o=this.getHexagonPoints(e,n,r);return this.renderer.setAttribute(i,"points",o),this.renderer.setAttribute(i,"stroke","var(--secondary-color)"),this.renderer.setAttribute(i,"fill","none"),this.renderer.setAttribute(i,"class","grid-shape"),i}getHexagonPoints(e,n,r){let i=r/2,o=Math.sqrt(3)*i;return`
      ${e+i},${n} 
      ${e+r},${n+o/2} 
      ${e+r},${n+o/2+i} 
      ${e+i},${n+r} 
      ${e},${n+o/2+i} 
      ${e},${n+o/2}
    `.trim()}handleClick(e){this.mode==="clickFill"?this.renderer.setAttribute(e,"fill","var(--secondary-color)"):this.mode==="outline"&&(this.renderer.setAttribute(e,"stroke","var(--secondary-color)"),this.renderer.setAttribute(e,"fill","none"))}handleMouseMove(e,n){if(this.mode==="fastFill")e.buttons===1&&this.renderer.setAttribute(n,"fill","var(--secondary-color)");else if(this.mode==="snapToLine"){let r=this.getClosestShape(e.offsetX,e.offsetY);r&&this.renderer.setAttribute(r,"fill","var(--secondary-color)")}}getClosestShape(e,n){let r=Array.from(this.gridCanvas.nativeElement.querySelectorAll(".grid-shape")),i=null,o=1/0;return r.forEach(s=>{let a=this.shape==="circle"?parseFloat(s.getAttribute("cx")):parseFloat(s.getAttribute("x"))+this.cellSize/2,l=this.shape==="circle"?parseFloat(s.getAttribute("cy")):parseFloat(s.getAttribute("y"))+this.cellSize/2,u=Math.sqrt(Math.pow(a-e,2)+Math.pow(l-n,2));u<o&&(o=u,i=s)}),i}downloadSVG(e){let n=this.gridCanvas.nativeElement.cloneNode(!0);e||n.querySelectorAll(".grid-shape").forEach(u=>{let c=u.getAttribute("fill");(c==="none"||!c)&&u.remove()});let i=new XMLSerializer().serializeToString(n),o=new Blob([i],{type:"image/svg+xml"}),s=URL.createObjectURL(o),a=document.createElement("a");a.href=s,a.download="grid-pattern.svg",a.click(),URL.revokeObjectURL(s)}setMode(e){this.mode=e}static \u0275fac=function(n){return new(n||t)(ye(hn))};static \u0275cmp=We({type:t,selectors:[["app-grid-pattern"]],viewQuery:function(n,r){if(n&1&&(Be(t2,7),Be(n2,7)),n&2){let i;Ve(i=Ue())&&(r.gridCanvas=i.first),Ve(i=Ue())&&(r.workspace=i.first)}},hostBindings:function(n,r){n&1&&U("resize",function(){return r.onResize()},!1,gs)},decls:38,vars:4,consts:[["gridCanvas",""],[1,"settingscontainer"],["for","rows"],["type","number","id","rows","min","1","max","20",3,"ngModelChange","change","ngModel"],["for","columns"],["type","number","id","columns","min","1","max","20",3,"ngModelChange","change","ngModel"],["for","cellSize"],["type","number","id","cellSize","min","10","max","100",3,"ngModelChange","change","ngModel"],["for","shape"],["id","shape",3,"ngModelChange","change","ngModel"],["value","circle"],["value","rectangle"],["value","triangle"],["value","polygon"],[1,"mode-buttons"],[3,"click"],[1,"download-buttons"],[1,"workspace"],["id","gridCanvas"]],template:function(n,r){if(n&1){let i=vt();x(0,"div",1)(1,"label",2),N(2,"Reihen:"),_(),x(3,"input",3),it("ngModelChange",function(s){return W(i),st(r.rows,s)||(r.rows=s),q(s)}),U("change",function(){return W(i),q(r.drawGrid())}),_(),x(4,"label",4),N(5,"Spalten:"),_(),x(6,"input",5),it("ngModelChange",function(s){return W(i),st(r.columns,s)||(r.columns=s),q(s)}),U("change",function(){return W(i),q(r.drawGrid())}),_(),x(7,"label",6),N(8,"Zellengr\xF6\xDFe:"),_(),x(9,"input",7),it("ngModelChange",function(s){return W(i),st(r.cellSize,s)||(r.cellSize=s),q(s)}),U("change",function(){return W(i),q(r.drawGrid())}),_(),x(10,"label",8),N(11,"Form:"),_(),x(12,"select",9),it("ngModelChange",function(s){return W(i),st(r.shape,s)||(r.shape=s),q(s)}),U("change",function(){return W(i),q(r.drawGrid())}),x(13,"option",10),N(14,"Kreis"),_(),x(15,"option",11),N(16,"Rechteck"),_(),x(17,"option",12),N(18,"Dreieck"),_(),x(19,"option",13),N(20,"Polygon (Hexagon)"),_()(),x(21,"div",14)(22,"button",15),U("click",function(){return W(i),q(r.setMode("fastFill"))}),N(23,"Schnelles Bef\xFCllen"),_(),x(24,"button",15),U("click",function(){return W(i),q(r.setMode("clickFill"))}),N(25,"Klick-Bef\xFCllen"),_(),x(26,"button",15),U("click",function(){return W(i),q(r.setMode("outline"))}),N(27,"Outline"),_(),x(28,"button",15),U("click",function(){return W(i),q(r.setMode("snapToLine"))}),N(29,"Snap-to-Line"),_()(),x(30,"div",16)(31,"button",15),U("click",function(){return W(i),q(r.downloadSVG(!0))}),N(32,"Download mit Gitter"),_(),x(33,"button",15),U("click",function(){return W(i),q(r.downloadSVG(!1))}),N(34,"Download ohne Gitter"),_()()(),x(35,"div",17),et(),J(36,"svg",18,0),_()}n&2&&(V(3),rt("ngModel",r.rows),V(3),rt("ngModel",r.columns),V(3),rt("ngModel",r.cellSize),V(3),rt("ngModel",r.shape))},dependencies:[Fn,gi,mi,kn,lo,mr,On,ol,il,Xn],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row}#gridCanvas[_ngcontent-%COMP%]{height:100%;width:100%;border:2px solid var(--secondary-color);border-radius:12%;background-color:var(--primary-color);box-shadow:5px 5px var(--secondary-color)}@media (max-width: 768px){[_nghost-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:center}}"]})};var r2=["svgCanvas"],Cd=class t{svgCanvas;uploadSVG(e){let n=e.target;if(n?.files?.[0]){let r=n.files[0],i=new FileReader;i.onload=()=>{let a=new DOMParser().parseFromString(i.result,"image/svg+xml").documentElement;this.svgCanvas.nativeElement.innerHTML="",this.svgCanvas.nativeElement.appendChild(a),a.querySelectorAll("path, circle, line, polyline, polygon").forEach(l=>{l.style.stroke="black"})},i.readAsText(r)}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=We({type:t,selectors:[["app-animator"]],viewQuery:function(n,r){if(n&1&&Be(r2,7),n&2){let i;Ve(i=Ue())&&(r.svgCanvas=i.first)}},decls:7,vars:0,consts:[["svgCanvas",""],[1,"settingscontainer"],["type","file","accept",".svg",3,"change"],[1,"workspace"],["xmlns","http://www.w3.org/2000/svg",1,"svgcanvas",2,"width","100%","height","100%"]],template:function(n,r){if(n&1){let i=vt();x(0,"div",1)(1,"h2"),N(2,"Upload SVG"),_(),x(3,"input",2),U("change",function(s){return W(i),q(r.uploadSVG(s))}),_()(),x(4,"div",3),et(),J(5,"svg",4,0),_()}},styles:[".svgcanvas[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%], line[_ngcontent-%COMP%]{stroke-dasharray:500;stroke-dashoffset:500;animation:_ngcontent-%COMP%_draw 4s linear forwards;stroke-width:20px;animation:_ngcontent-%COMP%_draw 5s}@keyframes _ngcontent-%COMP%_draw{to{stroke-dashoffset:0}}"]})};var i2=["smallCanvas"],o2=["largeCanvas"],s2=["drawingArea"],a2=["rectangleGrid"],Ed=class t{smallCanvasRef;largeCanvasRef;drawingAreaRef;rectangleGridRef;drawingPath="";isDrawing=!1;isDrawingLarge=!1;numRows=10;numCols=10;gridSize=20;pathElement=null;listenersAdded=!1;ngAfterViewInit(){this.listenersAdded||(this.setupEventListeners(),this.listenersAdded=!0),this.drawRectangleGrid()}setupEventListeners(){let e=this.smallCanvasRef.nativeElement;e.addEventListener("mousedown",r=>this.startDrawing(r)),e.addEventListener("mousemove",r=>this.draw(r)),window.addEventListener("mouseup",()=>this.stopDrawing());let n=this.largeCanvasRef.nativeElement;n.addEventListener("mousedown",r=>this.startLargeDrawing(r)),n.addEventListener("mousemove",r=>this.drawLarge(r)),window.addEventListener("mouseup",()=>this.stopLargeDrawing())}startDrawing(e){this.isDrawing=!0;let[n,r]=this.getMousePosition(e,this.smallCanvasRef.nativeElement),[i,o]=this.shouldSnapToGrid()?this.snapToGrid(n,r):[n,r];this.pathElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.pathElement.setAttribute("d",`M${i},${o}`),this.pathElement.setAttribute("stroke","var(--secondary-color)"),this.pathElement.setAttribute("stroke-width","2"),this.pathElement.setAttribute("fill","none"),this.drawingAreaRef.nativeElement.appendChild(this.pathElement)}draw(e){if(!this.isDrawing||!this.pathElement)return;let[n,r]=this.getMousePosition(e,this.smallCanvasRef.nativeElement),[i,o]=this.shouldSnapToGrid()?this.snapToGrid(n,r):[n,r],s=this.pathElement.getAttribute("d")+` L${i},${o}`;this.pathElement.setAttribute("d",s)}stopDrawing(){this.isDrawing=!1,this.pathElement&&(this.drawingPath=this.pathElement.getAttribute("d")||"",this.pathElement=null)}getMousePosition(e,n){let r=n.getBoundingClientRect();return[e.clientX-r.left,e.clientY-r.top]}snapToGrid(e,n){let r=this.smallCanvasRef.nativeElement.width.baseVal.value,i=this.smallCanvasRef.nativeElement.height.baseVal.value,o=r/this.numCols,s=i/this.numRows,a=Math.round(e/o)*o,l=Math.round(n/s)*s;return[a,l]}shouldSnapToGrid(){return this.rectangleGridRef.nativeElement.style.visibility==="visible"}drawRectangleGrid(){let e=this.rectangleGridRef.nativeElement;e.innerHTML="";let n=this.smallCanvasRef.nativeElement.width.baseVal.value,r=this.smallCanvasRef.nativeElement.height.baseVal.value;for(let i=0;i<=this.numRows;i++){let o=i*r/this.numRows,s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1","0"),s.setAttribute("y1",o.toString()),s.setAttribute("x2",n.toString()),s.setAttribute("y2",o.toString()),s.setAttribute("stroke","#ccc"),s.setAttribute("stroke-width","1"),e.appendChild(s)}for(let i=0;i<=this.numCols;i++){let o=i*n/this.numCols,s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1",o.toString()),s.setAttribute("y1","0"),s.setAttribute("x2",o.toString()),s.setAttribute("y2",r.toString()),s.setAttribute("stroke","#ccc"),s.setAttribute("stroke-width","1"),e.appendChild(s)}}toggleGrid(){let e=this.rectangleGridRef.nativeElement;e.style.visibility=e.style.visibility==="visible"?"hidden":"visible",this.drawRectangleGrid()}startLargeDrawing(e){if(!this.drawingPath)return;this.isDrawingLarge=!0;let[n,r]=this.getMousePosition(e,this.largeCanvasRef.nativeElement);this.drawRepeatedPattern(n,r)}drawLarge(e){if(!this.isDrawingLarge)return;let[n,r]=this.getMousePosition(e,this.largeCanvasRef.nativeElement);this.drawRepeatedPattern(n,r)}stopLargeDrawing(){this.isDrawingLarge=!1}drawRepeatedPattern(e,n){let r=this.largeCanvasRef.nativeElement,i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d",this.drawingPath),i.setAttribute("stroke","var(--secondary-color)"),i.setAttribute("stroke-width","2"),i.setAttribute("fill","none"),i.setAttribute("transform",`translate(${e}, ${n})`),r.appendChild(i)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=We({type:t,selectors:[["app-customBrush"]],viewQuery:function(n,r){if(n&1&&(Be(i2,5),Be(o2,5),Be(s2,5),Be(a2,5)),n&2){let i;Ve(i=Ue())&&(r.smallCanvasRef=i.first),Ve(i=Ue())&&(r.largeCanvasRef=i.first),Ve(i=Ue())&&(r.drawingAreaRef=i.first),Ve(i=Ue())&&(r.rectangleGridRef=i.first)}},decls:18,vars:2,consts:[["smallCanvas",""],["rectangleGrid",""],["drawingArea",""],["largeCanvas",""],[1,"settingscontainer"],["for","rowsInput"],["type","number","id","rowsInput",3,"ngModelChange","input","ngModel"],["for","columnsInput"],["type","number","id","columnsInput",3,"ngModelChange","input","ngModel"],[3,"click"],["id","smallCanvas"],[1,"grid",2,"height","100%"],[1,"workspace"],["id","largeCanvas"]],template:function(n,r){if(n&1){let i=vt();x(0,"div",4)(1,"label",5),N(2,"Zeilen: "),_(),x(3,"input",6),it("ngModelChange",function(s){return W(i),st(r.numRows,s)||(r.numRows=s),q(s)}),U("input",function(){return W(i),q(r.drawRectangleGrid())}),_(),x(4,"label",7),N(5,"Spalten: "),_(),x(6,"input",8),it("ngModelChange",function(s){return W(i),st(r.numCols,s)||(r.numCols=s),q(s)}),U("input",function(){return W(i),q(r.drawRectangleGrid())}),_(),x(7,"button",9),U("click",function(){return W(i),q(r.toggleGrid())}),N(8,"Toggle Grid"),_(),et(),x(9,"svg",10,0),J(11,"g",11,1)(13,"g",null,2),_()(),fr(),x(15,"div",12),et(),J(16,"svg",13,3),_()}n&2&&(V(3),rt("ngModel",r.numRows),V(3),rt("ngModel",r.numCols))},dependencies:[St,Fn,kn,lo,On,Xn],styles:["[_nghost-%COMP%]{display:flex}#smallCanvas[_ngcontent-%COMP%]{border:2px solid var(--secondary-color);width:100%;height:200px}#largeCanvas[_ngcontent-%COMP%]{border:2px solid var(--secondary-color);border-radius:12%;background-color:var(--primary-color);box-shadow:5px 5px var(--secondary-color);width:100%;height:100%}@media (max-width: 768px){[_nghost-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}#smallCanvas[_ngcontent-%COMP%]{border:2px solid var(--secondary-color);width:100%;height:200px}}"]})};var l2=["canvasContainer"];function u2(t,e){if(t&1&&(x(0,"option",13),N(1),_()),t&2){let n=e.$implicit;Me("value",n),V(),kt(n)}}var Dd=class t{canvasContainer;svg;isDrawing=!1;lines=[];currentDistortionType="vertical";settingsForm=new fd({layout:new pi("horizontal"),lineCount:new pi(30),amplitude:new pi(20),brushStrength:new pi(70),lineWidth:new pi(1.5),distortionType:new pi("vertical")});distortionTypes=["vertical","horizontal","radial","chaotic","wave","vortex","shear","gravity","collision","elastic","magnetic","bulge","sharp"];constructor(){}ngOnInit(){this.svg=this.canvasContainer.nativeElement,this.generateLines(),this.settingsForm.valueChanges.subscribe(()=>{this.currentDistortionType=this.settingsForm.value.distortionType??"vertical",this.generateLines()})}generateLines(){this.svg.innerHTML="",this.lines=[];let e=this.settingsForm.value.lineCount??30,n=this.settingsForm.value.amplitude??20,r=this.settingsForm.value.layout??"horizontal",i=this.settingsForm.value.lineWidth??1.5,o=this.svg.clientHeight/e;if(r==="horizontal"||r==="grid")for(let s=0;s<e;s++){let a=s*o,l={points:[]};for(let u=0;u<=this.svg.clientWidth;u+=10){let c=a+Math.sin(u/100*Math.PI*2)*n*.5;l.points.push({x:u,y:c})}this.lines.push(l),this.drawSmoothLine(l,i)}if(r==="vertical"||r==="grid")for(let s=0;s<e;s++){let a=s*o,l={points:[]};for(let u=0;u<=this.svg.clientHeight;u+=10){let c=a+Math.sin(u/100*Math.PI*2)*n*.5;l.points.push({x:c,y:u})}this.lines.push(l),this.drawSmoothLine(l,i)}}drawSmoothLine(e,n){let r=`M ${e.points.map(o=>`${o.x},${o.y}`).join(" L ")}`,i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d",r),i.setAttribute("stroke","var(--secondary-color)"),i.setAttribute("stroke-width",n.toString()),i.setAttribute("fill","none"),this.svg.appendChild(i)}startDrawing(e){this.isDrawing=!0}drawOnCanvas(e){if(!this.isDrawing)return;let n=this.getSVGCoordinates(e);this.applyDistortion(n.x,n.y)}stopDrawing(){this.isDrawing=!1}applyDistortion(e,n){let r=this.currentDistortionType,i=this.settingsForm.value.amplitude??20,o=this.settingsForm.value.brushStrength??70;for(let s of this.lines)for(let a of s.points){let l=Math.sqrt((e-a.x)**2+(n-a.y)**2);if(l>o)continue;let u=Math.max(0,o-l)/o,c=Math.atan2(a.y-n,a.x-e);switch(r){case"vertical":a.y+=Math.sin(l*.05)*i*u;break;case"horizontal":a.x+=Math.cos(l*.05)*i*u;break;case"wave":a.y+=Math.sin(a.x*.1)*i*u;break;case"vortex":a.x+=Math.sin(a.y*.1)*i*u;break;case"shear":a.x+=(e-a.x)*.2*u,a.y+=(n-a.y)*.2*u;break;case"collision":a.x+=(Math.random()-.5)*i*u,a.y+=(Math.random()-.5)*i*u;break;case"bulge":let d=Math.exp(-l/o)*u*50;a.y-=d;break;case"sharp":l<o/2&&(a.y+=u*30);break;case"magnetic":a.x+=(e-a.x)*u*.1,a.y+=(n-a.y)*u*.1;break;case"gravity":a.y+=u*20;break;case"chaotic":a.x+=(Math.random()-.5)*u*20,a.y+=(Math.random()-.5)*u*20;break;case"radial":a.x+=Math.cos(c)*u*20,a.y+=Math.sin(c)*u*20;break}}this.redrawLines()}getSVGCoordinates(e){let n=this.svg.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}redrawLines(){this.svg.innerHTML="";for(let e of this.lines)this.drawSmoothLine(e,this.settingsForm.value.lineWidth??1.5)}downloadSVG(){let e=this.svg.outerHTML,n=new Blob([e],{type:"image/svg+xml"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download="distorted-pattern.svg",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(r)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=We({type:t,selectors:[["app-distortedPattern"]],viewQuery:function(n,r){if(n&1&&Be(l2,7),n&2){let i;Ve(i=Ue())&&(r.canvasContainer=i.first)}},hostBindings:function(n,r){n&1&&U("mousedown",function(o){return r.startDrawing(o)})("mousemove",function(o){return r.drawOnCanvas(o)})("mouseup",function(o){return r.stopDrawing(o)})},decls:37,vars:11,consts:[["canvasContainer",""],[1,"settingscontainer"],[3,"formControl"],["value","horizontal"],["value","vertical"],["value","grid"],["type","range","min","10","max","100",3,"formControl"],["type","range","min","1","max","50",3,"formControl"],["type","range","min","1","max","200",3,"formControl"],["type","range","min","1","max","10",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[1,"workspace"],["id","distortlines_canvas"],[3,"value"]],template:function(n,r){n&1&&(x(0,"div",1)(1,"label"),N(2,"Layout:"),_(),x(3,"select",2)(4,"option",3),N(5,"Horizontal"),_(),x(6,"option",4),N(7,"Vertical"),_(),x(8,"option",5),N(9,"Grid"),_()(),x(10,"label"),N(11,"Line Count:"),_(),J(12,"input",6),x(13,"span"),N(14),_(),x(15,"label"),N(16,"Amplitude:"),_(),J(17,"input",7),x(18,"span"),N(19),_(),x(20,"label"),N(21,"Brush Strength:"),_(),J(22,"input",8),x(23,"span"),N(24),_(),x(25,"label"),N(26,"Line Width:"),_(),J(27,"input",9),x(28,"span"),N(29),_(),x(30,"label"),N(31,"Distortion Type:"),_(),x(32,"select",2),pr(33,u2,2,2,"option",10),_()(),x(34,"div",11),et(),J(35,"svg",12,0),_()),n&2&&(V(3),Me("formControl",r.settingsForm.controls.layout),V(9),Me("formControl",r.settingsForm.controls.lineCount),V(2),kt(r.settingsForm.value.lineCount),V(3),Me("formControl",r.settingsForm.controls.amplitude),V(2),kt(r.settingsForm.value.amplitude),V(3),Me("formControl",r.settingsForm.controls.brushStrength),V(2),kt(r.settingsForm.value.brushStrength),V(3),Me("formControl",r.settingsForm.controls.lineWidth),V(2),kt(r.settingsForm.value.lineWidth),V(3),Me("formControl",r.settingsForm.controls.distortionType),V(),Me("ngForOf",r.distortionTypes))},dependencies:[Fn,gi,mi,kn,rl,mr,On,St,ys,TD,hm],styles:["[_nghost-%COMP%]{display:flex;flex-direction:row}#distortlines_canvas[_ngcontent-%COMP%]{height:100%;width:100%}@media (max-width: 768px){[_nghost-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:center}}"]})};var Fe=11102230246251565e-32,yt=134217729,sl=(3+8*Fe)*Fe;function uo(t,e,n,r,i){let o,s,a,l,u=e[0],c=r[0],d=0,f=0;c>u==c>-u?(o=u,u=e[++d]):(o=c,c=r[++f]);let h=0;if(d<t&&f<n)for(c>u==c>-u?(s=u+o,a=o-(s-u),u=e[++d]):(s=c+o,a=o-(s-c),c=r[++f]),o=s,a!==0&&(i[h++]=a);d<t&&f<n;)c>u==c>-u?(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=e[++d]):(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++f]),o=s,a!==0&&(i[h++]=a);for(;d<t;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=e[++d],o=s,a!==0&&(i[h++]=a);for(;f<n;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++f],o=s,a!==0&&(i[h++]=a);return(o!==0||h===0)&&(i[h++]=o),h}function al(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function I(t){return new Float64Array(t)}var c2=(3+16*Fe)*Fe,d2=(2+12*Fe)*Fe,f2=(9+64*Fe)*Fe*Fe,Os=I(4),ID=I(8),AD=I(12),ND=I(16),qt=I(4);function h2(t,e,n,r,i,o,s){let a,l,u,c,d,f,h,v,b,E,C,T,M,F,A,G,B,O,P=t-i,Y=n-i,ee=e-o,ue=r-o;F=P*ue,f=yt*P,h=f-(f-P),v=P-h,f=yt*ue,b=f-(f-ue),E=ue-b,A=v*E-(F-h*b-v*b-h*E),G=ee*Y,f=yt*ee,h=f-(f-ee),v=ee-h,f=yt*Y,b=f-(f-Y),E=Y-b,B=v*E-(G-h*b-v*b-h*E),C=A-B,d=A-C,Os[0]=A-(C+d)+(d-B),T=F+C,d=T-F,M=F-(T-d)+(C-d),C=M-G,d=M-C,Os[1]=M-(C+d)+(d-G),O=T+C,d=O-T,Os[2]=T-(O-d)+(C-d),Os[3]=O;let Ee=al(4,Os),pe=d2*s;if(Ee>=pe||-Ee>=pe||(d=t-P,a=t-(P+d)+(d-i),d=n-Y,u=n-(Y+d)+(d-i),d=e-ee,l=e-(ee+d)+(d-o),d=r-ue,c=r-(ue+d)+(d-o),a===0&&l===0&&u===0&&c===0)||(pe=f2*s+sl*Math.abs(Ee),Ee+=P*c+ue*a-(ee*u+Y*l),Ee>=pe||-Ee>=pe))return Ee;F=a*ue,f=yt*a,h=f-(f-a),v=a-h,f=yt*ue,b=f-(f-ue),E=ue-b,A=v*E-(F-h*b-v*b-h*E),G=l*Y,f=yt*l,h=f-(f-l),v=l-h,f=yt*Y,b=f-(f-Y),E=Y-b,B=v*E-(G-h*b-v*b-h*E),C=A-B,d=A-C,qt[0]=A-(C+d)+(d-B),T=F+C,d=T-F,M=F-(T-d)+(C-d),C=M-G,d=M-C,qt[1]=M-(C+d)+(d-G),O=T+C,d=O-T,qt[2]=T-(O-d)+(C-d),qt[3]=O;let xe=uo(4,Os,4,qt,ID);F=P*c,f=yt*P,h=f-(f-P),v=P-h,f=yt*c,b=f-(f-c),E=c-b,A=v*E-(F-h*b-v*b-h*E),G=ee*u,f=yt*ee,h=f-(f-ee),v=ee-h,f=yt*u,b=f-(f-u),E=u-b,B=v*E-(G-h*b-v*b-h*E),C=A-B,d=A-C,qt[0]=A-(C+d)+(d-B),T=F+C,d=T-F,M=F-(T-d)+(C-d),C=M-G,d=M-C,qt[1]=M-(C+d)+(d-G),O=T+C,d=O-T,qt[2]=T-(O-d)+(C-d),qt[3]=O;let ne=uo(xe,ID,4,qt,AD);F=a*c,f=yt*a,h=f-(f-a),v=a-h,f=yt*c,b=f-(f-c),E=c-b,A=v*E-(F-h*b-v*b-h*E),G=l*u,f=yt*l,h=f-(f-l),v=l-h,f=yt*u,b=f-(f-u),E=u-b,B=v*E-(G-h*b-v*b-h*E),C=A-B,d=A-C,qt[0]=A-(C+d)+(d-B),T=F+C,d=T-F,M=F-(T-d)+(C-d),C=M-G,d=M-C,qt[1]=M-(C+d)+(d-G),O=T+C,d=O-T,qt[2]=T-(O-d)+(C-d),qt[3]=O;let be=uo(ne,AD,4,qt,ND);return ND[be-1]}function Fs(t,e,n,r,i,o){let s=(e-o)*(n-i),a=(t-i)*(r-o),l=s-a,u=Math.abs(s+a);return Math.abs(l)>=c2*u?l:-h2(t,e,n,r,i,o,u)}var CW=(7+56*Fe)*Fe,EW=(3+28*Fe)*Fe,DW=(26+288*Fe)*Fe*Fe,xW=I(4),_W=I(4),SW=I(4),MW=I(4),TW=I(4),IW=I(4),AW=I(4),NW=I(4),RW=I(4),kW=I(8),OW=I(8),FW=I(8),PW=I(4),LW=I(8),VW=I(8),UW=I(8),BW=I(12),jW=I(192),HW=I(192);var zW=(10+96*Fe)*Fe,WW=(4+48*Fe)*Fe,qW=(44+576*Fe)*Fe*Fe,YW=I(4),ZW=I(4),XW=I(4),QW=I(4),KW=I(4),JW=I(4),eq=I(4),tq=I(4),nq=I(8),rq=I(8),iq=I(8),oq=I(8),sq=I(8),aq=I(8),lq=I(8),uq=I(8),cq=I(8),dq=I(4),fq=I(4),hq=I(4),pq=I(8),gq=I(16),mq=I(16),vq=I(16),yq=I(32),bq=I(32),wq=I(48),Cq=I(64),Eq=I(1152),Dq=I(1152);var Mq=(16+224*Fe)*Fe,Tq=(5+72*Fe)*Fe,Iq=(71+1408*Fe)*Fe*Fe,Aq=I(4),Nq=I(4),Rq=I(4),kq=I(4),Oq=I(4),Fq=I(4),Pq=I(4),Lq=I(4),Vq=I(4),Uq=I(4),Bq=I(24),jq=I(24),Hq=I(24),Gq=I(24),$q=I(24),zq=I(24),Wq=I(24),qq=I(24),Yq=I(24),Zq=I(24),Xq=I(1152),Qq=I(1152),Kq=I(1152),Jq=I(1152),e7=I(1152),t7=I(2304),n7=I(2304),r7=I(3456),i7=I(5760),o7=I(8),s7=I(8),a7=I(8),l7=I(16),u7=I(24),c7=I(48),d7=I(48),f7=I(96),h7=I(192),p7=I(384),g7=I(384),m7=I(384),v7=I(768);var y7=I(96),b7=I(96),w7=I(96),C7=I(1152);var kD=Math.pow(2,-52),xd=new Uint32Array(512),ul=class t{static from(e,n=b2,r=w2){let i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){let a=e[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new t(o)}constructor(e){let n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;let r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){let{coords:e,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=e.length>>1,a=1/0,l=1/0,u=-1/0,c=-1/0;for(let P=0;P<s;P++){let Y=e[2*P],ee=e[2*P+1];Y<a&&(a=Y),ee<l&&(l=ee),Y>u&&(u=Y),ee>c&&(c=ee),this._ids[P]=P}let d=(a+u)/2,f=(l+c)/2,h,v,b;for(let P=0,Y=1/0;P<s;P++){let ee=pm(d,f,e[2*P],e[2*P+1]);ee<Y&&(h=P,Y=ee)}let E=e[2*h],C=e[2*h+1];for(let P=0,Y=1/0;P<s;P++){if(P===h)continue;let ee=pm(E,C,e[2*P],e[2*P+1]);ee<Y&&ee>0&&(v=P,Y=ee)}let T=e[2*v],M=e[2*v+1],F=1/0;for(let P=0;P<s;P++){if(P===h||P===v)continue;let Y=v2(E,C,T,M,e[2*P],e[2*P+1]);Y<F&&(b=P,F=Y)}let A=e[2*b],G=e[2*b+1];if(F===1/0){for(let ee=0;ee<s;ee++)this._dists[ee]=e[2*ee]-e[0]||e[2*ee+1]-e[1];Ps(this._ids,this._dists,0,s-1);let P=new Uint32Array(s),Y=0;for(let ee=0,ue=-1/0;ee<s;ee++){let Ee=this._ids[ee],pe=this._dists[Ee];pe>ue&&(P[Y++]=Ee,ue=pe)}this.hull=P.subarray(0,Y),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(Fs(E,C,T,M,A,G)<0){let P=v,Y=T,ee=M;v=b,T=A,M=G,b=P,A=Y,G=ee}let B=y2(E,C,T,M,A,G);this._cx=B.x,this._cy=B.y;for(let P=0;P<s;P++)this._dists[P]=pm(e[2*P],e[2*P+1],B.x,B.y);Ps(this._ids,this._dists,0,s-1),this._hullStart=h;let O=3;r[h]=n[b]=v,r[v]=n[h]=b,r[b]=n[v]=h,i[h]=0,i[v]=1,i[b]=2,o.fill(-1),o[this._hashKey(E,C)]=h,o[this._hashKey(T,M)]=v,o[this._hashKey(A,G)]=b,this.trianglesLen=0,this._addTriangle(h,v,b,-1,-1,-1);for(let P=0,Y,ee;P<this._ids.length;P++){let ue=this._ids[P],Ee=e[2*ue],pe=e[2*ue+1];if(P>0&&Math.abs(Ee-Y)<=kD&&Math.abs(pe-ee)<=kD||(Y=Ee,ee=pe,ue===h||ue===v||ue===b))continue;let xe=0;for(let Qe=0,ze=this._hashKey(Ee,pe);Qe<this._hashSize&&(xe=o[(ze+Qe)%this._hashSize],!(xe!==-1&&xe!==r[xe]));Qe++);xe=n[xe];let ne=xe,be;for(;be=r[ne],Fs(Ee,pe,e[2*ne],e[2*ne+1],e[2*be],e[2*be+1])>=0;)if(ne=be,ne===xe){ne=-1;break}if(ne===-1)continue;let Pe=this._addTriangle(ne,ue,r[ne],-1,-1,i[ne]);i[ue]=this._legalize(Pe+2),i[ne]=Pe,O++;let Te=r[ne];for(;be=r[Te],Fs(Ee,pe,e[2*Te],e[2*Te+1],e[2*be],e[2*be+1])<0;)Pe=this._addTriangle(Te,ue,be,i[ue],-1,i[Te]),i[ue]=this._legalize(Pe+2),r[Te]=Te,O--,Te=be;if(ne===xe)for(;be=n[ne],Fs(Ee,pe,e[2*be],e[2*be+1],e[2*ne],e[2*ne+1])<0;)Pe=this._addTriangle(be,ue,ne,-1,i[ne],i[be]),this._legalize(Pe+2),i[be]=Pe,r[ne]=ne,O--,ne=be;this._hullStart=n[ue]=ne,r[ne]=n[Te]=ue,r[ue]=Te,o[this._hashKey(Ee,pe)]=ue,o[this._hashKey(e[2*ne],e[2*ne+1])]=ne}this.hull=new Uint32Array(O);for(let P=0,Y=this._hullStart;P<O;P++)this.hull[P]=Y,Y=r[Y];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(g2(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){let{_triangles:n,_halfedges:r,coords:i}=this,o=0,s=0;for(;;){let a=r[e],l=e-e%3;if(s=l+(e+2)%3,a===-1){if(o===0)break;e=xd[--o];continue}let u=a-a%3,c=l+(e+1)%3,d=u+(a+2)%3,f=n[s],h=n[e],v=n[c],b=n[d];if(m2(i[2*f],i[2*f+1],i[2*h],i[2*h+1],i[2*v],i[2*v+1],i[2*b],i[2*b+1])){n[e]=b,n[a]=f;let C=r[d];if(C===-1){let M=this._hullStart;do{if(this._hullTri[M]===d){this._hullTri[M]=e;break}M=this._hullPrev[M]}while(M!==this._hullStart)}this._link(e,C),this._link(a,r[s]),this._link(s,d);let T=u+(a+1)%3;o<xd.length&&(xd[o++]=T)}else{if(o===0)break;e=xd[--o]}}return s}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,i,o,s){let a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}};function g2(t,e){let n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function pm(t,e,n,r){let i=t-n,o=e-r;return i*i+o*o}function m2(t,e,n,r,i,o,s,a){let l=t-s,u=e-a,c=n-s,d=r-a,f=i-s,h=o-a,v=l*l+u*u,b=c*c+d*d,E=f*f+h*h;return l*(d*E-b*h)-u*(c*E-b*f)+v*(c*h-d*f)<0}function v2(t,e,n,r,i,o){let s=n-t,a=r-e,l=i-t,u=o-e,c=s*s+a*a,d=l*l+u*u,f=.5/(s*u-a*l),h=(u*c-a*d)*f,v=(s*d-l*c)*f;return h*h+v*v}function y2(t,e,n,r,i,o){let s=n-t,a=r-e,l=i-t,u=o-e,c=s*s+a*a,d=l*l+u*u,f=.5/(s*u-a*l),h=t+(u*c-a*d)*f,v=e+(s*d-l*c)*f;return{x:h,y:v}}function Ps(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){let o=t[i],s=e[o],a=i-1;for(;a>=n&&e[t[a]]>s;)t[a+1]=t[a--];t[a+1]=o}else{let i=n+r>>1,o=n+1,s=r;ll(t,i,o),e[t[n]]>e[t[r]]&&ll(t,n,r),e[t[o]]>e[t[r]]&&ll(t,o,r),e[t[n]]>e[t[o]]&&ll(t,n,o);let a=t[o],l=e[a];for(;;){do o++;while(e[t[o]]<l);do s--;while(e[t[s]]>l);if(s<o)break;ll(t,o,s)}t[n+1]=t[s],t[s]=a,r-o+1>=s-n?(Ps(t,e,o,r),Ps(t,e,n,s-1)):(Ps(t,e,n,s-1),Ps(t,e,o,r))}}function ll(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function b2(t){return t[0]}function w2(t){return t[1]}var Qn=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;let i=e+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>1e-6||Math.abs(this._y1-o)>1e-6)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(e,n,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}};var co=class{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}};var _d=class{constructor(e,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:e,hull:n,triangles:r},vectors:i}=this,o,s,a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let b=0,E=0,C=r.length,T,M;b<C;b+=3,E+=2){let F=r[b]*2,A=r[b+1]*2,G=r[b+2]*2,B=e[F],O=e[F+1],P=e[A],Y=e[A+1],ee=e[G],ue=e[G+1],Ee=P-B,pe=Y-O,xe=ee-B,ne=ue-O,be=(Ee*ne-pe*xe)*2;if(Math.abs(be)<1e-9){if(o===void 0){o=s=0;for(let Te of n)o+=e[Te*2],s+=e[Te*2+1];o/=n.length,s/=n.length}let Pe=1e9*Math.sign((o-B)*ne-(s-O)*xe);T=(B+ee)/2-Pe*ne,M=(O+ue)/2+Pe*xe}else{let Pe=1/be,Te=Ee*Ee+pe*pe,Qe=xe*xe+ne*ne;T=B+(ne*Te-pe*Qe)*Pe,M=O+(Ee*Qe-xe*Te)*Pe}a[E]=T,a[E+1]=M}let l=n[n.length-1],u,c=l*4,d,f=e[2*l],h,v=e[2*l+1];i.fill(0);for(let b=0;b<n.length;++b)l=n[b],u=c,d=f,h=v,c=l*4,f=e[2*l],v=e[2*l+1],i[u+2]=i[c]=h-v,i[u+3]=i[c+1]=f-d}render(e){let n=e==null?e=new Qn:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let c=0,d=r.length;c<d;++c){let f=r[c];if(f<c)continue;let h=Math.floor(c/3)*2,v=Math.floor(f/3)*2,b=s[h],E=s[h+1],C=s[v],T=s[v+1];this._renderSegment(b,E,C,T,e)}let l,u=o[o.length-1];for(let c=0;c<o.length;++c){l=u,u=o[c];let d=Math.floor(i[u]/3)*2,f=s[d],h=s[d+1],v=l*4,b=this._project(f,h,a[v+2],a[v+3]);b&&this._renderSegment(f,h,b[0],b[1],e)}return n&&n.value()}renderBounds(e){let n=e==null?e=new Qn:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){let r=n==null?n=new Qn:void 0,i=this._clip(e);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){let{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){let i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(e){let n=new co;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,i,o){let s,a=this._regioncode(e,n),l=this._regioncode(r,i);a===0&&l===0?(o.moveTo(e,n),o.lineTo(r,i)):(s=this._clipSegment(e,n,r,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){let n=this._clip(e);if(n)for(let r of this.delaunay.neighbors(e)){let i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+l-2)%l]&&n[(o+3)%s]===i[(a+l-1)%l]){yield r;break e}}}}_cell(e){let{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[e];if(s===-1)return null;let a=[],l=s;do{let u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==e)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let n=this._cell(e);if(n===null)return null;let{vectors:r}=this,i=e*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(e,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,n))}_clipFinite(e,n){let r=n.length,i=null,o,s,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),d,f=0;for(let h=0;h<r;h+=2)if(o=a,s=l,a=n[h],l=n[h+1],u=c,c=this._regioncode(a,l),u===0&&c===0)d=f,f=0,i?i.push(a,l):i=[a,l];else{let v,b,E,C,T;if(u===0){if((v=this._clipSegment(o,s,a,l,u,c))===null)continue;[b,E,C,T]=v}else{if((v=this._clipSegment(a,l,o,s,c,u))===null)continue;[C,T,b,E]=v,d=f,f=this._edgecode(b,E),d&&f&&this._edge(e,d,f,i,i.length),i?i.push(b,E):i=[b,E]}d=f,f=this._edgecode(C,T),d&&f&&this._edge(e,d,f,i,i.length),i?i.push(C,T):i=[C,T]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(e,d,f,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,n,r,i,o,s){let a=o<s;for(a&&([e,n,r,i,o,s]=[r,i,e,n,s,o]);;){if(o===0&&s===0)return a?[r,i,e,n]:[e,n,r,i];if(o&s)return null;let l,u,c=o||s;c&8?(l=e+(r-e)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=e+(r-e)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-e)/(r-e),l=this.xmax):(u=n+(i-n)*(this.xmin-e)/(r-e),l=this.xmin),o?(e=l,n=u,o=this._regioncode(e,n)):(r=l,i=u,s=this._regioncode(r,i))}}_clipInfinite(e,n,r,i,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(e,a))for(let u=0,c=a.length,d,f=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)d=f,f=this._edgecode(a[u],a[u+1]),d&&f&&(u=this._edge(e,d,f,a,u),c=a.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(e,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(e,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(e,n,r,i){let o=1/0,s,a,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(l=this.ymin,a=e+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(l=this.ymax,a=e+(o=s)*r)}if(r>0){if(e>=this.xmax)return null;(s=(this.xmax-e)/r)<o&&(a=this.xmax,l=n+(o=s)*i)}else if(r<0){if(e<=this.xmin)return null;(s=(this.xmin-e)/r)<o&&(a=this.xmin,l=n+(o=s)*i)}return[a,l]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){let r=(n+2)%e.length,i=(n+4)%e.length;(e[n]===e[r]&&e[r]===e[i]||e[n+1]===e[r+1]&&e[r+1]===e[i+1])&&(e.splice(r,2),n-=2)}e.length||(e=null)}return e}};var C2=2*Math.PI,Ls=Math.pow;function E2(t){return t[0]}function D2(t){return t[1]}function x2(t){let{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){let i=2*e[r],o=2*e[r+1],s=2*e[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function _2(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}var cl=class t{static from(e,n=E2,r=D2,i){return new t("length"in e?S2(e,n,r,i):Float64Array.from(M2(e,n,r,i)))}constructor(e){this._delaunator=new ul(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&x2(e)){this.collinear=Int32Array.from({length:n.length/2},(f,h)=>h).sort((f,h)=>n[2*f]-n[2*h]||n[2*f+1]-n[2*h+1]);let l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],d=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,h=n.length/2;f<h;++f){let v=_2(n[2*f],n[2*f+1],d);n[2*f]=v[0],n[2*f+1]=v[1]}this._delaunator=new ul(n)}else delete this.collinear;let r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){let c=o[l%3===2?l-2:l+1];(r[l]===-1||s[c]===-1)&&(s[c]=l)}for(let l=0,u=i.length;l<u;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new _d(this,e)}*neighbors(e){let{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){let d=a.indexOf(e);d>0&&(yield a[d-1]),d<a.length-1&&(yield a[d+1]);return}let l=n[e];if(l===-1)return;let u=l,c=-1;do{if(yield c=s[u],u=u%3===2?u-2:u+1,s[u]!==e)return;if(u=o[u],u===-1){let d=r[(i[e]+1)%r.length];d!==c&&(yield d);return}}while(u!==l)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;let i=r,o;for(;(o=this._step(r,e,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(e,n,r){let{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:u}=this;if(i[e]===-1||!u.length)return(e+1)%(u.length>>1);let c=e,d=Ls(n-u[e*2],2)+Ls(r-u[e*2+1],2),f=i[e],h=f;do{let v=l[h],b=Ls(n-u[v*2],2)+Ls(r-u[v*2+1],2);if(b<d&&(d=b,c=v),h=h%3===2?h-2:h+1,l[h]!==e)break;if(h=a[h],h===-1){if(h=o[(s[e]+1)%o.length],h!==v&&Ls(n-u[h*2],2)+Ls(r-u[h*2+1],2)<d)return h;break}}while(h!==f);return c}render(e){let n=e==null?e=new Qn:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){let l=i[s];if(l<s)continue;let u=o[s]*2,c=o[l]*2;e.moveTo(r[u],r[u+1]),e.lineTo(r[c],r[c+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;let r=e==null?e=new Qn:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){let a=i[o],l=i[o+1];e.moveTo(a+n,l),e.arc(a,l,n,0,C2)}return r&&r.value()}renderHull(e){let n=e==null?e=new Qn:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;e.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){let l=2*r[a];e.lineTo(i[l],i[l+1])}return e.closePath(),n&&n.value()}hullPolygon(){let e=new co;return this.renderHull(e),e.value()}renderTriangle(e,n){let r=n==null?n=new Qn:void 0,{points:i,triangles:o}=this,s=o[e*=3]*2,a=o[e+1]*2,l=o[e+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){let{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){let n=new co;return this.renderTriangle(e,n),n.value()}};function S2(t,e,n,r){let i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){let a=t[s];o[s*2]=e.call(r,a,s,t),o[s*2+1]=n.call(r,a,s,t)}return o}function*M2(t,e,n,r){let i=0;for(let o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}var T2=["svgCanvas"],Sd=class t{svgCanvas;points=[];strokeColor="var(--secondary-color)";_strokeWidth=2;_strokeStyle="solid";get strokeWidth(){return this._strokeWidth}set strokeWidth(e){this._strokeWidth=e,this.render()}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=e,this.render()}ngAfterViewInit(){this.render()}addPoint(e){let n=this.svgCanvas.nativeElement.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top;this.points.some(([o,s])=>o===r&&s===i)?console.warn("\u26A0\uFE0F Punkt existiert bereits."):(this.points.push([r,i]),console.log("\u{1F4CC} Neuer Punkt:",[r,i]),this.render())}render(){let e=this.svgCanvas.nativeElement;if(e.innerHTML="",this.points.forEach(([i,o])=>{let s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("cx",i.toString()),s.setAttribute("cy",o.toString()),s.setAttribute("r","4"),s.setAttribute("fill",this.strokeColor),e.appendChild(s)}),this.points.length<3){console.warn("\u26A0\uFE0F Mindestens 3 Punkte erforderlich.");return}console.log("\u{1F4CC} Punktdaten f\xFCr `d3-delaunay`:",this.points);let r=cl.from(this.points).triangles;if(console.log("\u{1F4CA} Delaunay Triangles:",r),r.length===0){console.warn("\u26A0\uFE0F Delaunay hat keine g\xFCltigen Dreiecke berechnet.");return}for(let i=0;i<r.length;i+=3){let o=this.points[r[i]],s=this.points[r[i+1]],a=this.points[r[i+2]];o&&s&&a&&(console.log(`\u{1F539} Verbindet: ${o} -> ${s} -> ${a}`),this.drawLine(o,s),this.drawLine(s,a),this.drawLine(a,o))}}drawLine(e,n){let[r,i]=e,[o,s]=n,a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("x1",r.toString()),a.setAttribute("y1",i.toString()),a.setAttribute("x2",o.toString()),a.setAttribute("y2",s.toString()),a.setAttribute("stroke",this.strokeColor),a.setAttribute("stroke-width",this.strokeWidth.toString()),this.strokeStyle==="dashed"?a.setAttribute("stroke-dasharray","5,5"):this.strokeStyle==="dotted"&&a.setAttribute("stroke-dasharray","2,2"),this.svgCanvas.nativeElement.appendChild(a)}downloadSVG(){let n=new XMLSerializer().serializeToString(this.svgCanvas.nativeElement),r=new Blob([n],{type:"image/svg+xml"}),i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download="delaunay.svg",document.body.appendChild(o),o.click(),document.body.removeChild(o)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=We({type:t,selectors:[["app-delaunay"]],viewQuery:function(n,r){if(n&1&&Be(T2,7),n&2){let i;Ve(i=Ue())&&(r.svgCanvas=i.first)}},decls:18,vars:2,consts:[["svgCanvas",""],[1,"settingscontainer"],["for","lineWidth"],["type","number","id","lineWidth","min","1","max","10",3,"ngModelChange","ngModel"],["for","lineStyle"],["id","lineStyle",3,"ngModelChange","ngModel"],["value","solid"],["value","dashed"],["value","dotted"],[3,"click"],[1,"workspace",3,"click"],["id","drawingSVG-delaunay"]],template:function(n,r){if(n&1){let i=vt();x(0,"div",1)(1,"label",2),N(2,"Strichbreite:"),_(),x(3,"input",3),it("ngModelChange",function(s){return W(i),st(r.strokeWidth,s)||(r.strokeWidth=s),q(s)}),_(),x(4,"label",4),N(5,"Linientyp:"),_(),x(6,"select",5),it("ngModelChange",function(s){return W(i),st(r.strokeStyle,s)||(r.strokeStyle=s),q(s)}),x(7,"option",6),N(8,"Durchgezogen"),_(),x(9,"option",7),N(10,"Gestrichelt"),_(),x(11,"option",8),N(12,"Punktiert"),_()(),x(13,"button",9),U("click",function(){return W(i),q(r.downloadSVG())}),N(14,"Download SVG"),_()(),x(15,"div",10),U("click",function(s){return W(i),q(r.addPoint(s))}),et(),J(16,"svg",11,0),_()}n&2&&(V(3),rt("ngModel",r.strokeWidth),V(3),rt("ngModel",r.strokeStyle))},dependencies:[St,Fn,gi,mi,kn,lo,mr,On,ol,il,Xn],styles:["#drawingSVG-delaunay[_ngcontent-%COMP%]{width:100%;height:100%}[_nghost-%COMP%]{display:flex}@media (max-width: 768px){[_nghost-%COMP%]{flex-direction:column;align-items:center;justify-content:center}}"]})};var I2=["drawingCanvas"],A2=["letterContainer"],Md=class t{drawingCanvas;letterContainer;useLineVersion=!0;isDrawing=!1;currentPath=[];letterStructures={A:[[10,90,50,10],[50,10,90,90],[30,50,70,50]],B:[[10,10,10,90],[10,10,70,30],[10,50,70,70],[10,90,70,70]],C:[[80,20,20,20],[20,20,10,50],[10,50,20,80],[20,80,80,80]]};ngAfterViewInit(){this.setupDrawingCanvas()}setupDrawingCanvas(){let e=this.drawingCanvas.nativeElement;e.addEventListener("mousedown",n=>{this.isDrawing=!0,this.currentPath=[[n.offsetX,n.offsetY]],this.drawTemporaryLine()}),e.addEventListener("mousemove",n=>{this.isDrawing&&(this.currentPath.push([n.offsetX,n.offsetY]),this.drawTemporaryLine())}),e.addEventListener("mouseup",()=>{this.isDrawing=!1})}drawTemporaryLine(){let e=this.drawingCanvas.nativeElement;e.innerHTML="";for(let n=1;n<this.currentPath.length;n++){let[r,i]=this.currentPath[n-1],[o,s]=this.currentPath[n],a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("x1",r.toString()),a.setAttribute("y1",i.toString()),a.setAttribute("x2",o.toString()),a.setAttribute("y2",s.toString()),a.setAttribute("stroke","black"),a.setAttribute("stroke-width","2"),e.appendChild(a)}}generateCustomFont(){if(this.currentPath.length<2)return;let e=this.letterContainer.nativeElement;e.innerHTML="";for(let n in this.letterStructures){let r=this.createCustomLetterSVG(n,this.letterStructures[n]);e.appendChild(r)}}createCustomLetterSVG(e,n){let i=document.createElementNS("http://www.w3.org/2000/svg","svg");return i.setAttribute("width","100"),i.setAttribute("height","100"),i.setAttribute("viewBox","0 0 100 100"),i.setAttribute("data-letter",e),n.forEach(([o,s,a,l])=>{this.createPatternLine(o,s,a,l).forEach(c=>i.appendChild(c))}),i}createPatternLine(e,n,r,i){let o=[],s=this.currentPath;if(s.length<2)return o;let a=10,l=Math.hypot(r-e,i-n),u=Math.floor(l/a);for(let c=0;c<u;c++){let d=c/u,f=(c+1)/u,h=e+(r-e)*d,v=n+(i-n)*d,b=e+(r-e)*f,E=n+(i-n)*f;s.forEach(([C,T],M)=>{if(M===0)return;let[F,A]=s[M-1],G=C/10,B=T/10,O=F/10,P=A/10,Y=document.createElementNS("http://www.w3.org/2000/svg","line");Y.setAttribute("x1",(h+G).toString()),Y.setAttribute("y1",(v+B).toString()),Y.setAttribute("x2",(b+O).toString()),Y.setAttribute("y2",(E+P).toString()),Y.setAttribute("stroke","black"),Y.setAttribute("stroke-width","2"),o.push(Y)})}return o}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=We({type:t,selectors:[["app-customStrokeFont"]],viewQuery:function(n,r){if(n&1&&(Be(I2,7),Be(A2,7)),n&2){let i;Ve(i=Ue())&&(r.drawingCanvas=i.first),Ve(i=Ue())&&(r.letterContainer=i.first)}},decls:10,vars:0,consts:[["drawingCanvas",""],["letterContainer",""],[1,"custom-stroke-font"],[1,"settingscontainer"],[1,"settingbox"],["id","generateCustomFontButton",1,"icon-button",3,"click"],["id","customlinestyle_canvas"],[1,"workspace"],["id","letterContainer",1,"letter-container"]],template:function(n,r){if(n&1){let i=vt();x(0,"div",2)(1,"div",3)(2,"div",4)(3,"button",5),U("click",function(){return W(i),q(r.generateCustomFont())}),N(4," Generate Custom Font "),_()(),et(),J(5,"svg",6,0),_(),fr(),x(7,"div",7),J(8,"div",8,1),_()()}},styles:["#customlinestyle_canvas[_ngcontent-%COMP%]{height:250px;width:100%;border-bottom:solid black 1.5px;border-top:solid black 1.5px}#letterSvg[_ngcontent-%COMP%]{width:100%;height:100%}"]})};String.prototype.codePointAt||function(){var t=function(){try{var n={},r=Object.defineProperty,i=r(n,n,n)&&r}catch{}return i}(),e=function(n){if(this==null)throw TypeError();var r=String(this),i=r.length,o=n?Number(n):0;if(o!=o&&(o=0),!(o<0||o>=i)){var s=r.charCodeAt(o),a;return s>=55296&&s<=56319&&i>o+1&&(a=r.charCodeAt(o+1),a>=56320&&a<=57343)?(s-55296)*1024+a-56320+65536:s}};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();var km=0,bx=-3;function hl(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function N2(t,e){this.source=t,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=e,this.destLen=0,this.ltree=new hl,this.dtree=new hl}var wx=new hl,Cx=new hl,Om=new Uint8Array(30),Fm=new Uint16Array(30),Ex=new Uint8Array(30),Dx=new Uint16Array(30),R2=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),OD=new hl,vr=new Uint8Array(320);function xx(t,e,n,r){var i,o;for(i=0;i<n;++i)t[i]=0;for(i=0;i<30-n;++i)t[i+n]=i/n|0;for(o=r,i=0;i<30;++i)e[i]=o,o+=1<<t[i]}function k2(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[168+n]=280+n;for(n=0;n<112;++n)t.trans[176+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}var FD=new Uint16Array(16);function gm(t,e,n,r){var i,o;for(i=0;i<16;++i)t.table[i]=0;for(i=0;i<r;++i)t.table[e[n+i]]++;for(t.table[0]=0,o=0,i=0;i<16;++i)FD[i]=o,o+=t.table[i];for(i=0;i<r;++i)e[n+i]&&(t.trans[FD[e[n+i]]++]=i)}function O2(t){t.bitcount--||(t.tag=t.source[t.sourceIndex++],t.bitcount=7);var e=t.tag&1;return t.tag>>>=1,e}function yr(t,e,n){if(!e)return n;for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var r=t.tag&65535>>>16-e;return t.tag>>>=e,t.bitcount-=e,r+n}function xm(t,e){for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var n=0,r=0,i=0,o=t.tag;do r=2*r+(o&1),o>>>=1,++i,n+=e.table[i],r-=e.table[i];while(r>=0);return t.tag=o,t.bitcount-=i,e.trans[n+r]}function F2(t,e,n){var r,i,o,s,a,l;for(r=yr(t,5,257),i=yr(t,5,1),o=yr(t,4,4),s=0;s<19;++s)vr[s]=0;for(s=0;s<o;++s){var u=yr(t,3,0);vr[R2[s]]=u}for(gm(OD,vr,0,19),a=0;a<r+i;){var c=xm(t,OD);switch(c){case 16:var d=vr[a-1];for(l=yr(t,2,3);l;--l)vr[a++]=d;break;case 17:for(l=yr(t,3,3);l;--l)vr[a++]=0;break;case 18:for(l=yr(t,7,11);l;--l)vr[a++]=0;break;default:vr[a++]=c;break}}gm(e,vr,0,r),gm(n,vr,r,i)}function PD(t,e,n){for(;;){var r=xm(t,e);if(r===256)return km;if(r<256)t.dest[t.destLen++]=r;else{var i,o,s,a;for(r-=257,i=yr(t,Om[r],Fm[r]),o=xm(t,n),s=t.destLen-yr(t,Ex[o],Dx[o]),a=s;a<s+i;++a)t.dest[t.destLen++]=t.dest[a]}}}function P2(t){for(var e,n,r;t.bitcount>8;)t.sourceIndex--,t.bitcount-=8;if(e=t.source[t.sourceIndex+1],e=256*e+t.source[t.sourceIndex],n=t.source[t.sourceIndex+3],n=256*n+t.source[t.sourceIndex+2],e!==(~n&65535))return bx;for(t.sourceIndex+=4,r=e;r;--r)t.dest[t.destLen++]=t.source[t.sourceIndex++];return t.bitcount=0,km}function L2(t,e){var n=new N2(t,e),r,i,o;do{switch(r=O2(n),i=yr(n,2,0),i){case 0:o=P2(n);break;case 1:o=PD(n,wx,Cx);break;case 2:F2(n,n.ltree,n.dtree),o=PD(n,n.ltree,n.dtree);break;default:o=bx}if(o!==km)throw new Error("Data error")}while(!r);return n.destLen<n.dest.length?typeof n.dest.slice=="function"?n.dest.slice(0,n.destLen):n.dest.subarray(0,n.destLen):n.dest}k2(wx,Cx);xx(Om,Fm,4,3);xx(Ex,Dx,2,1);Om[28]=0;Fm[28]=258;var V2=L2;function Vs(t,e,n,r,i){return Math.pow(1-i,3)*t+3*Math.pow(1-i,2)*i*e+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function Vr(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}Vr.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};Vr.prototype.addPoint=function(t,e){typeof t=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};Vr.prototype.addX=function(t){this.addPoint(t,null)};Vr.prototype.addY=function(t){this.addPoint(null,t)};Vr.prototype.addBezier=function(t,e,n,r,i,o,s,a){var l=[t,e],u=[n,r],c=[i,o],d=[s,a];this.addPoint(t,e),this.addPoint(s,a);for(var f=0;f<=1;f++){var h=6*l[f]-12*u[f]+6*c[f],v=-3*l[f]+9*u[f]-9*c[f]+3*d[f],b=3*u[f]-3*l[f];if(v===0){if(h===0)continue;var E=-b/h;0<E&&E<1&&(f===0&&this.addX(Vs(l[f],u[f],c[f],d[f],E)),f===1&&this.addY(Vs(l[f],u[f],c[f],d[f],E)));continue}var C=Math.pow(h,2)-4*b*v;if(!(C<0)){var T=(-h+Math.sqrt(C))/(2*v);0<T&&T<1&&(f===0&&this.addX(Vs(l[f],u[f],c[f],d[f],T)),f===1&&this.addY(Vs(l[f],u[f],c[f],d[f],T)));var M=(-h-Math.sqrt(C))/(2*v);0<M&&M<1&&(f===0&&this.addX(Vs(l[f],u[f],c[f],d[f],M)),f===1&&this.addY(Vs(l[f],u[f],c[f],d[f],M)))}}};Vr.prototype.addQuad=function(t,e,n,r,i,o){var s=t+.6666666666666666*(n-t),a=e+2/3*(r-e),l=s+1/3*(i-t),u=a+1/3*(o-e);this.addBezier(t,e,s,a,l,u,i,o)};function ut(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}ut.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})};ut.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})};ut.prototype.curveTo=ut.prototype.bezierCurveTo=function(t,e,n,r,i,o){this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:r,x:i,y:o})};ut.prototype.quadTo=ut.prototype.quadraticCurveTo=function(t,e,n,r){this.commands.push({type:"Q",x1:t,y1:e,x:n,y:r})};ut.prototype.close=ut.prototype.closePath=function(){this.commands.push({type:"Z"})};ut.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof Vr){var e=t;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,t)};ut.prototype.getBoundingBox=function(){for(var t=new Vr,e=0,n=0,r=0,i=0,o=0;o<this.commands.length;o++){var s=this.commands[o];switch(s.type){case"M":t.addPoint(s.x,s.y),e=r=s.x,n=i=s.y;break;case"L":t.addPoint(s.x,s.y),r=s.x,i=s.y;break;case"Q":t.addQuad(r,i,s.x1,s.y1,s.x,s.y),r=s.x,i=s.y;break;case"C":t.addBezier(r,i,s.x1,s.y1,s.x2,s.y2,s.x,s.y),r=s.x,i=s.y;break;case"Z":r=e,i=n;break;default:throw new Error("Unexpected path command "+s.type)}}return t.isEmpty()&&t.addPoint(0,0),t};ut.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var n=this.commands[e];n.type==="M"?t.moveTo(n.x,n.y):n.type==="L"?t.lineTo(n.x,n.y):n.type==="C"?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())};ut.prototype.toPathData=function(t){t=t!==void 0?t:2;function e(s){return Math.round(s)===s?""+Math.round(s):s.toFixed(t)}function n(){for(var s=arguments,a="",l=0;l<arguments.length;l+=1){var u=s[l];u>=0&&l>0&&(a+=" "),a+=e(u)}return a}for(var r="",i=0;i<this.commands.length;i+=1){var o=this.commands[i];o.type==="M"?r+="M"+n(o.x,o.y):o.type==="L"?r+="L"+n(o.x,o.y):o.type==="C"?r+="C"+n(o.x1,o.y1,o.x2,o.y2,o.x,o.y):o.type==="Q"?r+="Q"+n(o.x1,o.y1,o.x,o.y):o.type==="Z"&&(r+="Z")}return r};ut.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};ut.prototype.toDOMElement=function(t){var e=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n};function _x(t){throw new Error(t)}function LD(t,e){t||_x(e)}var se={fail:_x,argument:LD,assert:LD},VD=32768,UD=2147483648,Bs={},j={},ce={};function tr(t){return function(){return t}}j.BYTE=function(t){return se.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]};ce.BYTE=tr(1);j.CHAR=function(t){return[t.charCodeAt(0)]};ce.CHAR=tr(1);j.CHARARRAY=function(t){typeof t>"u"&&(t="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e};ce.CHARARRAY=function(t){return typeof t>"u"?0:t.length};j.USHORT=function(t){return[t>>8&255,t&255]};ce.USHORT=tr(2);j.SHORT=function(t){return t>=VD&&(t=-(2*VD-t)),[t>>8&255,t&255]};ce.SHORT=tr(2);j.UINT24=function(t){return[t>>16&255,t>>8&255,t&255]};ce.UINT24=tr(3);j.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]};ce.ULONG=tr(4);j.LONG=function(t){return t>=UD&&(t=-(2*UD-t)),[t>>24&255,t>>16&255,t>>8&255,t&255]};ce.LONG=tr(4);j.FIXED=j.ULONG;ce.FIXED=ce.ULONG;j.FWORD=j.SHORT;ce.FWORD=ce.SHORT;j.UFWORD=j.USHORT;ce.UFWORD=ce.USHORT;j.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,t&255]};ce.LONGDATETIME=tr(8);j.TAG=function(t){return se.argument(t.length===4,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]};ce.TAG=tr(4);j.Card8=j.BYTE;ce.Card8=ce.BYTE;j.Card16=j.USHORT;ce.Card16=ce.USHORT;j.OffSize=j.BYTE;ce.OffSize=ce.BYTE;j.SID=j.USHORT;ce.SID=ce.USHORT;j.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?(t=t-108,[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,[(t>>8)+251,t&255]):t>=-32768&&t<=32767?j.NUMBER16(t):j.NUMBER32(t)};ce.NUMBER=function(t){return j.NUMBER(t).length};j.NUMBER16=function(t){return[28,t>>8&255,t&255]};ce.NUMBER16=tr(3);j.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,t&255]};ce.NUMBER32=tr(5);j.REAL=function(t){var e=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*r)/r).toString()}for(var i="",o=0,s=e.length;o<s;o+=1){var a=e[o];a==="e"?i+=e[++o]==="-"?"c":"b":a==="."?i+="a":a==="-"?i+="e":i+=a}i+=i.length&1?"f":"ff";for(var l=[30],u=0,c=i.length;u<c;u+=2)l.push(parseInt(i.substr(u,2),16));return l};ce.REAL=function(t){return j.REAL(t).length};j.NAME=j.CHARARRAY;ce.NAME=ce.CHARARRAY;j.STRING=j.CHARARRAY;ce.STRING=ce.CHARARRAY;Bs.UTF8=function(t,e,n){for(var r=[],i=n,o=0;o<i;o++,e+=1)r[o]=t.getUint8(e);return String.fromCharCode.apply(null,r)};Bs.UTF16=function(t,e,n){for(var r=[],i=n/2,o=0;o<i;o++,e+=2)r[o]=t.getUint16(e);return String.fromCharCode.apply(null,r)};j.UTF16=function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e[e.length]=r>>8&255,e[e.length]=r&255}return e};ce.UTF16=function(t){return t.length*2};var _m={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"};Bs.MACSTRING=function(t,e,n,r){var i=_m[r];if(i!==void 0){for(var o="",s=0;s<n;s++){var a=t.getUint8(e+s);a<=127?o+=String.fromCharCode(a):o+=i[a&127]}return o}};var Id=typeof WeakMap=="function"&&new WeakMap,Ad,U2=function(t){if(!Ad){Ad={};for(var e in _m)Ad[e]=new String(e)}var n=Ad[t];if(n!==void 0){if(Id){var r=Id.get(n);if(r!==void 0)return r}var i=_m[t];if(i!==void 0){for(var o={},s=0;s<i.length;s++)o[i.charCodeAt(s)]=s+128;return Id&&Id.set(n,o),o}}};j.MACSTRING=function(t,e){var n=U2(e);if(n!==void 0){for(var r=[],i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=128&&(o=n[o],o===void 0))return;r[i]=o}return r}};ce.MACSTRING=function(t,e){var n=j.MACSTRING(t,e);return n!==void 0?n.length:0};function Sm(t){return t>=-128&&t<=127}function B2(t,e,n){for(var r=0,i=t.length;e<i&&r<64&&t[e]===0;)++e,++r;return n.push(128|r-1),e}function j2(t,e,n){for(var r=0,i=t.length,o=e;o<i&&r<64;){var s=t[o];if(!Sm(s)||s===0&&o+1<i&&t[o+1]===0)break;++o,++r}n.push(r-1);for(var a=e;a<o;++a)n.push(t[a]+256&255);return o}function H2(t,e,n){for(var r=0,i=t.length,o=e;o<i&&r<64;){var s=t[o];if(s===0||Sm(s)&&o+1<i&&Sm(t[o+1]))break;++o,++r}n.push(64|r-1);for(var a=e;a<o;++a){var l=t[a];n.push(l+65536>>8&255,l+256&255)}return o}j.VARDELTAS=function(t){for(var e=0,n=[];e<t.length;){var r=t[e];r===0?e=B2(t,e,n):r>=-128&&r<=127?e=j2(t,e,n):e=H2(t,e,n)}return n};j.INDEX=function(t){for(var e=1,n=[e],r=[],i=0;i<t.length;i+=1){var o=j.OBJECT(t[i]);Array.prototype.push.apply(r,o),e+=o.length,n.push(e)}if(r.length===0)return[0,0];for(var s=[],a=1+Math.floor(Math.log(e)/Math.log(2))/8|0,l=[void 0,j.BYTE,j.USHORT,j.UINT24,j.ULONG][a],u=0;u<n.length;u+=1){var c=l(n[u]);Array.prototype.push.apply(s,c)}return Array.prototype.concat(j.Card16(t.length),j.OffSize(a),s,r)};ce.INDEX=function(t){return j.INDEX(t).length};j.DICT=function(t){for(var e=[],n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=parseInt(n[i],0),s=t[o];e=e.concat(j.OPERAND(s.value,s.type)),e=e.concat(j.OPERATOR(o))}return e};ce.DICT=function(t){return j.DICT(t).length};j.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]};j.OPERAND=function(t,e){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r+=1)se.argument(t.length===e.length,"Not enough arguments given for type"+e),n=n.concat(j.OPERAND(t[r],e[r]));else if(e==="SID")n=n.concat(j.NUMBER(t));else if(e==="offset")n=n.concat(j.NUMBER32(t));else if(e==="number")n=n.concat(j.NUMBER(t));else if(e==="real")n=n.concat(j.REAL(t));else throw new Error("Unknown operand type "+e);return n};j.OP=j.BYTE;ce.OP=ce.BYTE;var Nd=typeof WeakMap=="function"&&new WeakMap;j.CHARSTRING=function(t){if(Nd){var e=Nd.get(t);if(e!==void 0)return e}for(var n=[],r=t.length,i=0;i<r;i+=1){var o=t[i];n=n.concat(j[o.type](o.value))}return Nd&&Nd.set(t,n),n};ce.CHARSTRING=function(t){return j.CHARSTRING(t).length};j.OBJECT=function(t){var e=j[t.type];return se.argument(e!==void 0,"No encoding function for type "+t.type),e(t.value)};ce.OBJECT=function(t){var e=ce[t.type];return se.argument(e!==void 0,"No sizeOf function for type "+t.type),e(t.value)};j.TABLE=function(t){for(var e=[],n=t.fields.length,r=[],i=[],o=0;o<n;o+=1){var s=t.fields[o],a=j[s.type];se.argument(a!==void 0,"No encoding function for field type "+s.type+" ("+s.name+")");var l=t[s.name];l===void 0&&(l=s.value);var u=a(l);s.type==="TABLE"?(i.push(e.length),e=e.concat([0,0]),r.push(u)):e=e.concat(u)}for(var c=0;c<r.length;c+=1){var d=i[c],f=e.length;se.argument(f<65536,"Table "+t.tableName+" too big."),e[d]=f>>8,e[d+1]=f&255,e=e.concat(r[c])}return e};ce.TABLE=function(t){for(var e=0,n=t.fields.length,r=0;r<n;r+=1){var i=t.fields[r],o=ce[i.type];se.argument(o!==void 0,"No sizeOf function for field type "+i.type+" ("+i.name+")");var s=t[i.name];s===void 0&&(s=i.value),e+=o(s),i.type==="TABLE"&&(e+=2)}return e};j.RECORD=j.TABLE;ce.RECORD=ce.TABLE;j.LITERAL=function(t){return t};ce.LITERAL=function(t){return t.length};function At(t,e,n){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var r=0;r<e.length;r+=1){var i=e[r];this[i.name]=i.value}if(this.tableName=t,this.fields=e,n)for(var o=Object.keys(n),s=0;s<o.length;s+=1){var a=o[s],l=n[a];this[a]!==void 0&&(this[a]=l)}}At.prototype.encode=function(){return j.TABLE(this)};At.prototype.sizeOf=function(){return ce.TABLE(this)};function pl(t,e,n){n===void 0&&(n=e.length);var r=new Array(e.length+1);r[0]={name:t+"Count",type:"USHORT",value:n};for(var i=0;i<e.length;i++)r[i+1]={name:t+i,type:"USHORT",value:e[i]};return r}function Mm(t,e,n){var r=e.length,i=new Array(r+1);i[0]={name:t+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i[o+1]={name:t+o,type:"TABLE",value:n(e[o],o)};return i}function gl(t,e,n){var r=e.length,i=[];i[0]={name:t+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i=i.concat(n(e[o],o));return i}function Pd(t){t.format===1?At.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(pl("glyph",t.glyphs))):t.format===2?At.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(gl("rangeRecord",t.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):se.assert(!1,"Coverage format must be 1 or 2.")}Pd.prototype=Object.create(At.prototype);Pd.prototype.constructor=Pd;function Ld(t){At.call(this,"scriptListTable",gl("scriptRecord",t,function(e,n){var r=e.script,i=r.defaultLangSys;return se.assert(!!i,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:e.tag},{name:"script"+n,type:"TABLE",value:new At("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new At("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(pl("featureIndex",i.featureIndexes)))}].concat(gl("langSys",r.langSysRecords,function(o,s){var a=o.langSys;return[{name:"langSysTag"+s,type:"TAG",value:o.tag},{name:"langSys"+s,type:"TABLE",value:new At("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat(pl("featureIndex",a.featureIndexes)))}]})))}]}))}Ld.prototype=Object.create(At.prototype);Ld.prototype.constructor=Ld;function Vd(t){At.call(this,"featureListTable",gl("featureRecord",t,function(e,n){var r=e.feature;return[{name:"featureTag"+n,type:"TAG",value:e.tag},{name:"feature"+n,type:"TABLE",value:new At("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(pl("lookupListIndex",r.lookupListIndexes)))}]}))}Vd.prototype=Object.create(At.prototype);Vd.prototype.constructor=Vd;function Ud(t,e){At.call(this,"lookupListTable",Mm("lookup",t,function(n){var r=e[n.lookupType];return se.assert(!!r,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new At("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(Mm("subtable",n.subtables,r)))}))}Ud.prototype=Object.create(At.prototype);Ud.prototype.constructor=Ud;var $={Table:At,Record:At,Coverage:Pd,ScriptList:Ld,FeatureList:Vd,LookupList:Ud,ushortList:pl,tableList:Mm,recordList:gl};function BD(t,e){return t.getUint8(e)}function Bd(t,e){return t.getUint16(e,!1)}function G2(t,e){return t.getInt16(e,!1)}function Pm(t,e){return t.getUint32(e,!1)}function Sx(t,e){var n=t.getInt16(e,!1),r=t.getUint16(e+2,!1);return n+r/65535}function $2(t,e){for(var n="",r=e;r<e+4;r+=1)n+=String.fromCharCode(t.getInt8(r));return n}function z2(t,e,n){for(var r=0,i=0;i<n;i+=1)r<<=8,r+=t.getUint8(e+i);return r}function W2(t,e,n){for(var r=[],i=e;i<n;i+=1)r.push(t.getUint8(i));return r}function q2(t){for(var e="",n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e}var Y2={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function S(t,e){this.data=t,this.offset=e,this.relativeOffset=0}S.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};S.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};S.prototype.parseCard8=S.prototype.parseByte;S.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};S.prototype.parseCard16=S.prototype.parseUShort;S.prototype.parseSID=S.prototype.parseUShort;S.prototype.parseOffset16=S.prototype.parseUShort;S.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};S.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t};S.prototype.parseULong=function(){var t=Pm(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};S.prototype.parseOffset32=S.prototype.parseULong;S.prototype.parseFixed=function(){var t=Sx(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};S.prototype.parseString=function(t){var e=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=t;for(var i=0;i<t;i++)r+=String.fromCharCode(e.getUint8(n+i));return r};S.prototype.parseTag=function(){return this.parseString(4)};S.prototype.parseLongDateTime=function(){var t=Pm(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t};S.prototype.parseVersion=function(t){var e=Bd(this.data,this.offset+this.relativeOffset),n=Bd(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t===void 0&&(t=4096),e+n/t/10};S.prototype.skip=function(t,e){e===void 0&&(e=1),this.relativeOffset+=Y2[t]*e};S.prototype.parseULongList=function(t){t===void 0&&(t=this.parseULong());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint32(r),r+=4;return this.relativeOffset+=t*4,e};S.prototype.parseOffset16List=S.prototype.parseUShortList=function(t){t===void 0&&(t=this.parseUShort());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint16(r),r+=2;return this.relativeOffset+=t*2,e};S.prototype.parseShortList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getInt16(r),r+=2;return this.relativeOffset+=t*2,e};S.prototype.parseByteList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint8(r++);return this.relativeOffset+=t,e};S.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};S.prototype.parseList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};S.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var o={},s=0;s<r.length;s++){var a=r[s],l=e[a];o[a]=l.call(this)}n[i]=o}return n};S.prototype.parseRecordList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var o={},s=0;s<r.length;s++){var a=r[s],l=e[a];o[a]=l.call(this)}n[i]=o}return n};S.prototype.parseStruct=function(t){if(typeof t=="function")return t.call(this);for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r],o=t[i];n[i]=o.call(this)}return n};S.prototype.parseValueRecord=function(t){if(t===void 0&&(t=this.parseUShort()),t!==0){var e={};return t&1&&(e.xPlacement=this.parseShort()),t&2&&(e.yPlacement=this.parseShort()),t&4&&(e.xAdvance=this.parseShort()),t&8&&(e.yAdvance=this.parseShort()),t&16&&(e.xPlaDevice=void 0,this.parseShort()),t&32&&(e.yPlaDevice=void 0,this.parseShort()),t&64&&(e.xAdvDevice=void 0,this.parseShort()),t&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};S.prototype.parseValueRecordList=function(){for(var t=this.parseUShort(),e=this.parseUShort(),n=new Array(e),r=0;r<e;r++)n[r]=this.parseValueRecord(t);return n};S.prototype.parsePointer=function(t){var e=this.parseOffset16();if(e>0)return new S(this.data,this.offset+e).parseStruct(t)};S.prototype.parsePointer32=function(t){var e=this.parseOffset32();if(e>0)return new S(this.data,this.offset+e).parseStruct(t)};S.prototype.parseListOfLists=function(t){for(var e=this.parseOffset16List(),n=e.length,r=this.relativeOffset,i=new Array(n),o=0;o<n;o++){var s=e[o];if(s===0){i[o]=void 0;continue}if(this.relativeOffset=s,t){for(var a=this.parseOffset16List(),l=new Array(a.length),u=0;u<a.length;u++)this.relativeOffset=s+a[u],l[u]=t.call(this);i[o]=l}else i[o]=this.parseUShortList()}return this.relativeOffset=r,i};S.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort(),n=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(n)};if(e===2){for(var r=new Array(n),i=0;i<n;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.")};S.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:S.uShort,end:S.uShort,classId:S.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")};S.list=function(t,e){return function(){return this.parseList(t,e)}};S.list32=function(t,e){return function(){return this.parseList32(t,e)}};S.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}};S.recordList32=function(t,e){return function(){return this.parseRecordList32(t,e)}};S.pointer=function(t){return function(){return this.parsePointer(t)}};S.pointer32=function(t){return function(){return this.parsePointer32(t)}};S.tag=S.prototype.parseTag;S.byte=S.prototype.parseByte;S.uShort=S.offset16=S.prototype.parseUShort;S.uShortList=S.prototype.parseUShortList;S.uLong=S.offset32=S.prototype.parseULong;S.uLongList=S.prototype.parseULongList;S.struct=S.prototype.parseStruct;S.coverage=S.prototype.parseCoverage;S.classDef=S.prototype.parseClassDef;var jD={reserved:S.uShort,reqFeatureIndex:S.uShort,featureIndexes:S.uShortList};S.prototype.parseScriptList=function(){return this.parsePointer(S.recordList({tag:S.tag,script:S.pointer({defaultLangSys:S.pointer(jD),langSysRecords:S.recordList({tag:S.tag,langSys:S.pointer(jD)})})}))||[]};S.prototype.parseFeatureList=function(){return this.parsePointer(S.recordList({tag:S.tag,feature:S.pointer({featureParams:S.offset16,lookupListIndexes:S.uShortList})}))||[]};S.prototype.parseLookupList=function(t){return this.parsePointer(S.list(S.pointer(function(){var e=this.parseUShort();se.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var n=this.parseUShort(),r=n&16;return{lookupType:e,lookupFlag:n,subtables:this.parseList(S.pointer(t[e])),markFilteringSet:r?this.parseUShort():void 0}})))||[]};S.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var t=this.parseUShort(),e=this.parseUShort();se.argument(t===1&&e<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:S.offset32,featureTableSubstitutionOffset:S.offset32});return n})||[]};var X={getByte:BD,getCard8:BD,getUShort:Bd,getCard16:Bd,getShort:G2,getULong:Pm,getFixed:Sx,getTag:$2,getOffset:z2,getBytes:W2,bytesToString:q2,Parser:S};function Z2(t,e){e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong();var n;t.groupCount=n=e.parseULong(),t.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var i=e.parseULong(),o=e.parseULong(),s=e.parseULong(),a=i;a<=o;a+=1)t.glyphIndexMap[a]=s,s++}function X2(t,e,n,r,i){t.length=e.parseUShort(),t.language=e.parseUShort();var o;t.segCount=o=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};for(var s=new X.Parser(n,r+i+14),a=new X.Parser(n,r+i+16+o*2),l=new X.Parser(n,r+i+16+o*4),u=new X.Parser(n,r+i+16+o*6),c=r+i+16+o*8,d=0;d<o-1;d+=1)for(var f=void 0,h=s.parseUShort(),v=a.parseUShort(),b=l.parseShort(),E=u.parseUShort(),C=v;C<=h;C+=1)E!==0?(c=u.offset+u.relativeOffset-2,c+=E,c+=(C-v)*2,f=X.getUShort(n,c),f!==0&&(f=f+b&65535)):f=C+b&65535,t.glyphIndexMap[C]=f}function Q2(t,e){var n={};n.version=X.getUShort(t,e),se.argument(n.version===0,"cmap table version should be 0."),n.numTables=X.getUShort(t,e+2);for(var r=-1,i=n.numTables-1;i>=0;i-=1){var o=X.getUShort(t,e+4+i*8),s=X.getUShort(t,e+4+i*8+2);if(o===3&&(s===0||s===1||s===10)||o===0&&(s===0||s===1||s===2||s===3||s===4)){r=X.getULong(t,e+4+i*8+4);break}}if(r===-1)throw new Error("No valid cmap sub-tables found.");var a=new X.Parser(t,e+r);if(n.format=a.parseUShort(),n.format===12)Z2(n,a);else if(n.format===4)X2(n,a,t,e,r);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function K2(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0,glyphIndex:n})}function J2(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function eL(t){var e=!0,n;for(n=t.length-1;n>0;n-=1){var r=t.get(n);if(r.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:20}];e||(i=i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),i=i.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var o=new $.Table("cmap",i);for(o.segments=[],n=0;n<t.length;n+=1){for(var s=t.get(n),a=0;a<s.unicodes.length;a+=1)K2(o,s.unicodes[a],n);o.segments=o.segments.sort(function(T,M){return T.start-M.start})}J2(o);var l=o.segments.length,u=0,c=[],d=[],f=[],h=[],v=[],b=[];for(n=0;n<l;n+=1){var E=o.segments[n];E.end<=65535&&E.start<=65535?(c=c.concat({name:"end_"+n,type:"USHORT",value:E.end}),d=d.concat({name:"start_"+n,type:"USHORT",value:E.start}),f=f.concat({name:"idDelta_"+n,type:"SHORT",value:E.delta}),h=h.concat({name:"idRangeOffset_"+n,type:"USHORT",value:E.offset}),E.glyphId!==void 0&&(v=v.concat({name:"glyph_"+n,type:"USHORT",value:E.glyphId}))):u+=1,!e&&E.glyphIndex!==void 0&&(b=b.concat({name:"cmap12Start_"+n,type:"ULONG",value:E.start}),b=b.concat({name:"cmap12End_"+n,type:"ULONG",value:E.end}),b=b.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:E.glyphIndex}))}if(o.segCountX2=(l-u)*2,o.searchRange=Math.pow(2,Math.floor(Math.log(l-u)/Math.log(2)))*2,o.entrySelector=Math.log(o.searchRange/2)/Math.log(2),o.rangeShift=o.segCountX2-o.searchRange,o.fields=o.fields.concat(c),o.fields.push({name:"reservedPad",type:"USHORT",value:0}),o.fields=o.fields.concat(d),o.fields=o.fields.concat(f),o.fields=o.fields.concat(h),o.fields=o.fields.concat(v),o.cmap4Length=14+c.length*2+2+d.length*2+f.length*2+h.length*2+v.length*2,!e){var C=16+b.length*4;o.cmap12Offset=12+2*2+4+o.cmap4Length,o.fields=o.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:C},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:b.length/3}]),o.fields=o.fields.concat(b)}return o}var Mx={parse:Q2,make:eL},Od=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],tL=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],nL=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ho=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Tx(t){this.font=t}Tx.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.font.glyphs;if(n){for(var r=0;r<n.length;r+=1)for(var i=n.get(r),o=0;o<i.unicodes.length;o+=1)if(i.unicodes[o]===e)return r}return null};function Ix(t){this.cmap=t}Ix.prototype.charToGlyphIndex=function(t){return this.cmap.glyphIndexMap[t.codePointAt(0)]||0};function jd(t,e){this.encoding=t,this.charset=e}jd.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.encoding[e];return this.charset.indexOf(n)};function Lm(t){switch(t.version){case 1:this.names=ho.slice();break;case 2:this.names=new Array(t.numberOfGlyphs);for(var e=0;e<t.numberOfGlyphs;e++)t.glyphNameIndex[e]<ho.length?this.names[e]=ho[t.glyphNameIndex[e]]:this.names[e]=t.names[t.glyphNameIndex[e]-ho.length];break;case 2.5:this.names=new Array(t.numberOfGlyphs);for(var n=0;n<t.numberOfGlyphs;n++)this.names[n]=ho[n+t.glyphNameIndex[n]];break;case 3:this.names=[];break;default:this.names=[];break}}Lm.prototype.nameToGlyphIndex=function(t){return this.names.indexOf(t)};Lm.prototype.glyphIndexToName=function(t){return this.names[t]};function rL(t){for(var e,n=t.tables.cmap.glyphIndexMap,r=Object.keys(n),i=0;i<r.length;i+=1){var o=r[i],s=n[o];e=t.glyphs.get(s),e.addUnicode(parseInt(o))}for(var a=0;a<t.glyphs.length;a+=1)e=t.glyphs.get(a),t.cffEncoding?t.isCIDFont?e.name="gid"+a:e.name=t.cffEncoding.charset[a]:t.glyphNames.names&&(e.name=t.glyphNames.glyphIndexToName(a))}function iL(t){t._IndexToUnicodeMap={};for(var e=t.tables.cmap.glyphIndexMap,n=Object.keys(e),r=0;r<n.length;r+=1){var i=n[r],o=e[i];t._IndexToUnicodeMap[o]===void 0?t._IndexToUnicodeMap[o]={unicodes:[parseInt(i)]}:t._IndexToUnicodeMap[o].unicodes.push(parseInt(i))}}function oL(t,e){e.lowMemory?iL(t):rL(t)}function sL(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.stroke()}var fo={line:sL};function aL(t,e){var n=e||new ut;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(r){n=r}}}function Yt(t){this.bindConstructorValues(t)}Yt.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||t.unicode!==void 0?[t.unicode]:[],"xMin"in t&&(this.xMin=t.xMin),"yMin"in t&&(this.yMin=t.yMin),"xMax"in t&&(this.xMax=t.xMax),"yMax"in t&&(this.yMax=t.yMax),"advanceWidth"in t&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",aL(this,t.path))};Yt.prototype.addUnicode=function(t){this.unicodes.length===0&&(this.unicode=t),this.unicodes.push(t)};Yt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Yt.prototype.getPath=function(t,e,n,r,i){t=t!==void 0?t:0,e=e!==void 0?e:0,n=n!==void 0?n:72;var o,s;r||(r={});var a=r.xScale,l=r.yScale;if(r.hinting&&i&&i.hinting&&(s=this.path&&i.hinting.exec(this,n)),s)o=i.hinting.getCommands(s),t=Math.round(t),e=Math.round(e),a=l=1;else{o=this.path.commands;var u=1/(this.path.unitsPerEm||1e3)*n;a===void 0&&(a=u),l===void 0&&(l=u)}for(var c=new ut,d=0;d<o.length;d+=1){var f=o[d];f.type==="M"?c.moveTo(t+f.x*a,e+-f.y*l):f.type==="L"?c.lineTo(t+f.x*a,e+-f.y*l):f.type==="Q"?c.quadraticCurveTo(t+f.x1*a,e+-f.y1*l,t+f.x*a,e+-f.y*l):f.type==="C"?c.curveTo(t+f.x1*a,e+-f.y1*l,t+f.x2*a,e+-f.y2*l,t+f.x*a,e+-f.y*l):f.type==="Z"&&c.closePath()}return c};Yt.prototype.getContours=function(){if(this.points===void 0)return[];for(var t=[],e=[],n=0;n<this.points.length;n+=1){var r=this.points[n];e.push(r),r.lastPointOfContour&&(t.push(e),e=[])}return se.argument(e.length===0,"There are still points left in the current contour."),t};Yt.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];i.type!=="Z"&&(e.push(i.x),n.push(i.y)),(i.type==="Q"||i.type==="C")&&(e.push(i.x1),n.push(i.y1)),i.type==="C"&&(e.push(i.x2),n.push(i.y2))}var o={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o};Yt.prototype.draw=function(t,e,n,r,i){this.getPath(e,n,r,i).draw(t)};Yt.prototype.drawPoints=function(t,e,n,r){function i(d,f,h,v){t.beginPath();for(var b=0;b<d.length;b+=1)t.moveTo(f+d[b].x*v,h+d[b].y*v),t.arc(f+d[b].x*v,h+d[b].y*v,2,0,Math.PI*2,!1);t.closePath(),t.fill()}e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24;for(var o=1/this.path.unitsPerEm*r,s=[],a=[],l=this.path,u=0;u<l.commands.length;u+=1){var c=l.commands[u];c.x!==void 0&&s.push({x:c.x,y:-c.y}),c.x1!==void 0&&a.push({x:c.x1,y:-c.y1}),c.x2!==void 0&&a.push({x:c.x2,y:-c.y2})}t.fillStyle="blue",i(s,e,n,o),t.fillStyle="red",i(a,e,n,o)};Yt.prototype.drawMetrics=function(t,e,n,r){var i;e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24,i=1/this.path.unitsPerEm*r,t.lineWidth=1,t.strokeStyle="black",fo.line(t,e,-1e4,e,1e4),fo.line(t,-1e4,n,1e4,n);var o=this.xMin||0,s=this.yMin||0,a=this.xMax||0,l=this.yMax||0,u=this.advanceWidth||0;t.strokeStyle="blue",fo.line(t,e+o*i,-1e4,e+o*i,1e4),fo.line(t,e+a*i,-1e4,e+a*i,1e4),fo.line(t,-1e4,n+-s*i,1e4,n+-s*i),fo.line(t,-1e4,n+-l*i,1e4,n+-l*i),t.strokeStyle="green",fo.line(t,e+u*i,-1e4,e+u*i,1e4)};function Rd(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(r){t[n]=r},enumerable:!0,configurable:!0})}function Vm(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];r.path.unitsPerEm=t.unitsPerEm,this.glyphs[n]=r}this.length=e&&e.length||0}Vm.prototype.get=function(t){if(this.glyphs[t]===void 0){this.font._push(t),typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());var e=this.glyphs[t],n=this.font._IndexToUnicodeMap[t];if(n)for(var r=0;r<n.unicodes.length;r++)e.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+t:e.name=this.font.cffEncoding.charset[t]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(t)),this.glyphs[t].advanceWidth=this.font._hmtxTableData[t].advanceWidth,this.glyphs[t].leftSideBearing=this.font._hmtxTableData[t].leftSideBearing}else typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());return this.glyphs[t]};Vm.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};function lL(t,e){return new Yt({index:e,font:t})}function uL(t,e,n,r,i,o){return function(){var s=new Yt({index:e,font:t});return s.path=function(){n(s,r,i);var a=o(t.glyphs,s);return a.unitsPerEm=t.unitsPerEm,a},Rd(s,"xMin","_xMin"),Rd(s,"xMax","_xMax"),Rd(s,"yMin","_yMin"),Rd(s,"yMax","_yMax"),s}}function cL(t,e,n,r){return function(){var i=new Yt({index:e,font:t});return i.path=function(){var o=n(t,i,r);return o.unitsPerEm=t.unitsPerEm,o},i}}var wr={GlyphSet:Vm,glyphLoader:lL,ttfGlyphLoader:uL,cffGlyphLoader:cL};function Ax(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(!Ax(t[n],e[n]))return!1;return!0}else return!1}function Tm(t){var e;return t.length<1240?e=107:t.length<33900?e=1131:e=32768,e}function bi(t,e,n){var r=[],i=[],o=X.getCard16(t,e),s,a;if(o!==0){var l=X.getByte(t,e+2);s=e+(o+1)*l+2;for(var u=e+3,c=0;c<o+1;c+=1)r.push(X.getOffset(t,u,l)),u+=l;a=s+r[o]}else a=e+2;for(var d=0;d<r.length-1;d+=1){var f=X.getBytes(t,s+r[d],s+r[d+1]);n&&(f=n(f)),i.push(f)}return{objects:i,startOffset:e,endOffset:a}}function dL(t,e){var n=[],r=X.getCard16(t,e),i,o;if(r!==0){var s=X.getByte(t,e+2);i=e+(r+1)*s+2;for(var a=e+3,l=0;l<r+1;l+=1)n.push(X.getOffset(t,a,s)),a+=s;o=i+n[r]}else o=e+2;return{offsets:n,startOffset:e,endOffset:o}}function fL(t,e,n,r,i){var o=X.getCard16(n,r),s=0;if(o!==0){var a=X.getByte(n,r+2);s=r+(o+1)*a+2}var l=X.getBytes(n,s+e[t],s+e[t+1]);return i&&(l=i(l)),l}function hL(t){for(var e="",n=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=t.parseByte(),o=i>>4,s=i&15;if(o===n||(e+=r[o],s===n))break;e+=r[s]}return parseFloat(e)}function pL(t,e){var n,r,i,o;if(e===28)return n=t.parseByte(),r=t.parseByte(),n<<8|r;if(e===29)return n=t.parseByte(),r=t.parseByte(),i=t.parseByte(),o=t.parseByte(),n<<24|r<<16|i<<8|o;if(e===30)return hL(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return n=t.parseByte(),(e-247)*256+n+108;if(e>=251&&e<=254)return n=t.parseByte(),-(e-251)*256-n-108;throw new Error("Invalid b0 "+e)}function gL(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n][0],i=t[n][1],o=void 0;if(i.length===1?o=i[0]:o=i,e.hasOwnProperty(r)&&!isNaN(e[r]))throw new Error("Object "+e+" already has key "+r);e[r]=o}return e}function Nx(t,e,n){e=e!==void 0?e:0;var r=new X.Parser(t,e),i=[],o=[];for(n=n!==void 0?n:t.length;r.relativeOffset<n;){var s=r.parseByte();s<=21?(s===12&&(s=1200+r.parseByte()),i.push([s,o]),o=[]):o.push(pL(r,s))}return gL(i)}function fl(t,e){return e<=390?e=Od[e]:e=t[e-391],e}function Rx(t,e,n){for(var r={},i,o=0;o<e.length;o+=1){var s=e[o];if(Array.isArray(s.type)){var a=[];a.length=s.type.length;for(var l=0;l<s.type.length;l++)i=t[s.op]!==void 0?t[s.op][l]:void 0,i===void 0&&(i=s.value!==void 0&&s.value[l]!==void 0?s.value[l]:null),s.type[l]==="SID"&&(i=fl(n,i)),a[l]=i;r[s.name]=a}else i=t[s.op],i===void 0&&(i=s.value!==void 0?s.value:null),s.type==="SID"&&(i=fl(n,i)),r[s.name]=i}return r}function mL(t,e){var n={};return n.formatMajor=X.getCard8(t,e),n.formatMinor=X.getCard8(t,e+1),n.size=X.getCard8(t,e+2),n.offsetSize=X.getCard8(t,e+3),n.startOffset=e,n.endOffset=e+4,n}var kx=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Ox=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function vL(t,e){var n=Nx(t,0,t.byteLength);return Rx(n,kx,e)}function Fx(t,e,n,r){var i=Nx(t,e,n);return Rx(i,Ox,r)}function HD(t,e,n,r){for(var i=[],o=0;o<n.length;o+=1){var s=new DataView(new Uint8Array(n[o]).buffer),a=vL(s,r);a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0;var l=a.private[0],u=a.private[1];if(l!==0&&u!==0){var c=Fx(t,u+e,l,r);if(a._defaultWidthX=c.defaultWidthX,a._nominalWidthX=c.nominalWidthX,c.subrs!==0){var d=u+c.subrs,f=bi(t,d+e);a._subrs=f.objects,a._subrsBias=Tm(a._subrs)}a._privateDict=c}i.push(a)}return i}function yL(t,e,n,r){var i,o,s=new X.Parser(t,e);n-=1;var a=[".notdef"],l=s.parseCard8();if(l===0)for(var u=0;u<n;u+=1)i=s.parseSID(),a.push(fl(r,i));else if(l===1)for(;a.length<=n;){i=s.parseSID(),o=s.parseCard8();for(var c=0;c<=o;c+=1)a.push(fl(r,i)),i+=1}else if(l===2)for(;a.length<=n;){i=s.parseSID(),o=s.parseCard16();for(var d=0;d<=o;d+=1)a.push(fl(r,i)),i+=1}else throw new Error("Unknown charset format "+l);return a}function bL(t,e,n){var r,i={},o=new X.Parser(t,e),s=o.parseCard8();if(s===0)for(var a=o.parseCard8(),l=0;l<a;l+=1)r=o.parseCard8(),i[r]=l;else if(s===1){var u=o.parseCard8();r=1;for(var c=0;c<u;c+=1)for(var d=o.parseCard8(),f=o.parseCard8(),h=d;h<=d+f;h+=1)i[h]=r,r+=1}else throw new Error("Unknown encoding format "+s);return new jd(i,n)}function GD(t,e,n){var r,i,o,s,a=new ut,l=[],u=0,c=!1,d=!1,f=0,h=0,v,b,E,C;if(t.isCIDFont){var T=t.tables.cff.topDict._fdSelect[e.index],M=t.tables.cff.topDict._fdArray[T];v=M._subrs,b=M._subrsBias,E=M._defaultWidthX,C=M._nominalWidthX}else v=t.tables.cff.topDict._subrs,b=t.tables.cff.topDict._subrsBias,E=t.tables.cff.topDict._defaultWidthX,C=t.tables.cff.topDict._nominalWidthX;var F=E;function A(O,P){d&&a.closePath(),a.moveTo(O,P),d=!0}function G(){var O;O=l.length%2!==0,O&&!c&&(F=l.shift()+C),u+=l.length>>1,l.length=0,c=!0}function B(O){for(var P,Y,ee,ue,Ee,pe,xe,ne,be,Pe,Te,Qe,ze=0;ze<O.length;){var bt=O[ze];switch(ze+=1,bt){case 1:G();break;case 3:G();break;case 4:l.length>1&&!c&&(F=l.shift()+C,c=!0),h+=l.pop(),A(f,h);break;case 5:for(;l.length>0;)f+=l.shift(),h+=l.shift(),a.lineTo(f,h);break;case 6:for(;l.length>0&&(f+=l.shift(),a.lineTo(f,h),l.length!==0);)h+=l.shift(),a.lineTo(f,h);break;case 7:for(;l.length>0&&(h+=l.shift(),a.lineTo(f,h),l.length!==0);)f+=l.shift(),a.lineTo(f,h);break;case 8:for(;l.length>0;)r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s+l.shift(),a.curveTo(r,i,o,s,f,h);break;case 10:Ee=l.pop()+b,pe=v[Ee],pe&&B(pe);break;case 11:return;case 12:switch(bt=O[ze],ze+=1,bt){case 35:r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),xe=o+l.shift(),ne=s+l.shift(),be=xe+l.shift(),Pe=ne+l.shift(),Te=be+l.shift(),Qe=Pe+l.shift(),f=Te+l.shift(),h=Qe+l.shift(),l.shift(),a.curveTo(r,i,o,s,xe,ne),a.curveTo(be,Pe,Te,Qe,f,h);break;case 34:r=f+l.shift(),i=h,o=r+l.shift(),s=i+l.shift(),xe=o+l.shift(),ne=s,be=xe+l.shift(),Pe=s,Te=be+l.shift(),Qe=h,f=Te+l.shift(),a.curveTo(r,i,o,s,xe,ne),a.curveTo(be,Pe,Te,Qe,f,h);break;case 36:r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),xe=o+l.shift(),ne=s,be=xe+l.shift(),Pe=s,Te=be+l.shift(),Qe=Pe+l.shift(),f=Te+l.shift(),a.curveTo(r,i,o,s,xe,ne),a.curveTo(be,Pe,Te,Qe,f,h);break;case 37:r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),xe=o+l.shift(),ne=s+l.shift(),be=xe+l.shift(),Pe=ne+l.shift(),Te=be+l.shift(),Qe=Pe+l.shift(),Math.abs(Te-f)>Math.abs(Qe-h)?f=Te+l.shift():h=Qe+l.shift(),a.curveTo(r,i,o,s,xe,ne),a.curveTo(be,Pe,Te,Qe,f,h);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+bt),l.length=0}break;case 14:l.length>0&&!c&&(F=l.shift()+C,c=!0),d&&(a.closePath(),d=!1);break;case 18:G();break;case 19:case 20:G(),ze+=u+7>>3;break;case 21:l.length>2&&!c&&(F=l.shift()+C,c=!0),h+=l.pop(),f+=l.pop(),A(f,h);break;case 22:l.length>1&&!c&&(F=l.shift()+C,c=!0),f+=l.pop(),A(f,h);break;case 23:G();break;case 24:for(;l.length>2;)r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s+l.shift(),a.curveTo(r,i,o,s,f,h);f+=l.shift(),h+=l.shift(),a.lineTo(f,h);break;case 25:for(;l.length>6;)f+=l.shift(),h+=l.shift(),a.lineTo(f,h);r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s+l.shift(),a.curveTo(r,i,o,s,f,h);break;case 26:for(l.length%2&&(f+=l.shift());l.length>0;)r=f,i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o,h=s+l.shift(),a.curveTo(r,i,o,s,f,h);break;case 27:for(l.length%2&&(h+=l.shift());l.length>0;)r=f+l.shift(),i=h,o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s,a.curveTo(r,i,o,s,f,h);break;case 28:P=O[ze],Y=O[ze+1],l.push((P<<24|Y<<16)>>16),ze+=2;break;case 29:Ee=l.pop()+t.gsubrsBias,pe=t.gsubrs[Ee],pe&&B(pe);break;case 30:for(;l.length>0&&(r=f,i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s+(l.length===1?l.shift():0),a.curveTo(r,i,o,s,f,h),l.length!==0);)r=f+l.shift(),i=h,o=r+l.shift(),s=i+l.shift(),h=s+l.shift(),f=o+(l.length===1?l.shift():0),a.curveTo(r,i,o,s,f,h);break;case 31:for(;l.length>0&&(r=f+l.shift(),i=h,o=r+l.shift(),s=i+l.shift(),h=s+l.shift(),f=o+(l.length===1?l.shift():0),a.curveTo(r,i,o,s,f,h),l.length!==0);)r=f,i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s+(l.length===1?l.shift():0),a.curveTo(r,i,o,s,f,h);break;default:bt<32?console.log("Glyph "+e.index+": unknown operator "+bt):bt<247?l.push(bt-139):bt<251?(P=O[ze],ze+=1,l.push((bt-247)*256+P+108)):bt<255?(P=O[ze],ze+=1,l.push(-(bt-251)*256-P-108)):(P=O[ze],Y=O[ze+1],ee=O[ze+2],ue=O[ze+3],ze+=4,l.push((P<<24|Y<<16|ee<<8|ue)/65536))}}}return B(n),e.advanceWidth=F,a}function wL(t,e,n,r){var i=[],o,s=new X.Parser(t,e),a=s.parseCard8();if(a===0)for(var l=0;l<n;l++){if(o=s.parseCard8(),o>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+r+")");i.push(o)}else if(a===3){var u=s.parseCard16(),c=s.parseCard16();if(c!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var d,f=0;f<u;f++){if(o=s.parseCard8(),d=s.parseCard16(),o>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+r+")");if(d>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+d);for(;c<d;c++)i.push(o);c=d}if(d!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+d)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);return i}function CL(t,e,n,r){n.tables.cff={};var i=mL(t,e),o=bi(t,i.endOffset,X.bytesToString),s=bi(t,o.endOffset),a=bi(t,s.endOffset,X.bytesToString),l=bi(t,a.endOffset);n.gsubrs=l.objects,n.gsubrsBias=Tm(n.gsubrs);var u=HD(t,e,s.objects,a.objects);if(u.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+u.length);var c=u[0];if(n.tables.cff.topDict=c,c._privateDict&&(n.defaultWidthX=c._privateDict.defaultWidthX,n.nominalWidthX=c._privateDict.nominalWidthX),c.ros[0]!==void 0&&c.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var d=c.fdArray,f=c.fdSelect;if(d===0||f===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");d+=e;var h=bi(t,d),v=HD(t,e,h.objects,a.objects);c._fdArray=v,f+=e,c._fdSelect=wL(t,f,n.numGlyphs,v.length)}var b=e+c.private[1],E=Fx(t,b,c.private[0],a.objects);if(n.defaultWidthX=E.defaultWidthX,n.nominalWidthX=E.nominalWidthX,E.subrs!==0){var C=b+E.subrs,T=bi(t,C);n.subrs=T.objects,n.subrsBias=Tm(n.subrs)}else n.subrs=[],n.subrsBias=0;var M;r.lowMemory?(M=dL(t,e+c.charStrings),n.nGlyphs=M.offsets.length):(M=bi(t,e+c.charStrings),n.nGlyphs=M.objects.length);var F=yL(t,e+c.charset,n.nGlyphs,a.objects);if(c.encoding===0?n.cffEncoding=new jd(tL,F):c.encoding===1?n.cffEncoding=new jd(nL,F):n.cffEncoding=bL(t,e+c.encoding,F),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new wr.GlyphSet(n),r.lowMemory)n._push=function(B){var O=fL(B,M.offsets,t,e+c.charStrings);n.glyphs.push(B,wr.cffGlyphLoader(n,B,GD,O))};else for(var A=0;A<n.nGlyphs;A+=1){var G=M.objects[A];n.glyphs.push(A,wr.cffGlyphLoader(n,A,GD,G))}}function Px(t,e){var n,r=Od.indexOf(t);return r>=0&&(n=r),r=e.indexOf(t),r>=0?n=r+Od.length:(n=Od.length+e.length,e.push(t)),n}function EL(){return new $.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function DL(t){var e=new $.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var n=0;n<t.length;n+=1)e.names.push({name:"name_"+n,type:"NAME",value:t[n]});return e}function Lx(t,e,n){for(var r={},i=0;i<t.length;i+=1){var o=t[i],s=e[o.name];s!==void 0&&!Ax(s,o.value)&&(o.type==="SID"&&(s=Px(s,n)),r[o.op]={name:o.name,type:o.type,value:s})}return r}function $D(t,e){var n=new $.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=Lx(kx,t,e),n}function zD(t){var e=new $.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function xL(t){var e=new $.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return e}function _L(){return new $.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function SL(t,e){for(var n=new $.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<t.length;r+=1){var i=t[r],o=Px(i,e);n.fields.push({name:"glyph_"+r,type:"SID",value:o})}return n}function ML(t){var e=[],n=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var r=0,i=0,o=0;o<n.commands.length;o+=1){var s=void 0,a=void 0,l=n.commands[o];if(l.type==="Q"){var u=.3333333333333333,c=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(u*r+c*l.x1),y1:Math.round(u*i+c*l.y1),x2:Math.round(u*l.x+c*l.x1),y2:Math.round(u*l.y+c*l.y1)}}if(l.type==="M")s=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:s}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="L")s=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:s}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="C"){var d=Math.round(l.x1-r),f=Math.round(l.y1-i),h=Math.round(l.x2-l.x1),v=Math.round(l.y2-l.y1);s=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:d}),e.push({name:"dy1",type:"NUMBER",value:f}),e.push({name:"dx2",type:"NUMBER",value:h}),e.push({name:"dy2",type:"NUMBER",value:v}),e.push({name:"dx",type:"NUMBER",value:s}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(l.x),i=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function TL(t){for(var e=new $.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var r=t.get(n),i=ML(r);e.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return e}function IL(t,e){var n=new $.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=Lx(Ox,t,e),n}function AL(t,e){for(var n=new $.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),r=1/e.unitsPerEm,i={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o={},s=[],a,l=1;l<t.length;l+=1)a=t.get(l),s.push(a.name);var u=[];n.header=EL(),n.nameIndex=DL([e.postScriptName]);var c=$D(i,u);n.topDictIndex=zD(c),n.globalSubrIndex=_L(),n.charsets=SL(s,u),n.charStringsIndex=TL(t),n.privateDict=IL(o,u),n.stringIndex=xL(u);var d=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return i.charset=d,i.encoding=0,i.charStrings=i.charset+n.charsets.sizeOf(),i.private[1]=i.charStrings+n.charStringsIndex.sizeOf(),c=$D(i,u),n.topDictIndex=zD(c),n}var Vx={parse:CL,make:AL};function NL(t,e){var n={},r=new X.Parser(t,e);return n.version=r.parseVersion(),n.fontRevision=Math.round(r.parseFixed()*1e3)/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),se.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n}function RL(t){var e=Math.round(new Date().getTime()/1e3)+2082844800,n=e;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new $.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}var Ux={parse:NL,make:RL};function kL(t,e){var n={},r=new X.Parser(t,e);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n}function OL(t){return new $.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}var Bx={parse:kL,make:OL};function FL(t,e,n,r,i){for(var o,s,a=new X.Parser(t,e),l=0;l<r;l+=1){l<n&&(o=a.parseUShort(),s=a.parseShort());var u=i.get(l);u.advanceWidth=o,u.leftSideBearing=s}}function PL(t,e,n,r,i){t._hmtxTableData={};for(var o,s,a=new X.Parser(e,n),l=0;l<i;l+=1)l<r&&(o=a.parseUShort(),s=a.parseShort()),t._hmtxTableData[l]={advanceWidth:o,leftSideBearing:s}}function LL(t,e,n,r,i,o,s){s.lowMemory?PL(t,e,n,r,i):FL(e,n,r,i,o)}function VL(t){for(var e=new $.Table("hmtx",[]),n=0;n<t.length;n+=1){var r=t.get(n),i=r.advanceWidth||0,o=r.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),e.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:o})}return e}var jx={parse:LL,make:VL};function UL(t){for(var e=new $.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),n="",r=12+t.length*4,i=0;i<t.length;++i){var o=n.indexOf(t[i]);o<0&&(o=n.length,n+=t[i]),e.fields.push({name:"offset "+i,type:"USHORT",value:r+o}),e.fields.push({name:"length "+i,type:"USHORT",value:t[i].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),e}function BL(t,e){var n=new X.Parser(t,e),r=n.parseULong();se.argument(r===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),o=[],s=0;s<i;s++){for(var a="",l=e+n.parseUShort(),u=n.parseUShort(),c=l;c<l+u;++c)a+=String.fromCharCode(t.getInt8(c));o.push(a)}return o}var Hx={make:UL,parse:BL};function jL(t,e){var n={},r=new X.Parser(t,e);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),n.version===1&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n}function HL(t){return new $.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}var Gx={parse:jL,make:HL},$x=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],zx={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},GL={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Wx={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function $L(t,e,n){switch(t){case 0:if(e===65535)return"und";if(n)return n[e];break;case 1:return zx[e];case 3:return Wx[e]}}var Im="utf-16",zL={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},WL={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function qx(t,e,n){switch(t){case 0:return Im;case 1:return WL[n]||zL[e];case 3:if(e===1||e===10)return Im;break}}function qL(t,e,n){for(var r={},i=new X.Parser(t,e),o=i.parseUShort(),s=i.parseUShort(),a=i.offset+i.parseUShort(),l=0;l<s;l++){var u=i.parseUShort(),c=i.parseUShort(),d=i.parseUShort(),f=i.parseUShort(),h=$x[f]||f,v=i.parseUShort(),b=i.parseUShort(),E=$L(u,d,n),C=qx(u,c,d);if(C!==void 0&&E!==void 0){var T=void 0;if(C===Im?T=Bs.UTF16(t,a+b,v):T=Bs.MACSTRING(t,a+b,v,C),T){var M=r[h];M===void 0&&(M=r[h]={}),M[E]=T}}}var F=0;return o===1&&(F=i.parseUShort()),r}function mm(t){var e={};for(var n in t)e[t[n]]=parseInt(n);return e}function WD(t,e,n,r,i,o){return new $.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:o}])}function YL(t,e){var n=t.length,r=e.length-n+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var o=0;o<n;o++)if(e[i+o]!==t[o])continue e;return i}return-1}function qD(t,e){var n=YL(t,e);if(n<0){n=e.length;for(var r=0,i=t.length;r<i;++r)e.push(t[r])}return n}function ZL(t,e){var n,r=[],i={},o=mm($x);for(var s in t){var a=o[s];if(a===void 0&&(a=s),n=parseInt(a),isNaN(n))throw new Error('Name table entry "'+s+'" does not exist, see nameTableNames for complete list.');i[n]=t[s],r.push(n)}for(var l=mm(zx),u=mm(Wx),c=[],d=[],f=0;f<r.length;f++){n=r[f];var h=i[n];for(var v in h){var b=h[v],E=1,C=l[v],T=GL[C],M=qx(E,T,C),F=j.MACSTRING(b,M);F===void 0&&(E=0,C=e.indexOf(v),C<0&&(C=e.length,e.push(v)),T=4,F=j.UTF16(b));var A=qD(F,d);c.push(WD(E,T,C,n,F.length,A));var G=u[v];if(G!==void 0){var B=j.UTF16(b),O=qD(B,d);c.push(WD(3,1,G,n,B.length,O))}}}c.sort(function(ee,ue){return ee.platformID-ue.platformID||ee.encodingID-ue.encodingID||ee.languageID-ue.languageID||ee.nameID-ue.nameID});for(var P=new $.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:c.length},{name:"stringOffset",type:"USHORT",value:6+c.length*12}]),Y=0;Y<c.length;Y++)P.fields.push({name:"record_"+Y,type:"RECORD",value:c[Y]});return P.fields.push({name:"strings",type:"LITERAL",value:d}),P}var Yx={parse:qL,make:ZL},Am=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function XL(t){for(var e=0;e<Am.length;e+=1){var n=Am[e];if(t>=n.begin&&t<n.end)return e}return-1}function QL(t,e){var n={},r=new X.Parser(t,e);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;i<10;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n}function KL(t){return new $.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}var Nm={parse:QL,make:KL,unicodeRanges:Am,getUnicodeRange:XL};function JL(t,e){var n={},r=new X.Parser(t,e);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=ho.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var i=0;i<n.numberOfGlyphs;i++)n.glyphNameIndex[i]=r.parseUShort();n.names=[];for(var o=0;o<n.numberOfGlyphs;o++)if(n.glyphNameIndex[o]>=ho.length){var s=r.parseChar();n.names.push(r.parseString(s))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var a=0;a<n.numberOfGlyphs;a++)n.offset[a]=r.parseChar();break}return n}function eV(){return new $.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var Zx={parse:JL,make:eV},Kn=new Array(9);Kn[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(S.coverage),deltaGlyphId:this.parseUShort()};if(n===2)return{substFormat:2,coverage:this.parsePointer(S.coverage),substitute:this.parseOffset16List()};se.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")};Kn[2]=function(){var e=this.parseUShort();return se.argument(e===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(S.coverage),sequences:this.parseListOfLists()}};Kn[3]=function(){var e=this.parseUShort();return se.argument(e===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(S.coverage),alternateSets:this.parseListOfLists()}};Kn[4]=function(){var e=this.parseUShort();return se.argument(e===1,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(S.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Us={sequenceIndex:S.uShort,lookupListIndex:S.uShort};Kn[5]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:n,coverage:this.parsePointer(S.coverage),ruleSets:this.parseListOfLists(function(){var o=this.parseUShort(),s=this.parseUShort();return{input:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(s,Us)}})};if(n===2)return{substFormat:n,coverage:this.parsePointer(S.coverage),classDef:this.parsePointer(S.classDef),classSets:this.parseListOfLists(function(){var o=this.parseUShort(),s=this.parseUShort();return{classes:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(s,Us)}})};if(n===3){var r=this.parseUShort(),i=this.parseUShort();return{substFormat:n,coverages:this.parseList(r,S.pointer(S.coverage)),lookupRecords:this.parseRecordList(i,Us)}}se.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};Kn[6]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(S.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Us)}})};if(n===2)return{substFormat:2,coverage:this.parsePointer(S.coverage),backtrackClassDef:this.parsePointer(S.classDef),inputClassDef:this.parsePointer(S.classDef),lookaheadClassDef:this.parsePointer(S.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Us)}})};if(n===3)return{substFormat:3,backtrackCoverage:this.parseList(S.pointer(S.coverage)),inputCoverage:this.parseList(S.pointer(S.coverage)),lookaheadCoverage:this.parseList(S.pointer(S.coverage)),lookupRecords:this.parseRecordList(Us)};se.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};Kn[7]=function(){var e=this.parseUShort();se.argument(e===1,"GSUB Extension Substitution subtable identifier-format must be 1");var n=this.parseUShort(),r=new S(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:Kn[n].call(r)}};Kn[8]=function(){var e=this.parseUShort();return se.argument(e===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(S.coverage),backtrackCoverage:this.parseList(S.pointer(S.coverage)),lookaheadCoverage:this.parseList(S.pointer(S.coverage)),substitutes:this.parseUShortList()}};function tV(t,e){e=e||0;var n=new S(t,e),r=n.parseVersion(1);return se.argument(r===1||r===1.1,"Unsupported GSUB table version."),r===1?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Kn)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Kn),variations:n.parseFeatureVariationsList()}}var js=new Array(9);js[1]=function(e){return e.substFormat===1?new $.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new $.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)}].concat($.ushortList("substitute",e.substitute)))};js[2]=function(e){return se.assert(e.substFormat===1,"Lookup type 2 substFormat must be 1."),new $.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)}].concat($.tableList("seqSet",e.sequences,function(n){return new $.Table("sequenceSetTable",$.ushortList("sequence",n))})))};js[3]=function(e){return se.assert(e.substFormat===1,"Lookup type 3 substFormat must be 1."),new $.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)}].concat($.tableList("altSet",e.alternateSets,function(n){return new $.Table("alternateSetTable",$.ushortList("alternate",n))})))};js[4]=function(e){return se.assert(e.substFormat===1,"Lookup type 4 substFormat must be 1."),new $.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)}].concat($.tableList("ligSet",e.ligatureSets,function(n){return new $.Table("ligatureSetTable",$.tableList("ligature",n,function(r){return new $.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:r.ligGlyph}].concat($.ushortList("component",r.components,r.components.length+1)))}))})))};js[6]=function(e){if(e.substFormat===1){var n=new $.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new $.Coverage(e.coverage)}].concat($.tableList("chainRuleSet",e.chainRuleSets,function(o){return new $.Table("chainRuleSetTable",$.tableList("chainRule",o,function(s){var a=$.ushortList("backtrackGlyph",s.backtrack,s.backtrack.length).concat($.ushortList("inputGlyph",s.input,s.input.length+1)).concat($.ushortList("lookaheadGlyph",s.lookahead,s.lookahead.length)).concat($.ushortList("substitution",[],s.lookupRecords.length));return s.lookupRecords.forEach(function(l,u){a=a.concat({name:"sequenceIndex"+u,type:"USHORT",value:l.sequenceIndex}).concat({name:"lookupListIndex"+u,type:"USHORT",value:l.lookupListIndex})}),new $.Table("chainRuleTable",a)}))})));return n}else if(e.substFormat===2)se.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(e.substFormat===3){var r=[{name:"substFormat",type:"USHORT",value:e.substFormat}];r.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(o,s){r.push({name:"backtrackCoverage"+s,type:"TABLE",value:new $.Coverage(o)})}),r.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(o,s){r.push({name:"inputCoverage"+s,type:"TABLE",value:new $.Coverage(o)})}),r.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(o,s){r.push({name:"lookaheadCoverage"+s,type:"TABLE",value:new $.Coverage(o)})}),r.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(o,s){r=r.concat({name:"sequenceIndex"+s,type:"USHORT",value:o.sequenceIndex}).concat({name:"lookupListIndex"+s,type:"USHORT",value:o.lookupListIndex})});var i=new $.Table("chainContextTable",r);return i}se.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function nV(t){return new $.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new $.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new $.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new $.LookupList(t.lookups,js)}])}var Xx={parse:tV,make:nV};function rV(t,e){var n=new X.Parser(t,e),r=n.parseULong();se.argument(r===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var i=n.parseULong(),o={},s=0;s<i;s++){var a=n.parseTag(),l=n.parseULong(),u=n.parseULong(),c=Bs.UTF8(t,e+l,u);o[a]=c}return o}function iV(t){var e=Object.keys(t).length,n="",r=16+e*12,i=new $.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:e}]);for(var o in t){var s=n.length;n+=t[o],i.fields.push({name:"tag "+o,type:"TAG",value:o}),i.fields.push({name:"offset "+o,type:"ULONG",value:r+s}),i.fields.push({name:"length "+o,type:"ULONG",value:t[o].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),i}var Qx={parse:rV,make:iV};function YD(t){return Math.log(t)/Math.log(2)|0}function Um(t){for(;t.length%4!==0;)t.push(0);for(var e=0,n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return e%=Math.pow(2,32),e}function ZD(t,e,n,r){return new $.Record("Table Record",[{name:"tag",type:"TAG",value:t!==void 0?t:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:r!==void 0?r:0}])}function Kx(t){var e=new $.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var n=Math.pow(2,YD(e.numTables));e.searchRange=16*n,e.entrySelector=YD(n),e.rangeShift=e.numTables*16-e.searchRange;for(var r=[],i=[],o=e.sizeOf()+ZD().sizeOf()*e.numTables;o%4!==0;)o+=1,i.push({name:"padding",type:"BYTE",value:0});for(var s=0;s<t.length;s+=1){var a=t[s];se.argument(a.tableName.length===4,"Table name"+a.tableName+" is invalid.");var l=a.sizeOf(),u=ZD(a.tableName,Um(a.encode()),o,l);for(r.push({name:u.tag+" Table Record",type:"RECORD",value:u}),i.push({name:a.tableName+" table",type:"RECORD",value:a}),o+=l,se.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!==0;)o+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(c,d){return c.value.tag>d.value.tag?1:-1}),e.fields=e.fields.concat(r),e.fields=e.fields.concat(i),e}function XD(t,e,n){for(var r=0;r<e.length;r+=1){var i=t.charToGlyphIndex(e[r]);if(i>0){var o=t.glyphs.get(i);return o.getMetrics()}}return n}function oV(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length}function sV(t){for(var e=[],n=[],r=[],i=[],o=[],s=[],a=[],l,u=0,c=0,d=0,f=0,h=0,v=0;v<t.glyphs.length;v+=1){var b=t.glyphs.get(v),E=b.unicode|0;if(isNaN(b.advanceWidth))throw new Error("Glyph "+b.name+" ("+v+"): advanceWidth is not a number.");(l>E||l===void 0)&&E>0&&(l=E),u<E&&(u=E);var C=Nm.getUnicodeRange(E);if(C<32)c|=1<<C;else if(C<64)d|=1<<C-32;else if(C<96)f|=1<<C-64;else if(C<123)h|=1<<C-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(b.name!==".notdef"){var T=b.getMetrics();e.push(T.xMin),n.push(T.yMin),r.push(T.xMax),i.push(T.yMax),s.push(T.leftSideBearing),a.push(T.rightSideBearing),o.push(b.advanceWidth)}}var M={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,i),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:oV(o),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,a)};M.ascender=t.ascender,M.descender=t.descender;var F=Ux.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:M.xMin,yMin:M.yMin,xMax:M.xMax,yMax:M.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),A=Bx.make({ascender:M.ascender,descender:M.descender,advanceWidthMax:M.advanceWidthMax,minLeftSideBearing:M.minLeftSideBearing,minRightSideBearing:M.minRightSideBearing,xMaxExtent:M.maxLeftSideBearing+(M.xMax-M.xMin),numberOfHMetrics:t.glyphs.length}),G=Gx.make(t.glyphs.length),B=Nm.make(Object.assign({xAvgCharWidth:Math.round(M.advanceWidthAvg),usFirstCharIndex:l,usLastCharIndex:u,ulUnicodeRange1:c,ulUnicodeRange2:d,ulUnicodeRange3:f,ulUnicodeRange4:h,sTypoAscender:M.ascender,sTypoDescender:M.descender,sTypoLineGap:0,usWinAscent:M.yMax,usWinDescent:Math.abs(M.yMin),ulCodePageRange1:1,sxHeight:XD(t,"xyvw",{yMax:Math.round(M.ascender/2)}).yMax,sCapHeight:XD(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",M).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0},t.tables.os2)),O=jx.make(t.glyphs),P=Mx.make(t.glyphs),Y=t.getEnglishName("fontFamily"),ee=t.getEnglishName("fontSubfamily"),ue=Y+" "+ee,Ee=t.getEnglishName("postScriptName");Ee||(Ee=Y.replace(/\s/g,"")+"-"+ee);var pe={};for(var xe in t.names)pe[xe]=t.names[xe];pe.uniqueID||(pe.uniqueID={en:t.getEnglishName("manufacturer")+":"+ue}),pe.postScriptName||(pe.postScriptName={en:Ee}),pe.preferredFamily||(pe.preferredFamily=t.names.fontFamily),pe.preferredSubfamily||(pe.preferredSubfamily=t.names.fontSubfamily);var ne=[],be=Yx.make(pe,ne),Pe=ne.length>0?Hx.make(ne):void 0,Te=Zx.make(),Qe=Vx.make(t.glyphs,{version:t.getEnglishName("version"),fullName:ue,familyName:Y,weightName:ee,postScriptName:Ee,unitsPerEm:t.unitsPerEm,fontBBox:[0,M.yMin,M.ascender,M.advanceWidthMax]}),ze=t.metas&&Object.keys(t.metas).length>0?Qx.make(t.metas):void 0,bt=[F,A,G,B,be,P,Te,Qe,O];Pe&&bt.push(Pe),t.tables.gsub&&bt.push(Xx.make(t.tables.gsub)),ze&&bt.push(ze);for(var ia=Kx(bt),af=ia.encode(),lf=Um(af),To=ia.fields,Ol=!1,Io=0;Io<To.length;Io+=1)if(To[Io].name==="head table"){To[Io].value.checkSumAdjustment=2981146554-lf,Ol=!0;break}if(!Ol)throw new Error("Could not find head table with checkSum to adjust.");return ia}var aV={make:Kx,fontToTable:sV,computeCheckSum:Um};function vm(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,o=t[i].tag;if(o===e)return i;o<e?n=i+1:r=i-1}return-n-1}function QD(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,o=t[i];if(o===e)return i;o<e?n=i+1:r=i-1}return-n-1}function KD(t,e){for(var n,r=0,i=t.length-1;r<=i;){var o=r+i>>>1;n=t[o];var s=n.start;if(s===e)return n;s<e?r=o+1:i=o-1}if(r>0)return n=t[r-1],e>n.end?0:n}function vl(t,e){this.font=t,this.tableName=e}vl.prototype={searchTag:vm,binSearch:QD,getTable:function(t){var e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var e=!1,n=0;n<t.scripts.length;n++){var r=t.scripts[n].tag;if(r==="DFLT")return r;r==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(t,e){var n=this.getTable(e);if(n){t=t||"DFLT";var r=n.scripts,i=vm(n.scripts,t);if(i>=0)return r[i].script;if(e){var o={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-i,0,o),o.script}}},getLangSysTable:function(t,e,n){var r=this.getScriptTable(t,n);if(r){if(!e||e==="dflt"||e==="DFLT")return r.defaultLangSys;var i=vm(r.langSysRecords,e);if(i>=0)return r.langSysRecords[i].langSys;if(n){var o={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-i,0,o),o.langSys}}},getFeatureTable:function(t,e,n,r){var i=this.getLangSysTable(t,e,r);if(i){for(var o,s=i.featureIndexes,a=this.font.tables[this.tableName].features,l=0;l<s.length;l++)if(o=a[s[l]],o.tag===n)return o.feature;if(r){var u=a.length;return se.assert(u===0||n>=a[u-1].tag,"Features must be added in alphabetical order."),o={tag:n,feature:{params:0,lookupListIndexes:[]}},a.push(o),s.push(u),o.feature}}},getLookupTables:function(t,e,n,r,i){var o=this.getFeatureTable(t,e,n,i),s=[];if(o){for(var a,l=o.lookupListIndexes,u=this.font.tables[this.tableName].lookups,c=0;c<l.length;c++)a=u[l[c]],a.lookupType===r&&s.push(a);if(s.length===0&&i){a={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var d=u.length;return u.push(a),l.push(d),[a]}}return s},getGlyphClass:function(t,e){switch(t.format){case 1:return t.startGlyph<=e&&e<t.startGlyph+t.classes.length?t.classes[e-t.startGlyph]:0;case 2:var n=KD(t.ranges,e);return n?n.classId:0}},getCoverageIndex:function(t,e){switch(t.format){case 1:var n=QD(t.glyphs,e);return n>=0?n:-1;case 2:var r=KD(t.ranges,e);return r?r.index+e-r.start:-1}},expandCoverage:function(t){if(t.format===1)return t.glyphs;for(var e=[],n=t.ranges,r=0;r<n.length;r++)for(var i=n[r],o=i.start,s=i.end,a=o;a<=s;a++)e.push(a);return e}};function yl(t){vl.call(this,t,"gpos")}yl.prototype=vl.prototype;yl.prototype.init=function(){var t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)};yl.prototype.getKerningValue=function(t,e,n){for(var r=0;r<t.length;r++)for(var i=t[r].subtables,o=0;o<i.length;o++){var s=i[o],a=this.getCoverageIndex(s.coverage,e);if(!(a<0))switch(s.posFormat){case 1:for(var l=s.pairSets[a],u=0;u<l.length;u++){var c=l[u];if(c.secondGlyph===n)return c.value1&&c.value1.xAdvance||0}break;case 2:var d=this.getGlyphClass(s.classDef1,e),f=this.getGlyphClass(s.classDef2,n),h=s.classRecords[d][f];return h.value1&&h.value1.xAdvance||0}}return 0};yl.prototype.getKerningTables=function(t,e){if(this.font.tables.gpos)return this.getLookupTables(t,e,"kern",2)};function mn(t){vl.call(this,t,"gsub")}function lV(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Bm(t,e,n){for(var r=t.subtables,i=0;i<r.length;i++){var o=r[i];if(o.substFormat===e)return o}if(n)return r.push(n),n}mn.prototype=vl.prototype;mn.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};mn.prototype.getSingle=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,1),o=0;o<i.length;o++)for(var s=i[o].subtables,a=0;a<s.length;a++){var l=s[a],u=this.expandCoverage(l.coverage),c=void 0;if(l.substFormat===1){var d=l.deltaGlyphId;for(c=0;c<u.length;c++){var f=u[c];r.push({sub:f,by:f+d})}}else{var h=l.substitute;for(c=0;c<u.length;c++)r.push({sub:u[c],by:h[c]})}}return r};mn.prototype.getMultiple=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,2),o=0;o<i.length;o++)for(var s=i[o].subtables,a=0;a<s.length;a++){var l=s[a],u=this.expandCoverage(l.coverage),c=void 0;for(c=0;c<u.length;c++){var d=u[c],f=l.sequences[c];r.push({sub:d,by:f})}}return r};mn.prototype.getAlternates=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,3),o=0;o<i.length;o++)for(var s=i[o].subtables,a=0;a<s.length;a++)for(var l=s[a],u=this.expandCoverage(l.coverage),c=l.alternateSets,d=0;d<u.length;d++)r.push({sub:u[d],by:c[d]});return r};mn.prototype.getLigatures=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,4),o=0;o<i.length;o++)for(var s=i[o].subtables,a=0;a<s.length;a++)for(var l=s[a],u=this.expandCoverage(l.coverage),c=l.ligatureSets,d=0;d<u.length;d++)for(var f=u[d],h=c[d],v=0;v<h.length;v++){var b=h[v];r.push({sub:[f].concat(b.components),by:b.ligGlyph})}return r};mn.prototype.addSingle=function(t,e,n,r){var i=this.getLookupTables(n,r,t,1,!0)[0],o=Bm(i,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});se.assert(o.coverage.format===1,"Single: unable to modify coverage table format "+o.coverage.format);var s=e.sub,a=this.binSearch(o.coverage.glyphs,s);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,s),o.substitute.splice(a,0,0)),o.substitute[a]=e.by};mn.prototype.addMultiple=function(t,e,n,r){se.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var i=this.getLookupTables(n,r,t,2,!0)[0],o=Bm(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});se.assert(o.coverage.format===1,"Multiple: unable to modify coverage table format "+o.coverage.format);var s=e.sub,a=this.binSearch(o.coverage.glyphs,s);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,s),o.sequences.splice(a,0,0)),o.sequences[a]=e.by};mn.prototype.addAlternate=function(t,e,n,r){var i=this.getLookupTables(n,r,t,3,!0)[0],o=Bm(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});se.assert(o.coverage.format===1,"Alternate: unable to modify coverage table format "+o.coverage.format);var s=e.sub,a=this.binSearch(o.coverage.glyphs,s);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,s),o.alternateSets.splice(a,0,0)),o.alternateSets[a]=e.by};mn.prototype.addLigature=function(t,e,n,r){var i=this.getLookupTables(n,r,t,4,!0)[0],o=i.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=o),se.assert(o.coverage.format===1,"Ligature: unable to modify coverage table format "+o.coverage.format);var s=e.sub[0],a=e.sub.slice(1),l={ligGlyph:e.by,components:a},u=this.binSearch(o.coverage.glyphs,s);if(u>=0){for(var c=o.ligatureSets[u],d=0;d<c.length;d++)if(lV(c[d].components,a))return;c.push(l)}else u=-1-u,o.coverage.glyphs.splice(u,0,s),o.ligatureSets.splice(u,0,[l])};mn.prototype.getFeature=function(t,e,n){if(/ss\d\d/.test(t))return this.getSingle(t,e,n);switch(t){case"aalt":case"salt":return this.getSingle(t,e,n).concat(this.getAlternates(t,e,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,n);case"ccmp":return this.getMultiple(t,e,n).concat(this.getLigatures(t,e,n));case"stch":return this.getMultiple(t,e,n)}};mn.prototype.add=function(t,e,n,r){if(/ss\d\d/.test(t))return this.addSingle(t,e,n,r);switch(t){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(t,e,n,r):this.addAlternate(t,e,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,n,r);case"ccmp":return e.by instanceof Array?this.addMultiple(t,e,n,r):this.addLigature(t,e,n,r)}};function uV(){return typeof window<"u"}function Jx(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r<t.length;++r)n[r]=t[r];return e}function cV(t){for(var e=new Buffer(t.byteLength),n=new Uint8Array(t),r=0;r<e.length;++r)e[r]=n[r];return e}function dl(t,e){if(!t)throw e}function JD(t,e,n,r,i){var o;return(e&r)>0?(o=t.parseByte(),e&i||(o=-o),o=n+o):(e&i)>0?o=n:o=n+t.parseShort(),o}function e_(t,e,n){var r=new X.Parser(e,n);t.numberOfContours=r.parseShort(),t._xMin=r.parseShort(),t._yMin=r.parseShort(),t._xMax=r.parseShort(),t._yMax=r.parseShort();var i,o;if(t.numberOfContours>0){for(var s=t.endPointIndices=[],a=0;a<t.numberOfContours;a+=1)s.push(r.parseUShort());t.instructionLength=r.parseUShort(),t.instructions=[];for(var l=0;l<t.instructionLength;l+=1)t.instructions.push(r.parseByte());var u=s[s.length-1]+1;i=[];for(var c=0;c<u;c+=1)if(o=r.parseByte(),i.push(o),(o&8)>0)for(var d=r.parseByte(),f=0;f<d;f+=1)i.push(o),c+=1;if(se.argument(i.length===u,"Bad flags."),s.length>0){var h=[],v;if(u>0){for(var b=0;b<u;b+=1)o=i[b],v={},v.onCurve=!!(o&1),v.lastPointOfContour=s.indexOf(b)>=0,h.push(v);for(var E=0,C=0;C<u;C+=1)o=i[C],v=h[C],v.x=JD(r,o,E,2,16),E=v.x;for(var T=0,M=0;M<u;M+=1)o=i[M],v=h[M],v.y=JD(r,o,T,4,32),T=v.y}t.points=h}else t.points=[]}else if(t.numberOfContours===0)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var F=!0;F;){i=r.parseUShort();var A={glyphIndex:r.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(i&1)>0?(i&2)>0?(A.dx=r.parseShort(),A.dy=r.parseShort()):A.matchedPoints=[r.parseUShort(),r.parseUShort()]:(i&2)>0?(A.dx=r.parseChar(),A.dy=r.parseChar()):A.matchedPoints=[r.parseByte(),r.parseByte()],(i&8)>0?A.xScale=A.yScale=r.parseF2Dot14():(i&64)>0?(A.xScale=r.parseF2Dot14(),A.yScale=r.parseF2Dot14()):(i&128)>0&&(A.xScale=r.parseF2Dot14(),A.scale01=r.parseF2Dot14(),A.scale10=r.parseF2Dot14(),A.yScale=r.parseF2Dot14()),t.components.push(A),F=!!(i&32)}if(i&256){t.instructionLength=r.parseUShort(),t.instructions=[];for(var G=0;G<t.instructionLength;G+=1)t.instructions.push(r.parseByte())}}}function ym(t,e){for(var n=[],r=0;r<t.length;r+=1){var i=t[r],o={x:e.xScale*i.x+e.scale01*i.y+e.dx,y:e.scale10*i.x+e.yScale*i.y+e.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(o)}return n}function dV(t){for(var e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];n.push(i),i.lastPointOfContour&&(e.push(n),n=[])}return se.argument(n.length===0,"There are still points left in the current contour."),e}function t_(t){var e=new ut;if(!t)return e;for(var n=dV(t),r=0;r<n.length;++r){var i=n[r],o=null,s=i[i.length-1],a=i[0];if(s.onCurve)e.moveTo(s.x,s.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{var l={x:(s.x+a.x)*.5,y:(s.y+a.y)*.5};e.moveTo(l.x,l.y)}for(var u=0;u<i.length;++u)if(o=s,s=a,a=i[(u+1)%i.length],s.onCurve)e.lineTo(s.x,s.y);else{var c=o,d=a;o.onCurve||(c={x:(s.x+o.x)*.5,y:(s.y+o.y)*.5}),a.onCurve||(d={x:(s.x+a.x)*.5,y:(s.y+a.y)*.5}),e.quadraticCurveTo(s.x,s.y,d.x,d.y)}e.closePath()}return e}function n_(t,e){if(e.isComposite)for(var n=0;n<e.components.length;n+=1){var r=e.components[n],i=t.get(r.glyphIndex);if(i.getPath(),i.points){var o=void 0;if(r.matchedPoints===void 0)o=ym(i.points,r);else{if(r.matchedPoints[0]>e.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+e.name);var s=e.points[r.matchedPoints[0]],a=i.points[r.matchedPoints[1]],l={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};a=ym([a],l)[0],l.dx=s.x-a.x,l.dy=s.y-a.y,o=ym(i.points,l)}e.points=e.points.concat(o)}}return t_(e.points)}function fV(t,e,n,r){for(var i=new wr.GlyphSet(r),o=0;o<n.length-1;o+=1){var s=n[o],a=n[o+1];s!==a?i.push(o,wr.ttfGlyphLoader(r,o,e_,t,e+s,n_)):i.push(o,wr.glyphLoader(r,o))}return i}function hV(t,e,n,r){var i=new wr.GlyphSet(r);return r._push=function(o){var s=n[o],a=n[o+1];s!==a?i.push(o,wr.ttfGlyphLoader(r,o,e_,t,e+s,n_)):i.push(o,wr.glyphLoader(r,o))},i}function pV(t,e,n,r,i){return i.lowMemory?hV(t,e,n,r):fV(t,e,n,r)}var r_={getPath:t_,parse:pV},i_,go,o_,Rm;function s_(t){this.font=t,this.getCommands=function(e){return r_.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function gV(t){return t}function a_(t){return Math.sign(t)*Math.round(Math.abs(t))}function mV(t){return Math.sign(t)*Math.round(Math.abs(t*2))/2}function vV(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function yV(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function bV(t){return Math.sign(t)*Math.floor(Math.abs(t))}var l_=function(t){var e=this.srPeriod,n=this.srPhase,r=this.srThreshold,i=1;return t<0&&(t=-t,i=-1),t+=r-n,t=Math.trunc(t/e)*e,t+=n,t<0?n*i:t*i},br={x:1,y:0,axis:"x",distance:function(t,e,n,r){return(n?t.xo:t.x)-(r?e.xo:e.x)},interpolate:function(t,e,n,r){var i,o,s,a,l,u,c;if(!r||r===this){if(i=t.xo-e.xo,o=t.xo-n.xo,l=e.x-e.xo,u=n.x-n.xo,s=Math.abs(i),a=Math.abs(o),c=s+a,c===0){t.x=t.xo+(l+u)/2;return}t.x=t.xo+(l*a+u*s)/c;return}if(i=r.distance(t,e,!0,!0),o=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),u=r.distance(n,n,!1,!0),s=Math.abs(i),a=Math.abs(o),c=s+a,c===0){br.setRelative(t,t,(l+u)/2,r,!0);return}br.setRelative(t,t,(l*a+u*s)/c,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,e,n,r,i){if(!r||r===this){t.x=(i?e.xo:e.x)+n;return}var o=i?e.xo:e.x,s=i?e.yo:e.y,a=o+n*r.x,l=s+n*r.y;t.x=a+(t.y-l)/r.normalSlope},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},Pr={x:0,y:1,axis:"y",distance:function(t,e,n,r){return(n?t.yo:t.y)-(r?e.yo:e.y)},interpolate:function(t,e,n,r){var i,o,s,a,l,u,c;if(!r||r===this){if(i=t.yo-e.yo,o=t.yo-n.yo,l=e.y-e.yo,u=n.y-n.yo,s=Math.abs(i),a=Math.abs(o),c=s+a,c===0){t.y=t.yo+(l+u)/2;return}t.y=t.yo+(l*a+u*s)/c;return}if(i=r.distance(t,e,!0,!0),o=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),u=r.distance(n,n,!1,!0),s=Math.abs(i),a=Math.abs(o),c=s+a,c===0){Pr.setRelative(t,t,(l+u)/2,r,!0);return}Pr.setRelative(t,t,(l*a+u*s)/c,r,!0)},normalSlope:0,setRelative:function(t,e,n,r,i){if(!r||r===this){t.y=(i?e.yo:e.y)+n;return}var o=i?e.xo:e.x,s=i?e.yo:e.y,a=o+n*r.x,l=s+n*r.y;t.y=l+r.normalSlope*(t.x-a)},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};Object.freeze(br);Object.freeze(Pr);function bl(t,e){this.x=t,this.y=e,this.axis=void 0,this.slope=e/t,this.normalSlope=-t/e,Object.freeze(this)}bl.prototype.distance=function(t,e,n,r){return this.x*br.distance(t,e,n,r)+this.y*Pr.distance(t,e,n,r)};bl.prototype.interpolate=function(t,e,n,r){var i,o,s,a,l,u,c;if(s=r.distance(t,e,!0,!0),a=r.distance(t,n,!0,!0),i=r.distance(e,e,!1,!0),o=r.distance(n,n,!1,!0),l=Math.abs(s),u=Math.abs(a),c=l+u,c===0){this.setRelative(t,t,(i+o)/2,r,!0);return}this.setRelative(t,t,(i*u+o*l)/c,r,!0)};bl.prototype.setRelative=function(t,e,n,r,i){r=r||this;var o=i?e.xo:e.x,s=i?e.yo:e.y,a=o+n*r.x,l=s+n*r.y,u=r.normalSlope,c=this.slope,d=t.x,f=t.y;t.x=(c*d-u*a+l-f)/(c-u),t.y=c*(t.x-d)+f};bl.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0};function wl(t,e){var n=Math.sqrt(t*t+e*e);return t/=n,e/=n,t===1&&e===0?br:t===0&&e===1?Pr:new bl(t,e)}function Lr(t,e,n,r){this.x=this.xo=Math.round(t*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Lr.prototype.nextTouched=function(t){for(var e=this.nextPointOnContour;!t.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};Lr.prototype.prevTouched=function(t){for(var e=this.prevPointOnContour;!t.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var ml=Object.freeze(new Lr(0,0)),wV={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function wi(t,e){switch(this.env=t,this.stack=[],this.prog=e,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=br,this.round=a_}}s_.prototype.exec=function(t,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,r=this._prepState;if(!r||r.ppem!==e){var i=this._fpgmState;if(!i){wi.prototype=wV,i=this._fpgmState=new wi("fpgm",n.tables.fpgm),i.funcs=[],i.font=n,exports.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{go(i)}catch(u){console.log("Hinting error in FPGM:"+u),this._errorState=3;return}}wi.prototype=i,r=this._prepState=new wi("prep",n.tables.prep),r.ppem=e;var o=n.tables.cvt;if(o)for(var s=r.cvt=new Array(o.length),a=e/n.unitsPerEm,l=0;l<o.length;l++)s[l]=o[l]*a;else r.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{go(r)}catch(u){this._errorState<2&&console.log("Hinting error in PREP:"+u),this._errorState=2}}if(!(this._errorState>1))try{return o_(t,r)}catch(u){this._errorState<1&&(console.log("Hinting error:"+u),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};o_=function(t,e){var n=e.ppem/e.font.unitsPerEm,r=n,i=t.components,o,s,a;if(wi.prototype=e,!i)a=new wi("glyf",t.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),Rm(t,a,n,r),s=a.gZone;else{var l=e.font;s=[],o=[];for(var u=0;u<i.length;u++){var c=i[u],d=l.glyphs.get(c.glyphIndex);a=new wi("glyf",d.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+u+"---"),a.step=-1),Rm(d,a,n,r);for(var f=Math.round(c.dx*n),h=Math.round(c.dy*r),v=a.gZone,b=a.contours,E=0;E<v.length;E++){var C=v[E];C.xTouched=C.yTouched=!1,C.xo=C.x=C.x+f,C.yo=C.y=C.y+h}var T=s.length;s.push.apply(s,v);for(var M=0;M<b.length;M++)o.push(b[M]+T)}t.instructions&&!a.inhibitGridFit&&(a=new wi("glyf",t.instructions),a.gZone=a.z0=a.z1=a.z2=s,a.contours=o,s.push(new Lr(0,0),new Lr(Math.round(t.advanceWidth*n),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),go(a),s.length-=2)}return s};Rm=function(t,e,n,r){for(var i=t.points||[],o=i.length,s=e.gZone=e.z0=e.z1=e.z2=[],a=e.contours=[],l,u=0;u<o;u++)l=i[u],s[u]=new Lr(l.x*n,l.y*r,l.lastPointOfContour,l.onCurve);for(var c,d,f=0;f<o;f++)l=s[f],c||(c=l,a.push(f)),l.lastPointOfContour?(l.nextPointOnContour=c,c.prevPointOnContour=l,c=void 0):(d=s[f+1],l.nextPointOnContour=d,d.prevPointOnContour=l);if(!e.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var h=0;h<o;h++)console.log(h,s[h].x,s[h].y)}if(s.push(new Lr(0,0),new Lr(Math.round(t.advanceWidth*n),0)),go(e),s.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var v=0;v<o;v++)console.log(v,s[v].x,s[v].y)}}};go=function(t){var e=t.prog;if(e){var n=e.length,r;for(t.ip=0;t.ip<n;t.ip++){if(exports.DEBUG&&t.step++,r=i_[e[t.ip]],!r)throw new Error("unknown instruction: 0x"+Number(e[t.ip]).toString(16));r(t)}}};function Hd(t){for(var e=t.tZone=new Array(t.gZone.length),n=0;n<e.length;n++)e[n]=new Lr(0,0)}function u_(t,e){var n=t.prog,r=t.ip,i=1,o;do if(o=n[++r],o===88)i++;else if(o===89)i--;else if(o===64)r+=n[r+1]+1;else if(o===65)r+=2*n[r+1]+1;else if(o>=176&&o<=183)r+=o-176+1;else if(o>=184&&o<=191)r+=(o-184+1)*2;else if(e&&i===1&&o===27)break;while(i>0);t.ip=r}function ex(t,e){exports.DEBUG&&console.log(e.step,"SVTCA["+t.axis+"]"),e.fv=e.pv=e.dpv=t}function tx(t,e){exports.DEBUG&&console.log(e.step,"SPVTCA["+t.axis+"]"),e.pv=e.dpv=t}function nx(t,e){exports.DEBUG&&console.log(e.step,"SFVTCA["+t.axis+"]"),e.fv=t}function rx(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z2[r],s=e.z1[i];exports.DEBUG&&console.log("SPVTL["+t+"]",r,i);var a,l;t?(a=o.y-s.y,l=s.x-o.x):(a=s.x-o.x,l=s.y-o.y),e.pv=e.dpv=wl(a,l)}function ix(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z2[r],s=e.z1[i];exports.DEBUG&&console.log("SFVTL["+t+"]",r,i);var a,l;t?(a=o.y-s.y,l=s.x-o.x):(a=s.x-o.x,l=s.y-o.y),e.fv=wl(a,l)}function CV(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.pv=t.dpv=wl(r,n)}function EV(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.fv=wl(r,n)}function DV(t){var e=t.stack,n=t.pv;exports.DEBUG&&console.log(t.step,"GPV[]"),e.push(n.x*16384),e.push(n.y*16384)}function xV(t){var e=t.stack,n=t.fv;exports.DEBUG&&console.log(t.step,"GFV[]"),e.push(n.x*16384),e.push(n.y*16384)}function _V(t){t.fv=t.pv,exports.DEBUG&&console.log(t.step,"SFVTPV[]")}function SV(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop(),o=e.pop(),s=e.pop(),a=t.z0,l=t.z1,u=a[n],c=a[r],d=l[i],f=l[o],h=t.z2[s];exports.DEBUG&&console.log("ISECT[], ",n,r,i,o,s);var v=u.x,b=u.y,E=c.x,C=c.y,T=d.x,M=d.y,F=f.x,A=f.y,G=(v-E)*(M-A)-(b-C)*(T-F),B=v*C-b*E,O=T*A-M*F;h.x=(B*(T-F)-O*(v-E))/G,h.y=(B*(M-A)-O*(b-C))/G}function MV(t){t.rp0=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)}function TV(t){t.rp1=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)}function IV(t){t.rp2=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)}function AV(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP0[]",e),t.zp0=e,e){case 0:t.tZone||Hd(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function NV(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP1[]",e),t.zp1=e,e){case 0:t.tZone||Hd(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function RV(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP2[]",e),t.zp2=e,e){case 0:t.tZone||Hd(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function kV(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZPS[]",e),t.zp0=t.zp1=t.zp2=e,e){case 0:t.tZone||Hd(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function OV(t){t.loop=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)}function FV(t){exports.DEBUG&&console.log(t.step,"RTG[]"),t.round=a_}function PV(t){exports.DEBUG&&console.log(t.step,"RTHG[]"),t.round=vV}function LV(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SMD[]",e),t.minDis=e/64}function VV(t){exports.DEBUG&&console.log(t.step,"ELSE[]"),u_(t,!1)}function UV(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"JMPR[]",e),t.ip+=e-1}function BV(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCVTCI[]",e),t.cvCutIn=e/64}function jV(t){var e=t.stack;exports.DEBUG&&console.log(t.step,"DUP[]"),e.push(e[e.length-1])}function bm(t){exports.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function HV(t){exports.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0}function GV(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SWAP[]"),e.push(n),e.push(r)}function $V(t){var e=t.stack;exports.DEBUG&&console.log(t.step,"DEPTH[]"),e.push(e.length)}function zV(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LOOPCALL[]",n,r);var i=t.ip,o=t.prog;t.prog=t.funcs[n];for(var s=0;s<r;s++)go(t),exports.DEBUG&&console.log(++t.step,s+1<r?"next loopcall":"done loopcall",s);t.ip=i,t.prog=o}function WV(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"CALL[]",e);var n=t.ip,r=t.prog;t.prog=t.funcs[e],go(t),t.ip=n,t.prog=r,exports.DEBUG&&console.log(++t.step,"returning from",e)}function qV(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CINDEX[]",n),e.push(e[e.length-n])}function YV(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"MINDEX[]",n),e.push(e.splice(e.length-n,1)[0])}function ZV(t){if(t.env!=="fpgm")throw new Error("FDEF not allowed here");var e=t.stack,n=t.prog,r=t.ip,i=e.pop(),o=r;for(exports.DEBUG&&console.log(t.step,"FDEF[]",i);n[++r]!==45;);t.ip=r,t.funcs[i]=n.slice(o+1,r)}function ox(t,e){var n=e.stack.pop(),r=e.z0[n],i=e.fv,o=e.pv;exports.DEBUG&&console.log(e.step,"MDAP["+t+"]",n);var s=o.distance(r,ml);t&&(s=e.round(s)),i.setRelative(r,ml,s,o),i.touch(r),e.rp0=e.rp1=n}function sx(t,e){var n=e.z2,r=n.length-2,i,o,s;exports.DEBUG&&console.log(e.step,"IUP["+t.axis+"]");for(var a=0;a<r;a++)i=n[a],!t.touched(i)&&(o=i.prevTouched(t),o!==i&&(s=i.nextTouched(t),o===s&&t.setRelative(i,i,t.distance(o,o,!1,!0),t,!0),t.interpolate(i,o,s,t)))}function ax(t,e){for(var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],o=e.fv,s=e.pv,a=e.loop,l=e.z2;a--;){var u=n.pop(),c=l[u],d=s.distance(i,i,!1,!0);o.setRelative(c,c,d,s),o.touch(c),exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",u)}e.loop=1}function lx(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],o=e.fv,s=e.pv,a=n.pop(),l=e.z2[e.contours[a]],u=l;exports.DEBUG&&console.log(e.step,"SHC["+t+"]",a);var c=s.distance(i,i,!1,!0);do u!==i&&o.setRelative(u,u,c,s),u=u.nextPointOnContour;while(u!==l)}function ux(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],o=e.fv,s=e.pv,a=n.pop();exports.DEBUG&&console.log(e.step,"SHZ["+t+"]",a);var l;switch(a){case 0:l=e.tZone;break;case 1:l=e.gZone;break;default:throw new Error("Invalid zone")}for(var u,c=s.distance(i,i,!1,!0),d=l.length-2,f=0;f<d;f++)u=l[f],o.setRelative(u,u,c,s)}function XV(t){for(var e=t.stack,n=t.loop,r=t.fv,i=e.pop()/64,o=t.z2;n--;){var s=e.pop(),a=o[s];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-n)+": ":"")+"SHPIX[]",s,i),r.setRelative(a,a,i),r.touch(a)}t.loop=1}function QV(t){for(var e=t.stack,n=t.rp1,r=t.rp2,i=t.loop,o=t.z0[n],s=t.z1[r],a=t.fv,l=t.dpv,u=t.z2;i--;){var c=e.pop(),d=u[c];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"IP[]",c,n,"<->",r),a.interpolate(d,o,s,l),a.touch(d)}t.loop=1}function cx(t,e){var n=e.stack,r=n.pop()/64,i=n.pop(),o=e.z1[i],s=e.z0[e.rp0],a=e.fv,l=e.pv;a.setRelative(o,s,r,l),a.touch(o),exports.DEBUG&&console.log(e.step,"MSIRP["+t+"]",r,i),e.rp1=e.rp0,e.rp2=i,t&&(e.rp0=i)}function KV(t){for(var e=t.stack,n=t.rp0,r=t.z0[n],i=t.loop,o=t.fv,s=t.pv,a=t.z1;i--;){var l=e.pop(),u=a[l];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"ALIGNRP[]",l),o.setRelative(u,r,0,s),o.touch(u)}t.loop=1}function JV(t){exports.DEBUG&&console.log(t.step,"RTDG[]"),t.round=mV}function dx(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z0[i],s=e.fv,a=e.pv,l=e.cvt[r];exports.DEBUG&&console.log(e.step,"MIAP["+t+"]",r,"(",l,")",i);var u=a.distance(o,ml);t&&(Math.abs(u-l)<e.cvCutIn&&(u=l),u=e.round(u)),s.setRelative(o,ml,u,a),e.zp0===0&&(o.xo=o.x,o.yo=o.y),s.touch(o),e.rp0=e.rp1=i}function eU(t){var e=t.prog,n=t.ip,r=t.stack,i=e[++n];exports.DEBUG&&console.log(t.step,"NPUSHB[]",i);for(var o=0;o<i;o++)r.push(e[++n]);t.ip=n}function tU(t){var e=t.ip,n=t.prog,r=t.stack,i=n[++e];exports.DEBUG&&console.log(t.step,"NPUSHW[]",i);for(var o=0;o<i;o++){var s=n[++e]<<8|n[++e];s&32768&&(s=-((s^65535)+1)),r.push(s)}t.ip=e}function nU(t){var e=t.stack,n=t.store;n||(n=t.store=[]);var r=e.pop(),i=e.pop();exports.DEBUG&&console.log(t.step,"WS",r,i),n[i]=r}function rU(t){var e=t.stack,n=t.store,r=e.pop();exports.DEBUG&&console.log(t.step,"RS",r);var i=n&&n[r]||0;e.push(i)}function iU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTP",n,r),t.cvt[r]=n/64}function oU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"RCVT",n),e.push(t.cvt[n]*64)}function fx(t,e){var n=e.stack,r=n.pop(),i=e.z2[r];exports.DEBUG&&console.log(e.step,"GC["+t+"]",r),n.push(e.dpv.distance(i,ml,t,!1)*64)}function hx(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z1[r],s=e.z0[i],a=e.dpv.distance(s,o,t,t);exports.DEBUG&&console.log(e.step,"MD["+t+"]",r,i,"->",a),e.stack.push(Math.round(a*64))}function sU(t){exports.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)}function aU(t){exports.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0}function lU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LT[]",n,r),e.push(r<n?1:0)}function uU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LTEQ[]",n,r),e.push(r<=n?1:0)}function cU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GT[]",n,r),e.push(r>n?1:0)}function dU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GTEQ[]",n,r),e.push(r>=n?1:0)}function fU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"EQ[]",n,r),e.push(n===r?1:0)}function hU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"NEQ[]",n,r),e.push(n!==r?1:0)}function pU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ODD[]",n),e.push(Math.trunc(n)%2?1:0)}function gU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"EVEN[]",n),e.push(Math.trunc(n)%2?0:1)}function mU(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"IF[]",e),e||(u_(t,!0),exports.DEBUG&&console.log(t.step,"EIF[]"))}function vU(t){exports.DEBUG&&console.log(t.step,"EIF[]")}function yU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"AND[]",n,r),e.push(n&&r?1:0)}function bU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"OR[]",n,r),e.push(n||r?1:0)}function wU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"NOT[]",n),e.push(n?0:1)}function wm(t,e){var n=e.stack,r=n.pop(),i=e.fv,o=e.pv,s=e.ppem,a=e.deltaBase+(t-1)*16,l=e.deltaShift,u=e.z0;exports.DEBUG&&console.log(e.step,"DELTAP["+t+"]",r,n);for(var c=0;c<r;c++){var d=n.pop(),f=n.pop(),h=a+((f&240)>>4);if(h===s){var v=(f&15)-8;v>=0&&v++,exports.DEBUG&&console.log(e.step,"DELTAPFIX",d,"by",v*l);var b=u[d];i.setRelative(b,b,v*l,o)}}}function CU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"SDB[]",n),t.deltaBase=n}function EU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"SDS[]",n),t.deltaShift=Math.pow(.5,n)}function DU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"ADD[]",n,r),e.push(r+n)}function xU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SUB[]",n,r),e.push(r-n)}function _U(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"DIV[]",n,r),e.push(r*64/n)}function SU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MUL[]",n,r),e.push(r*n/64)}function MU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ABS[]",n),e.push(Math.abs(n))}function TU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"NEG[]",n),e.push(-n)}function IU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"FLOOR[]",n),e.push(Math.floor(n/64)*64)}function AU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CEILING[]",n),e.push(Math.ceil(n/64)*64)}function kd(t,e){var n=e.stack,r=n.pop();exports.DEBUG&&console.log(e.step,"ROUND[]"),n.push(e.round(r/64)*64)}function NU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTF[]",n,r),t.cvt[r]=n*t.ppem/t.font.unitsPerEm}function Cm(t,e){var n=e.stack,r=n.pop(),i=e.ppem,o=e.deltaBase+(t-1)*16,s=e.deltaShift;exports.DEBUG&&console.log(e.step,"DELTAC["+t+"]",r,n);for(var a=0;a<r;a++){var l=n.pop(),u=n.pop(),c=o+((u&240)>>4);if(c===i){var d=(u&15)-8;d>=0&&d++;var f=d*s;exports.DEBUG&&console.log(e.step,"DELTACFIX",l,"by",f),e.cvt[l]+=f}}}function RU(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SROUND[]",e),t.round=l_;var n;switch(e&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function kU(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"S45ROUND[]",e),t.round=l_;var n;switch(e&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function OU(t){exports.DEBUG&&console.log(t.step,"ROFF[]"),t.round=gV}function FU(t){exports.DEBUG&&console.log(t.step,"RUTG[]"),t.round=yV}function PU(t){exports.DEBUG&&console.log(t.step,"RDTG[]"),t.round=bV}function LU(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANCTRL[]",e)}function px(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z2[r],s=e.z1[i];exports.DEBUG&&console.log(e.step,"SDPVTL["+t+"]",r,i);var a,l;t?(a=o.y-s.y,l=s.x-o.x):(a=s.x-o.x,l=s.y-o.y),e.dpv=wl(a,l)}function VU(t){var e=t.stack,n=e.pop(),r=0;exports.DEBUG&&console.log(t.step,"GETINFO[]",n),n&1&&(r=35),n&32&&(r|=4096),e.push(r)}function UU(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop();exports.DEBUG&&console.log(t.step,"ROLL[]"),e.push(r),e.push(n),e.push(i)}function BU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MAX[]",n,r),e.push(Math.max(r,n))}function jU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MIN[]",n,r),e.push(Math.min(r,n))}function HU(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANTYPE[]",e)}function GU(t){var e=t.stack.pop(),n=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"INSTCTRL[]",e,n),e){case 1:t.inhibitGridFit=!!n;return;case 2:t.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function vi(t,e){var n=e.stack,r=e.prog,i=e.ip;exports.DEBUG&&console.log(e.step,"PUSHB["+t+"]");for(var o=0;o<t;o++)n.push(r[++i]);e.ip=i}function yi(t,e){var n=e.ip,r=e.prog,i=e.stack;exports.DEBUG&&console.log(e.ip,"PUSHW["+t+"]");for(var o=0;o<t;o++){var s=r[++n]<<8|r[++n];s&32768&&(s=-((s^65535)+1)),i.push(s)}e.ip=n}function Z(t,e,n,r,i,o){var s=o.stack,a=t&&s.pop(),l=s.pop(),u=o.rp0,c=o.z0[u],d=o.z1[l],f=o.minDis,h=o.fv,v=o.dpv,b,E,C,T;E=b=v.distance(d,c,!0,!0),C=E>=0?1:-1,E=Math.abs(E),t&&(T=o.cvt[a],r&&Math.abs(E-T)<o.cvCutIn&&(E=T)),n&&E<f&&(E=f),r&&(E=o.round(E)),h.setRelative(d,c,C*E,v),h.touch(d),exports.DEBUG&&console.log(o.step,(t?"MIRP[":"MDRP[")+(e?"M":"m")+(n?">":"_")+(r?"R":"_")+(i===0?"Gr":i===1?"Bl":i===2?"Wh":"")+"]",t?a+"("+o.cvt[a]+","+T+")":"",l,"(d =",b,"->",C*E,")"),o.rp1=o.rp0,o.rp2=l,e&&(o.rp0=l)}i_=[ex.bind(void 0,Pr),ex.bind(void 0,br),tx.bind(void 0,Pr),tx.bind(void 0,br),nx.bind(void 0,Pr),nx.bind(void 0,br),rx.bind(void 0,0),rx.bind(void 0,1),ix.bind(void 0,0),ix.bind(void 0,1),CV,EV,DV,xV,_V,SV,MV,TV,IV,AV,NV,RV,kV,OV,FV,PV,LV,VV,UV,BV,void 0,void 0,jV,bm,HV,GV,$V,qV,YV,void 0,void 0,void 0,zV,WV,ZV,void 0,ox.bind(void 0,0),ox.bind(void 0,1),sx.bind(void 0,Pr),sx.bind(void 0,br),ax.bind(void 0,0),ax.bind(void 0,1),lx.bind(void 0,0),lx.bind(void 0,1),ux.bind(void 0,0),ux.bind(void 0,1),XV,QV,cx.bind(void 0,0),cx.bind(void 0,1),KV,JV,dx.bind(void 0,0),dx.bind(void 0,1),eU,tU,nU,rU,iU,oU,fx.bind(void 0,0),fx.bind(void 0,1),void 0,hx.bind(void 0,0),hx.bind(void 0,1),sU,void 0,aU,void 0,void 0,lU,uU,cU,dU,fU,hU,pU,gU,mU,vU,yU,bU,wU,wm.bind(void 0,1),CU,EU,DU,xU,_U,SU,MU,TU,IU,AU,kd.bind(void 0,0),kd.bind(void 0,1),kd.bind(void 0,2),kd.bind(void 0,3),void 0,void 0,void 0,void 0,NU,wm.bind(void 0,2),wm.bind(void 0,3),Cm.bind(void 0,1),Cm.bind(void 0,2),Cm.bind(void 0,3),RU,kU,void 0,void 0,OU,void 0,FU,PU,bm,bm,void 0,void 0,void 0,void 0,void 0,LU,px.bind(void 0,0),px.bind(void 0,1),VU,void 0,UU,BU,jU,HU,GU,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,vi.bind(void 0,1),vi.bind(void 0,2),vi.bind(void 0,3),vi.bind(void 0,4),vi.bind(void 0,5),vi.bind(void 0,6),vi.bind(void 0,7),vi.bind(void 0,8),yi.bind(void 0,1),yi.bind(void 0,2),yi.bind(void 0,3),yi.bind(void 0,4),yi.bind(void 0,5),yi.bind(void 0,6),yi.bind(void 0,7),yi.bind(void 0,8),Z.bind(void 0,0,0,0,0,0),Z.bind(void 0,0,0,0,0,1),Z.bind(void 0,0,0,0,0,2),Z.bind(void 0,0,0,0,0,3),Z.bind(void 0,0,0,0,1,0),Z.bind(void 0,0,0,0,1,1),Z.bind(void 0,0,0,0,1,2),Z.bind(void 0,0,0,0,1,3),Z.bind(void 0,0,0,1,0,0),Z.bind(void 0,0,0,1,0,1),Z.bind(void 0,0,0,1,0,2),Z.bind(void 0,0,0,1,0,3),Z.bind(void 0,0,0,1,1,0),Z.bind(void 0,0,0,1,1,1),Z.bind(void 0,0,0,1,1,2),Z.bind(void 0,0,0,1,1,3),Z.bind(void 0,0,1,0,0,0),Z.bind(void 0,0,1,0,0,1),Z.bind(void 0,0,1,0,0,2),Z.bind(void 0,0,1,0,0,3),Z.bind(void 0,0,1,0,1,0),Z.bind(void 0,0,1,0,1,1),Z.bind(void 0,0,1,0,1,2),Z.bind(void 0,0,1,0,1,3),Z.bind(void 0,0,1,1,0,0),Z.bind(void 0,0,1,1,0,1),Z.bind(void 0,0,1,1,0,2),Z.bind(void 0,0,1,1,0,3),Z.bind(void 0,0,1,1,1,0),Z.bind(void 0,0,1,1,1,1),Z.bind(void 0,0,1,1,1,2),Z.bind(void 0,0,1,1,1,3),Z.bind(void 0,1,0,0,0,0),Z.bind(void 0,1,0,0,0,1),Z.bind(void 0,1,0,0,0,2),Z.bind(void 0,1,0,0,0,3),Z.bind(void 0,1,0,0,1,0),Z.bind(void 0,1,0,0,1,1),Z.bind(void 0,1,0,0,1,2),Z.bind(void 0,1,0,0,1,3),Z.bind(void 0,1,0,1,0,0),Z.bind(void 0,1,0,1,0,1),Z.bind(void 0,1,0,1,0,2),Z.bind(void 0,1,0,1,0,3),Z.bind(void 0,1,0,1,1,0),Z.bind(void 0,1,0,1,1,1),Z.bind(void 0,1,0,1,1,2),Z.bind(void 0,1,0,1,1,3),Z.bind(void 0,1,1,0,0,0),Z.bind(void 0,1,1,0,0,1),Z.bind(void 0,1,1,0,0,2),Z.bind(void 0,1,1,0,0,3),Z.bind(void 0,1,1,0,1,0),Z.bind(void 0,1,1,0,1,1),Z.bind(void 0,1,1,0,1,2),Z.bind(void 0,1,1,0,1,3),Z.bind(void 0,1,1,1,0,0),Z.bind(void 0,1,1,1,0,1),Z.bind(void 0,1,1,1,0,2),Z.bind(void 0,1,1,1,0,3),Z.bind(void 0,1,1,1,1,0),Z.bind(void 0,1,1,1,1,1),Z.bind(void 0,1,1,1,1,2),Z.bind(void 0,1,1,1,1,3)];function Hs(t){this.char=t,this.state={},this.activeState=null}function jm(t,e,n){this.contextName=n,this.startIndex=t,this.endOffset=e}function $U(t,e,n){this.contextName=t,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=n}function Jn(t,e){this.context=t,this.index=e,this.length=t.length,this.current=t[e],this.backtrack=t.slice(0,e),this.lookahead=t.slice(e+1)}function Gd(t){this.eventId=t,this.subscribers=[]}function zU(t){var e=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(i){Object.defineProperty(e.events,i,{value:new Gd(i)})}),t&&n.forEach(function(i){var o=t[i];typeof o=="function"&&e.events[i].subscribe(o)});var r=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];r.forEach(function(i){e.events[i].subscribe(e.updateContextsRanges)})}function ct(t){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],zU.call(this,t)}Hs.prototype.setState=function(t,e){return this.state[t]=e,this.activeState={key:t,value:this.state[t]},this.activeState};Hs.prototype.getState=function(t){return this.state[t]||null};ct.prototype.inboundIndex=function(t){return t>=0&&t<this.tokens.length};ct.prototype.composeRUD=function(t){var e=this,n=!0,r=t.map(function(o){return e[o[0]].apply(e,o.slice(1).concat(n))}),i=function(o){return typeof o=="object"&&o.hasOwnProperty("FAIL")};if(r.every(i))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:r.filter(i)};this.dispatch("composeRUD",[r.filter(function(o){return!i(o)})])};ct.prototype.replaceRange=function(t,e,n,r){e=e!==null?e:this.tokens.length;var i=n.every(function(s){return s instanceof Hs});if(!isNaN(t)&&this.inboundIndex(t)&&i){var o=this.tokens.splice.apply(this.tokens,[t,e].concat(n));return r||this.dispatch("replaceToken",[t,e,n]),[o,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};ct.prototype.replaceToken=function(t,e,n){if(!isNaN(t)&&this.inboundIndex(t)&&e instanceof Hs){var r=this.tokens.splice(t,1,e);return n||this.dispatch("replaceToken",[t,e]),[r[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};ct.prototype.removeRange=function(t,e,n){e=isNaN(e)?this.tokens.length:e;var r=this.tokens.splice(t,e);return n||this.dispatch("removeRange",[r,t,e]),r};ct.prototype.removeToken=function(t,e){if(!isNaN(t)&&this.inboundIndex(t)){var n=this.tokens.splice(t,1);return e||this.dispatch("removeToken",[n,t]),n}else return{FAIL:"removeToken: invalid token index."}};ct.prototype.insertToken=function(t,e,n){var r=t.every(function(i){return i instanceof Hs});return r?(this.tokens.splice.apply(this.tokens,[e,0].concat(t)),n||this.dispatch("insertToken",[t,e]),t):{FAIL:"insertToken: invalid token(s)."}};ct.prototype.registerModifier=function(t,e,n){this.events.newToken.subscribe(function(r,i){var o=[r,i],s=e===null||e.apply(this,o)===!0,a=[r,i];if(s){var l=n.apply(this,a);r.setState(t,l)}}),this.registeredModifiers.push(t)};Gd.prototype.subscribe=function(t){return typeof t=="function"?this.subscribers.push(t)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};Gd.prototype.unsubscribe=function(t){this.subscribers.splice(t,1)};Jn.prototype.setCurrentIndex=function(t){this.index=t,this.current=this.context[t],this.backtrack=this.context.slice(0,t),this.lookahead=this.context.slice(t+1)};Jn.prototype.get=function(t){switch(!0){case t===0:return this.current;case(t<0&&Math.abs(t)<=this.backtrack.length):return this.backtrack.slice(t)[0];case(t>0&&t<=this.lookahead.length):return this.lookahead[t-1];default:return null}};ct.prototype.rangeToText=function(t){if(t instanceof jm)return this.getRangeTokens(t).map(function(e){return e.char}).join("")};ct.prototype.getText=function(){return this.tokens.map(function(t){return t.char}).join("")};ct.prototype.getContext=function(t){var e=this.registeredContexts[t];return e||null};ct.prototype.on=function(t,e){var n=this.events[t];return n?n.subscribe(e):null};ct.prototype.dispatch=function(t,e){var n=this,r=this.events[t];r instanceof Gd&&r.subscribers.forEach(function(i){i.apply(n,e||[])})};ct.prototype.registerContextChecker=function(t,e,n){if(this.getContext(t))return{FAIL:"context name '"+t+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var r=new $U(t,e,n);return this.registeredContexts[t]=r,this.contextCheckers.push(r),r};ct.prototype.getRangeTokens=function(t){var e=t.startIndex+t.endOffset;return[].concat(this.tokens.slice(t.startIndex,e))};ct.prototype.getContextRanges=function(t){var e=this.getContext(t);return e?e.ranges:{FAIL:"context checker '"+t+"' is not registered."}};ct.prototype.resetContextsRanges=function(){var t=this.registeredContexts;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.ranges=[]}};ct.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var t=this.tokens.map(function(r){return r.char}),e=0;e<t.length;e++){var n=new Jn(t,e);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};ct.prototype.setEndOffset=function(t,e){var n=this.getContext(e).openRange.startIndex,r=new jm(n,t,e),i=this.getContext(e).ranges;return r.rangeId=e+"."+i.length,i.push(r),this.getContext(e).openRange=null,r};ct.prototype.runContextCheck=function(t){var e=this,n=t.index;this.contextCheckers.forEach(function(r){var i=r.contextName,o=e.getContext(i).openRange;if(!o&&r.checkStart(t)&&(o=new jm(n,null,i),e.getContext(i).openRange=o,e.dispatch("contextStart",[i,n])),o&&r.checkEnd(t)){var s=n-o.startIndex+1,a=e.setEndOffset(s,i);e.dispatch("contextEnd",[i,a])}})};ct.prototype.tokenize=function(t){this.tokens=[],this.resetContextsRanges();var e=Array.from(t);this.dispatch("start");for(var n=0;n<e.length;n++){var r=e[n],i=new Jn(e,n);this.dispatch("next",[i]),this.runContextCheck(i);var o=new Hs(r);this.tokens.push(o),this.dispatch("newToken",[o,i])}return this.dispatch("end",[this.tokens]),this.tokens};function Ci(t){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(t)}function c_(t){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(t)}function Ei(t){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(t)}function Fd(t){return/[A-z]/.test(t)}function WU(t){return/\s/.test(t)}function vn(t){this.font=t,this.features={}}function po(t){this.id=t.id,this.tag=t.tag,this.substitution=t.substitution}function Cl(t,e){if(!t)return-1;switch(e.format){case 1:return e.glyphs.indexOf(t);case 2:for(var n=e.ranges,r=0;r<n.length;r++){var i=n[r];if(t>=i.start&&t<=i.end){var o=t-i.start;return i.index+o}}break;default:return-1}return-1}function qU(t,e){var n=Cl(t,e.coverage);return n===-1?null:t+e.deltaGlyphId}function YU(t,e){var n=Cl(t,e.coverage);return n===-1?null:e.substitute[n]}function Em(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=e.current;o=Array.isArray(o)?o[0]:o;var s=Cl(o,i);s!==-1&&n.push(s)}return n.length!==t.length?-1:n}function ZU(t,e){var n=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(t.context.length<n)return[];var r=Em(e.inputCoverage,t);if(r===-1)return[];var i=e.inputCoverage.length-1;if(t.lookahead.length<e.lookaheadCoverage.length)return[];for(var o=t.lookahead.slice(i);o.length&&Ei(o[0].char);)o.shift();var s=new Jn(o,0),a=Em(e.lookaheadCoverage,s),l=[].concat(t.backtrack);for(l.reverse();l.length&&Ei(l[0].char);)l.shift();if(l.length<e.backtrackCoverage.length)return[];var u=new Jn(l,0),c=Em(e.backtrackCoverage,u),d=r.length===e.inputCoverage.length&&a.length===e.lookaheadCoverage.length&&c.length===e.backtrackCoverage.length,f=[];if(d)for(var h=0;h<e.lookupRecords.length;h++)for(var v=e.lookupRecords[h],b=v.lookupListIndex,E=this.getLookupByIndex(b),C=0;C<E.subtables.length;C++){var T=E.subtables[C],M=this.getLookupMethod(E,T),F=this.getSubstitutionType(E,T);if(F==="12")for(var A=0;A<r.length;A++){var G=t.get(A),B=M(G);B&&f.push(B)}}return f}function XU(t,e){var n=t.current,r=Cl(n,e.coverage);if(r===-1)return null;for(var i,o=e.ligatureSets[r],s=0;s<o.length;s++){i=o[s];for(var a=0;a<i.components.length;a++){var l=t.lookahead[a],u=i.components[a];if(l!==u)break;if(a===i.components.length-1)return i}}return null}function QU(t,e){var n=Cl(t,e.coverage);return n===-1?null:e.sequences[n]}vn.prototype.getDefaultScriptFeaturesIndexes=function(){for(var t=this.font.tables.gsub.scripts,e=0;e<t.length;e++){var n=t[e];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};vn.prototype.getScriptFeaturesIndexes=function(t){var e=this.font.tables;if(!e.gsub)return[];if(!t)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,r=0;r<n.length;r++){var i=n[r];if(i.tag===t&&i.script.defaultLangSys)return i.script.defaultLangSys.featureIndexes;var o=i.langSysRecords;if(o)for(var s=0;s<o.length;s++){var a=o[s];if(a.tag===t){var l=a.langSys;return l.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};vn.prototype.mapTagsToFeatures=function(t,e){for(var n={},r=0;r<t.length;r++){var i=t[r].tag,o=t[r].feature;n[i]=o}this.features[e].tags=n};vn.prototype.getScriptFeatures=function(t){var e=this.features[t];if(this.features.hasOwnProperty(t))return e;var n=this.getScriptFeaturesIndexes(t);if(!n)return null;var r=this.font.tables.gsub;return e=n.map(function(i){return r.features[i]}),this.features[t]=e,this.mapTagsToFeatures(e,t),e};vn.prototype.getSubstitutionType=function(t,e){var n=t.lookupType.toString(),r=e.substFormat.toString();return n+r};vn.prototype.getLookupMethod=function(t,e){var n=this,r=this.getSubstitutionType(t,e);switch(r){case"11":return function(i){return qU.apply(n,[i,e])};case"12":return function(i){return YU.apply(n,[i,e])};case"63":return function(i){return ZU.apply(n,[i,e])};case"41":return function(i){return XU.apply(n,[i,e])};case"21":return function(i){return QU.apply(n,[i,e])};default:throw new Error("lookupType: "+t.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};vn.prototype.lookupFeature=function(t){var e=t.contextParams,n=e.index,r=this.getFeature({tag:t.tag,script:t.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+t.tag+"' for script '"+t.script+"'.");for(var i=this.getFeatureLookups(r),o=[].concat(e.context),s=0;s<i.length;s++)for(var a=i[s],l=this.getLookupSubtables(a),u=0;u<l.length;u++){var c=l[u],d=this.getSubstitutionType(a,c),f=this.getLookupMethod(a,c),h=void 0;switch(d){case"11":h=f(e.current),h&&o.splice(n,1,new po({id:11,tag:t.tag,substitution:h}));break;case"12":h=f(e.current),h&&o.splice(n,1,new po({id:12,tag:t.tag,substitution:h}));break;case"63":h=f(e),Array.isArray(h)&&h.length&&o.splice(n,1,new po({id:63,tag:t.tag,substitution:h}));break;case"41":h=f(e),h&&o.splice(n,1,new po({id:41,tag:t.tag,substitution:h}));break;case"21":h=f(e.current),h&&o.splice(n,1,new po({id:21,tag:t.tag,substitution:h}));break}e=new Jn(o,n),!(Array.isArray(h)&&!h.length)&&(h=null)}return o.length?o:null};vn.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var e=this.features.hasOwnProperty(t.script);if(!t.tag)return e;var n=this.features[t.script].some(function(r){return r.tag===t.tag});return e&&n};vn.prototype.getLookupSubtables=function(t){return t.subtables||null};vn.prototype.getLookupByIndex=function(t){var e=this.font.tables.gsub.lookups;return e[t]||null};vn.prototype.getFeatureLookups=function(t){return t.lookupListIndexes.map(this.getLookupByIndex.bind(this))};vn.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var n=this.features[e.script];return n?n.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};function KU(t){var e=t.current,n=t.get(-1);return n===null&&Ci(e)||!Ci(n)&&Ci(e)}function JU(t){var e=t.get(1);return e===null||!Ci(e)}var eB={startCheck:KU,endCheck:JU};function tB(t){var e=t.current,n=t.get(-1);return(Ci(e)||Ei(e))&&!Ci(n)}function nB(t){var e=t.get(1);switch(!0){case e===null:return!0;case(!Ci(e)&&!Ei(e)):var n=WU(e);if(!n)return!0;if(n){var r=!1;if(r=t.lookahead.some(function(i){return Ci(i)||Ei(i)}),!r)return!0}break;default:return!1}}var rB={startCheck:tB,endCheck:nB};function iB(t,e,n){e[n].setState(t.tag,t.substitution)}function oB(t,e,n){e[n].setState(t.tag,t.substitution)}function sB(t,e,n){t.substitution.forEach(function(r,i){var o=e[n+i];o.setState(t.tag,r)})}function aB(t,e,n){var r=e[n];r.setState(t.tag,t.substitution.ligGlyph);for(var i=t.substitution.components.length,o=0;o<i;o++)r=e[n+o+1],r.setState("deleted",!0)}var gx={11:iB,12:oB,63:sB,41:aB};function Hm(t,e,n){t instanceof po&&gx[t.id]&&gx[t.id](t,e,n)}function lB(t){for(var e=[].concat(t.backtrack),n=e.length-1;n>=0;n--){var r=e[n],i=c_(r),o=Ei(r);if(!i&&!o)return!0;if(i)return!1}return!1}function uB(t){if(c_(t.current))return!1;for(var e=0;e<t.lookahead.length;e++){var n=t.lookahead[e],r=Ei(n);if(!r)return!0}return!1}function cB(t){var e=this,n="arab",r=this.featuresTags[n],i=this.tokenizer.getRangeTokens(t);if(i.length!==1){var o=new Jn(i.map(function(a){return a.getState("glyphIndex")}),0),s=new Jn(i.map(function(a){return a.char}),0);i.forEach(function(a,l){if(!Ei(a.char)){o.setCurrentIndex(l),s.setCurrentIndex(l);var u=0;lB(s)&&(u|=1),uB(s)&&(u|=2);var c;switch(u){case 1:c="fina";break;case 2:c="init";break;case 3:c="medi";break}if(r.indexOf(c)!==-1){var d=e.query.lookupFeature({tag:c,script:n,contextParams:o});if(d instanceof Error)return console.info(d.message);d.forEach(function(f,h){f instanceof po&&(Hm(f,i,h),o.context[h]=f.substitution)})}}})}}function mx(t,e){var n=t.map(function(r){return r.activeState.value});return new Jn(n,e||0)}function dB(t){var e=this,n="arab",r=this.tokenizer.getRangeTokens(t),i=mx(r);i.context.forEach(function(o,s){i.setCurrentIndex(s);var a=e.query.lookupFeature({tag:"rlig",script:n,contextParams:i});a.length&&(a.forEach(function(l){return Hm(l,r,s)}),i=mx(r))})}function fB(t){var e=t.current,n=t.get(-1);return n===null&&Fd(e)||!Fd(n)&&Fd(e)}function hB(t){var e=t.get(1);return e===null||!Fd(e)}var pB={startCheck:fB,endCheck:hB};function vx(t,e){var n=t.map(function(r){return r.activeState.value});return new Jn(n,e||0)}function gB(t){var e=this,n="latn",r=this.tokenizer.getRangeTokens(t),i=vx(r);i.context.forEach(function(o,s){i.setCurrentIndex(s);var a=e.query.lookupFeature({tag:"liga",script:n,contextParams:i});a.length&&(a.forEach(function(l){return Hm(l,r,s)}),i=vx(r))})}function nr(t){this.baseDir=t||"ltr",this.tokenizer=new ct,this.featuresTags={}}nr.prototype.setText=function(t){this.text=t};nr.prototype.contextChecks={latinWordCheck:pB,arabicWordCheck:eB,arabicSentenceCheck:rB};function Dm(t){var e=this.contextChecks[t+"Check"];return this.tokenizer.registerContextChecker(t,e.startCheck,e.endCheck)}function mB(){return Dm.call(this,"latinWord"),Dm.call(this,"arabicWord"),Dm.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function vB(){var t=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(n){var r=t.tokenizer.getRangeTokens(n);t.tokenizer.replaceRange(n.startIndex,n.endOffset,r.reverse())})}nr.prototype.registerFeatures=function(t,e){var n=this,r=e.filter(function(i){return n.query.supports({script:t,tag:i})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(r):this.featuresTags[t]=r};nr.prototype.applyFeatures=function(t,e){if(!t)throw new Error("No valid font was provided to apply features");this.query||(this.query=new vn(t));for(var n=0;n<e.length;n++){var r=e[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}};nr.prototype.registerModifier=function(t,e,n){this.tokenizer.registerModifier(t,e,n)};function Gm(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function yB(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){Gm.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(r){cB.call(t,r)})}}function bB(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("rlig")!==-1){Gm.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(i){dB.call(t,i)})}}}function wB(){var t=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("liga")!==-1){Gm.call(this);var r=this.tokenizer.getContextRanges("latinWord");r.forEach(function(i){gB.call(t,i)})}}}nr.prototype.checkContextReady=function(t){return!!this.tokenizer.getContext(t)};nr.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(yB.call(this),bB.call(this)),this.checkContextReady("latinWord")&&wB.call(this),this.checkContextReady("arabicSentence")&&vB.call(this)};nr.prototype.processText=function(t){(!this.text||this.text!==t)&&(this.setText(t),mB.call(this),this.applyFeaturesToContexts())};nr.prototype.getBidiText=function(t){return this.processText(t),this.tokenizer.getText()};nr.prototype.getTextGlyphs=function(t){this.processText(t);for(var e=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];if(!r.state.deleted){var i=r.activeState.value;e.push(Array.isArray(i)?i[0]:i)}}return e};function He(t){t=t||{},t.tables=t.tables||{},t.empty||(dl(t.familyName,"When creating a new Font object, familyName is required."),dl(t.styleName,"When creating a new Font object, styleName is required."),dl(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),dl(t.ascender,"When creating a new Font object, ascender is required."),dl(t.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,"")},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables=Object.assign(t.tables,{os2:Object.assign({usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR},t.tables.os2)})),this.supported=!0,this.glyphs=new wr.GlyphSet(this,t.glyphs||[]),this.encoding=new Tx(this),this.position=new yl(this),this.substitution=new mn(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new s_(this)}})}He.prototype.hasChar=function(t){return this.encoding.charToGlyphIndex(t)!==null};He.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)};He.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};He.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(n){return t[n]})}:e})};He.prototype.stringToGlyphs=function(t,e){var n=this,r=new nr,i=function(d){return n.charToGlyphIndex(d.char)};r.registerModifier("glyphIndex",null,i);var o=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;r.applyFeatures(this,o);for(var s=r.getTextGlyphs(t),a=s.length,l=new Array(a),u=this.glyphs.get(0),c=0;c<a;c+=1)l[c]=this.glyphs.get(s[c])||u;return l};He.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)};He.prototype.nameToGlyph=function(t){var e=this.nameToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};He.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""};He.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,t,e):this.kerningPairs[t+","+e]||0};He.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};He.prototype.forEachGlyph=function(t,e,n,r,i,o){e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:72,i=Object.assign({},this.defaultRenderOptions,i);var s=1/this.unitsPerEm*r,a=this.stringToGlyphs(t,i),l;if(i.kerning){var u=i.script||this.position.getDefaultScriptName();l=this.position.getKerningTables(u,i.language)}for(var c=0;c<a.length;c+=1){var d=a[c];if(o.call(this,d,e,n,r,i),d.advanceWidth&&(e+=d.advanceWidth*s),i.kerning&&c<a.length-1){var f=l?this.position.getKerningValue(l,d.index,a[c+1].index):this.getKerningValue(d,a[c+1]);e+=f*s}i.letterSpacing?e+=i.letterSpacing*r:i.tracking&&(e+=i.tracking/1e3*r)}return e};He.prototype.getPath=function(t,e,n,r,i){var o=new ut;return this.forEachGlyph(t,e,n,r,i,function(s,a,l,u){var c=s.getPath(a,l,u,i,this);o.extend(c)}),o};He.prototype.getPaths=function(t,e,n,r,i){var o=[];return this.forEachGlyph(t,e,n,r,i,function(s,a,l,u){var c=s.getPath(a,l,u,i,this);o.push(c)}),o};He.prototype.getAdvanceWidth=function(t,e,n){return this.forEachGlyph(t,0,0,e,n,function(){})};He.prototype.draw=function(t,e,n,r,i,o){this.getPath(e,n,r,i,o).draw(t)};He.prototype.drawPoints=function(t,e,n,r,i,o){this.forEachGlyph(e,n,r,i,o,function(s,a,l,u){s.drawPoints(t,a,l,u)})};He.prototype.drawMetrics=function(t,e,n,r,i,o){this.forEachGlyph(e,n,r,i,o,function(s,a,l,u){s.drawMetrics(t,a,l,u)})};He.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en};He.prototype.validate=function(){var t=this;function e(r,i){}function n(r){var i=t.getEnglishName(r);i&&i.trim().length>0}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),this.unitsPerEm>0};He.prototype.toTables=function(){return aV.fontToTable(this)};He.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};He.prototype.toArrayBuffer=function(){for(var t=this.toTables(),e=t.encode(),n=new ArrayBuffer(e.length),r=new Uint8Array(n),i=0;i<e.length;i++)r[i]=e[i];return n};He.prototype.download=function(t){var e=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");t=t||e.replace(/\s/g,"")+"-"+n+".otf";var r=this.toArrayBuffer();if(uV())if(window.URL=window.URL||window.webkitURL,window.URL){var i=new DataView(r),o=new Blob([i],{type:"font/opentype"}),s=document.createElement("a");s.href=window.URL.createObjectURL(o),s.download=t;var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),s.dispatchEvent(a)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var l=Td(),u=cV(r);l.writeFileSync(t,u)}};He.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};He.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};He.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};function d_(t,e){var n=JSON.stringify(t),r=256;for(var i in e){var o=parseInt(i);if(!(!o||o<256)){if(JSON.stringify(e[i])===n)return o;r<=o&&(r=o+1)}}return e[r]=t,r}function CB(t,e,n){var r=d_(e.name,n);return[{name:"tag_"+t,type:"TAG",value:e.tag},{name:"minValue_"+t,type:"FIXED",value:e.minValue<<16},{name:"defaultValue_"+t,type:"FIXED",value:e.defaultValue<<16},{name:"maxValue_"+t,type:"FIXED",value:e.maxValue<<16},{name:"flags_"+t,type:"USHORT",value:0},{name:"nameID_"+t,type:"USHORT",value:r}]}function EB(t,e,n){var r={},i=new X.Parser(t,e);return r.tag=i.parseTag(),r.minValue=i.parseFixed(),r.defaultValue=i.parseFixed(),r.maxValue=i.parseFixed(),i.skip("uShort",1),r.name=n[i.parseUShort()]||{},r}function DB(t,e,n,r){for(var i=d_(e.name,r),o=[{name:"nameID_"+t,type:"USHORT",value:i},{name:"flags_"+t,type:"USHORT",value:0}],s=0;s<n.length;++s){var a=n[s].tag;o.push({name:"axis_"+t+" "+a,type:"FIXED",value:e.coordinates[a]<<16})}return o}function xB(t,e,n,r){var i={},o=new X.Parser(t,e);i.name=r[o.parseUShort()]||{},o.skip("uShort",1),i.coordinates={};for(var s=0;s<n.length;++s)i.coordinates[n[s].tag]=o.parseFixed();return i}function _B(t,e){var n=new $.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:t.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:t.instances.length},{name:"instanceSize",type:"USHORT",value:4+t.axes.length*4}]);n.offsetToData=n.sizeOf();for(var r=0;r<t.axes.length;r++)n.fields=n.fields.concat(CB(r,t.axes[r],e));for(var i=0;i<t.instances.length;i++)n.fields=n.fields.concat(DB(i,t.instances[i],t.axes,e));return n}function SB(t,e,n){var r=new X.Parser(t,e),i=r.parseULong();se.argument(i===65536,"Unsupported fvar table version.");var o=r.parseOffset16();r.skip("uShort",1);for(var s=r.parseUShort(),a=r.parseUShort(),l=r.parseUShort(),u=r.parseUShort(),c=[],d=0;d<s;d++)c.push(EB(t,e+o+d*a,n));for(var f=[],h=e+o+s*a,v=0;v<l;v++)f.push(xB(t,h+v*u,c,n));return{axes:c,instances:f}}var MB={make:_B,parse:SB},TB=function(){return{coverage:this.parsePointer(S.coverage),attachPoints:this.parseList(S.pointer(S.uShortList))}},IB=function(){var t=this.parseUShort();if(se.argument(t===1||t===2||t===3,"Unsupported CaretValue table version."),t===1)return{coordinate:this.parseShort()};if(t===2)return{pointindex:this.parseShort()};if(t===3)return{coordinate:this.parseShort()}},AB=function(){return this.parseList(S.pointer(IB))},NB=function(){return{coverage:this.parsePointer(S.coverage),ligGlyphs:this.parseList(S.pointer(AB))}},RB=function(){return this.parseUShort(),this.parseList(S.pointer(S.coverage))};function kB(t,e){e=e||0;var n=new S(t,e),r=n.parseVersion(1);se.argument(r===1||r===1.2||r===1.3,"Unsupported GDEF table version.");var i={version:r,classDef:n.parsePointer(S.classDef),attachList:n.parsePointer(TB),ligCaretList:n.parsePointer(NB),markAttachClassDef:n.parsePointer(S.classDef)};return r>=1.2&&(i.markGlyphSets=n.parsePointer(RB)),i}var OB={parse:kB},er=new Array(10);er[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{posFormat:1,coverage:this.parsePointer(S.coverage),value:this.parseValueRecord()};if(n===2)return{posFormat:2,coverage:this.parsePointer(S.coverage),values:this.parseValueRecordList()};se.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};er[2]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();se.assert(n===1||n===2,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(S.coverage),i=this.parseUShort(),o=this.parseUShort();if(n===1)return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:o,pairSets:this.parseList(S.pointer(S.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(i),value2:this.parseValueRecord(o)}})))};if(n===2){var s=this.parsePointer(S.classDef),a=this.parsePointer(S.classDef),l=this.parseUShort(),u=this.parseUShort();return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:o,classDef1:s,classDef2:a,class1Count:l,class2Count:u,classRecords:this.parseList(l,S.list(u,function(){return{value1:this.parseValueRecord(i),value2:this.parseValueRecord(o)}}))}}};er[3]=function(){return{error:"GPOS Lookup 3 not supported"}};er[4]=function(){return{error:"GPOS Lookup 4 not supported"}};er[5]=function(){return{error:"GPOS Lookup 5 not supported"}};er[6]=function(){return{error:"GPOS Lookup 6 not supported"}};er[7]=function(){return{error:"GPOS Lookup 7 not supported"}};er[8]=function(){return{error:"GPOS Lookup 8 not supported"}};er[9]=function(){return{error:"GPOS Lookup 9 not supported"}};function FB(t,e){e=e||0;var n=new S(t,e),r=n.parseVersion(1);return se.argument(r===1||r===1.1,"Unsupported GPOS table version "+r),r===1?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(er)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(er),variations:n.parseFeatureVariationsList()}}var PB=new Array(10);function LB(t){return new $.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new $.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new $.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new $.LookupList(t.lookups,PB)}])}var VB={parse:FB,make:LB};function UB(t){var e={};t.skip("uShort");var n=t.parseUShort();se.argument(n===0,"Unsupported kern sub-table version."),t.skip("uShort",2);var r=t.parseUShort();t.skip("uShort",3);for(var i=0;i<r;i+=1){var o=t.parseUShort(),s=t.parseUShort(),a=t.parseShort();e[o+","+s]=a}return e}function BB(t){var e={};t.skip("uShort");var n=t.parseULong();n>1&&console.warn("Only the first kern subtable is supported."),t.skip("uLong");var r=t.parseUShort(),i=r&255;if(t.skip("uShort"),i===0){var o=t.parseUShort();t.skip("uShort",3);for(var s=0;s<o;s+=1){var a=t.parseUShort(),l=t.parseUShort(),u=t.parseShort();e[a+","+l]=u}}return e}function jB(t,e){var n=new X.Parser(t,e),r=n.parseUShort();if(r===0)return UB(n);if(r===1)return BB(n);throw new Error("Unsupported kern table version ("+r+").")}var HB={parse:jB};function GB(t,e,n,r){for(var i=new X.Parser(t,e),o=r?i.parseUShort:i.parseULong,s=[],a=0;a<n+1;a+=1){var l=o.call(i);r&&(l*=2),s.push(l)}return s}var $B={parse:GB};function zB(t,e){var n=Td();n.readFile(t,function(r,i){if(r)return e(r.message);e(null,Jx(i))})}function WB(t,e){var n=new XMLHttpRequest;n.open("get",t,!0),n.responseType="arraybuffer",n.onload=function(){return n.response?e(null,n.response):e("Font could not be loaded: "+n.statusText)},n.onerror=function(){e("Font could not be loaded")},n.send()}function yx(t,e){for(var n=[],r=12,i=0;i<e;i+=1){var o=X.getTag(t,r),s=X.getULong(t,r+4),a=X.getULong(t,r+8),l=X.getULong(t,r+12);n.push({tag:o,checksum:s,offset:a,length:l,compression:!1}),r+=16}return n}function qB(t,e){for(var n=[],r=44,i=0;i<e;i+=1){var o=X.getTag(t,r),s=X.getULong(t,r+4),a=X.getULong(t,r+8),l=X.getULong(t,r+12),u=void 0;a<l?u="WOFF":u=!1,n.push({tag:o,offset:s,compression:u,compressedLength:a,length:l}),r+=20}return n}function dt(t,e){if(e.compression==="WOFF"){var n=new Uint8Array(t.buffer,e.offset+2,e.compressedLength-2),r=new Uint8Array(e.length);if(V2(n,r),r.byteLength!==e.length)throw new Error("Decompression error: "+e.tag+" decompressed length doesn't match recorded length");var i=new DataView(r.buffer,0);return{data:i,offset:0}}else return{data:t,offset:e.offset}}function $m(t,e){e=e??{};var n,r,i=new He({empty:!0}),o=new DataView(t,0),s,a=[],l=X.getTag(o,0);if(l==="\0\0\0"||l==="true"||l==="typ1")i.outlinesFormat="truetype",s=X.getUShort(o,4),a=yx(o,s);else if(l==="OTTO")i.outlinesFormat="cff",s=X.getUShort(o,4),a=yx(o,s);else if(l==="wOFF"){var u=X.getTag(o,4);if(u==="\0\0\0")i.outlinesFormat="truetype";else if(u==="OTTO")i.outlinesFormat="cff";else throw new Error("Unsupported OpenType flavor "+l);s=X.getUShort(o,12),a=qB(o,s)}else throw new Error("Unsupported OpenType signature "+l);for(var c,d,f,h,v,b,E,C,T,M,F,A,G=0;G<s;G+=1){var B=a[G],O=void 0;switch(B.tag){case"cmap":O=dt(o,B),i.tables.cmap=Mx.parse(O.data,O.offset),i.encoding=new Ix(i.tables.cmap);break;case"cvt ":O=dt(o,B),A=new X.Parser(O.data,O.offset),i.tables.cvt=A.parseShortList(B.length/2);break;case"fvar":d=B;break;case"fpgm":O=dt(o,B),A=new X.Parser(O.data,O.offset),i.tables.fpgm=A.parseByteList(B.length);break;case"head":O=dt(o,B),i.tables.head=Ux.parse(O.data,O.offset),i.unitsPerEm=i.tables.head.unitsPerEm,n=i.tables.head.indexToLocFormat;break;case"hhea":O=dt(o,B),i.tables.hhea=Bx.parse(O.data,O.offset),i.ascender=i.tables.hhea.ascender,i.descender=i.tables.hhea.descender,i.numberOfHMetrics=i.tables.hhea.numberOfHMetrics;break;case"hmtx":E=B;break;case"ltag":O=dt(o,B),r=Hx.parse(O.data,O.offset);break;case"maxp":O=dt(o,B),i.tables.maxp=Gx.parse(O.data,O.offset),i.numGlyphs=i.tables.maxp.numGlyphs;break;case"name":M=B;break;case"OS/2":O=dt(o,B),i.tables.os2=Nm.parse(O.data,O.offset);break;case"post":O=dt(o,B),i.tables.post=Zx.parse(O.data,O.offset),i.glyphNames=new Lm(i.tables.post);break;case"prep":O=dt(o,B),A=new X.Parser(O.data,O.offset),i.tables.prep=A.parseByteList(B.length);break;case"glyf":f=B;break;case"loca":T=B;break;case"CFF ":c=B;break;case"kern":C=B;break;case"GDEF":h=B;break;case"GPOS":v=B;break;case"GSUB":b=B;break;case"meta":F=B;break}}var P=dt(o,M);if(i.tables.name=Yx.parse(P.data,P.offset,r),i.names=i.tables.name,f&&T){var Y=n===0,ee=dt(o,T),ue=$B.parse(ee.data,ee.offset,i.numGlyphs,Y),Ee=dt(o,f);i.glyphs=r_.parse(Ee.data,Ee.offset,ue,i,e)}else if(c){var pe=dt(o,c);Vx.parse(pe.data,pe.offset,i,e)}else throw new Error("Font doesn't contain TrueType or CFF outlines.");var xe=dt(o,E);if(jx.parse(i,xe.data,xe.offset,i.numberOfHMetrics,i.numGlyphs,i.glyphs,e),oL(i,e),C){var ne=dt(o,C);i.kerningPairs=HB.parse(ne.data,ne.offset)}else i.kerningPairs={};if(h){var be=dt(o,h);i.tables.gdef=OB.parse(be.data,be.offset)}if(v){var Pe=dt(o,v);i.tables.gpos=VB.parse(Pe.data,Pe.offset),i.position.init()}if(b){var Te=dt(o,b);i.tables.gsub=Xx.parse(Te.data,Te.offset)}if(d){var Qe=dt(o,d);i.tables.fvar=MB.parse(Qe.data,Qe.offset,i.names)}if(F){var ze=dt(o,F);i.tables.meta=Qx.parse(ze.data,ze.offset),i.metas=i.tables.meta}return i}function YB(t,e,n){n=n??{};var r=typeof window>"u",i=r&&!n.isUrl?zB:WB;return new Promise(function(o,s){i(t,function(a,l){if(a){if(e)return e(a);s(a)}var u;try{u=$m(l,n)}catch(c){if(e)return e(c,null);s(c)}if(e)return e(null,u);o(u)})})}function ZB(t,e){var n=Td(),r=n.readFileSync(t);return $m(Jx(r),e)}var XB=Object.freeze({__proto__:null,Font:He,Glyph:Yt,Path:ut,BoundingBox:Vr,_parse:X,parse:$m,load:YB,loadSync:ZB}),$d=XB;var zm={},f_=[];function H(t,e){if(Array.isArray(t)){for(let n of t)H(n,e);return}if(typeof t=="object"){for(let n in t)H(n,t[n]);return}Wm(Object.getOwnPropertyNames(e)),zm[t]=Object.assign(zm[t]||{},e)}function Zt(t){return zm[t]||{}}function h_(){return[...new Set(f_)]}function Wm(t){f_.push(...t)}function Gs(t,e){let n,r=t.length,i=[];for(n=0;n<r;n++)i.push(e(t[n]));return i}function p_(t,e){let n,r=t.length,i=[];for(n=0;n<r;n++)e(t[n])&&i.push(t[n]);return i}function zd(t){return t%360*Math.PI/180}function g_(t){return t.replace(/([A-Z])/g,function(e,n){return"-"+n.toLowerCase()})}function qm(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Ln(t,e,n,r){return(e==null||n==null)&&(r=r||t.bbox(),e==null?e=r.width/r.height*n:n==null&&(n=r.height/r.width*e)),{width:e,height:n}}function El(t,e){let n=t.origin,r=t.ox!=null?t.ox:t.originX!=null?t.originX:"center",i=t.oy!=null?t.oy:t.originY!=null?t.originY:"center";n!=null&&([r,i]=Array.isArray(n)?n:typeof n=="object"?[n.x,n.y]:[n,n]);let o=typeof r=="string",s=typeof i=="string";if(o||s){let{height:a,width:l,x:u,y:c}=e.bbox();o&&(r=r.includes("left")?u:r.includes("right")?u+l:u+l/2),s&&(i=i.includes("top")?c:i.includes("bottom")?c+a:c+a/2)}return[r,i]}var KB=new Set(["desc","metadata","title"]),Dl=t=>KB.has(t.nodeName),Wd=(t,e,n={})=>{let r=L({},e);for(let i in r)r[i].valueOf()===n[i]&&delete r[i];Object.keys(r).length?t.node.setAttribute("data-svgjs",JSON.stringify(r)):(t.node.removeAttribute("data-svgjs"),t.node.removeAttribute("svgjs:data"))};var $s="http://www.w3.org/2000/svg",m_="http://www.w3.org/1999/xhtml",qd="http://www.w3.org/2000/xmlns/",Cr="http://www.w3.org/1999/xlink";var ae={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Ym(){return ae.window}var mo=class{};var vo={},Yd="___SYMBOL___ROOT___";function yo(t,e=$s){return ae.document.createElementNS(e,t)}function ft(t,e=!1){if(t instanceof mo)return t;if(typeof t=="object")return Zm(t);if(t==null)return new vo[Yd];if(typeof t=="string"&&t.charAt(0)!=="<")return Zm(ae.document.querySelector(t));let n=e?ae.document.createElement("div"):yo("svg");return n.innerHTML=t,t=Zm(n.firstChild),n.removeChild(n.firstChild),t}function ie(t,e){return e&&(e instanceof ae.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:yo(t)}function jt(t){if(!t)return null;if(t.instance instanceof mo)return t.instance;if(t.nodeName==="#document-fragment")return new vo.Fragment(t);let e=qm(t.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":vo[e]||(e="Dom"),new vo[e](t)}var Zm=jt;function z(t,e=t.name,n=!1){return vo[e]=t,n&&(vo[Yd]=t),Wm(Object.getOwnPropertyNames(t.prototype)),t}function v_(t){return vo[t]}var tj=1e3;function Xm(t){return"Svgjs"+qm(t)+tj++}function Qm(t){for(let e=t.children.length-1;e>=0;e--)Qm(t.children[e]);return t.id&&(t.id=Xm(t.nodeName)),t}function te(t,e){let n,r;for(t=Array.isArray(t)?t:[t],r=t.length-1;r>=0;r--)for(n in e)t[r].prototype[n]=e[n]}function de(t){return function(...e){let n=e[e.length-1];return n&&n.constructor===Object&&!(n instanceof Array)?t.apply(this,e.slice(0,-1)).attr(n):t.apply(this,e)}}function nj(){return this.parent().children()}function rj(){return this.parent().index(this)}function ij(){return this.siblings()[this.position()+1]}function oj(){return this.siblings()[this.position()-1]}function sj(){let t=this.position();return this.parent().add(this.remove(),t+1),this}function aj(){let t=this.position();return this.parent().add(this.remove(),t?t-1:0),this}function lj(){return this.parent().add(this.remove()),this}function uj(){return this.parent().add(this.remove(),0),this}function cj(t){t=ft(t),t.remove();let e=this.position();return this.parent().add(t,e),this}function dj(t){t=ft(t),t.remove();let e=this.position();return this.parent().add(t,e+1),this}function fj(t){return t=ft(t),t.before(this),this}function hj(t){return t=ft(t),t.after(this),this}H("Dom",{siblings:nj,position:rj,next:ij,prev:oj,forward:sj,backward:aj,front:lj,back:uj,before:cj,after:dj,insertBefore:fj,insertAfter:hj});var Zd=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,y_=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,b_=/rgb\((\d+),(\d+),(\d+)\)/,w_=/(#[a-z_][a-z0-9\-_]*)/i,C_=/\)\s*,?\s*/,E_=/\s/g,Km=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,Jm=/^rgb\(/,ev=/^(\s+)?$/,tv=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,D_=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Pt=/[\s,]+/,xl=/[MLHVCSQTAZ]/i;function gj(){let t=this.attr("class");return t==null?[]:t.trim().split(Pt)}function mj(t){return this.classes().indexOf(t)!==-1}function vj(t){if(!this.hasClass(t)){let e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this}function yj(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!==t}).join(" ")),this}function bj(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}H("Dom",{classes:gj,hasClass:mj,addClass:vj,removeClass:yj,toggleClass:bj});function wj(t,e){let n={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(r){return!!r.length}).forEach(function(r){let i=r.split(/\s*:\s*/);n[i[0]]=i[1]}),n;if(arguments.length<2){if(Array.isArray(t)){for(let r of t){let i=r;n[r]=this.node.style.getPropertyValue(i)}return n}if(typeof t=="string")return this.node.style.getPropertyValue(t);if(typeof t=="object")for(let r in t)this.node.style.setProperty(r,t[r]==null||ev.test(t[r])?"":t[r])}return arguments.length===2&&this.node.style.setProperty(t,e==null||ev.test(e)?"":e),this}function Cj(){return this.css("display","")}function Ej(){return this.css("display","none")}function Dj(){return this.css("display")!=="none"}H("Dom",{css:wj,show:Cj,hide:Ej,visible:Dj});function xj(t,e,n){if(t==null)return this.data(Gs(p_(this.node.attributes,r=>r.nodeName.indexOf("data-")===0),r=>r.nodeName.slice(5)));if(t instanceof Array){let r={};for(let i of t)r[i]=this.data(i);return r}else if(typeof t=="object")for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch{return this.attr("data-"+t)}else this.attr("data-"+t,e===null?null:n===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}H("Dom",{data:xj});function _j(t,e){if(typeof arguments[0]=="object")for(let n in t)this.remember(n,t[n]);else{if(arguments.length===1)return this.memory()[t];this.memory()[t]=e}return this}function Sj(){if(arguments.length===0)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this}function Mj(){return this._memory=this._memory||{}}H("Dom",{remember:_j,forget:Sj,memory:Mj});function Tj(t){return t.length===4?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}function Ij(t){let e=Math.round(t),r=Math.max(0,Math.min(255,e)).toString(16);return r.length===1?"0"+r:r}function zs(t,e){for(let n=e.length;n--;)if(t[e[n]]==null)return!1;return!0}function Aj(t,e){let n=zs(t,"rgb")?{_a:t.r,_b:t.g,_c:t.b,_d:0,space:"rgb"}:zs(t,"xyz")?{_a:t.x,_b:t.y,_c:t.z,_d:0,space:"xyz"}:zs(t,"hsl")?{_a:t.h,_b:t.s,_c:t.l,_d:0,space:"hsl"}:zs(t,"lab")?{_a:t.l,_b:t.a,_c:t.b,_d:0,space:"lab"}:zs(t,"lch")?{_a:t.l,_b:t.c,_c:t.h,_d:0,space:"lch"}:zs(t,"cmyk")?{_a:t.c,_b:t.m,_c:t.y,_d:t.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=e||n.space,n}function Nj(t){return t==="lab"||t==="xyz"||t==="lch"}function nv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var Lt=class t{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof t||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",n){let{random:r,round:i,sin:o,PI:s}=Math;if(e==="vibrant"){let a=24*r()+57,l=38*r()+45,u=360*r();return new t(a,l,u,"lch")}else if(e==="sine"){n=n??r();let a=i(80*o(2*s*n/.5+.01)+150),l=i(50*o(2*s*n/.5+4.6)+200),u=i(100*o(2*s*n/.5+2.3)+150);return new t(a,l,u)}else if(e==="pastel"){let a=8*r()+86,l=17*r()+9,u=360*r();return new t(a,l,u,"lch")}else if(e==="dark"){let a=10+10*r(),l=50*r()+86,u=360*r();return new t(a,l,u,"lch")}else if(e==="rgb"){let a=255*r(),l=255*r(),u=255*r();return new t(a,l,u)}else if(e==="lab"){let a=100*r(),l=256*r()-128,u=256*r()-128;return new t(a,l,u,"lab")}else if(e==="grey"){let a=255*r();return new t(a,a,a)}else throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(Km.test(e)||Jm.test(e))}cmyk(){let{_a:e,_b:n,_c:r}=this.rgb(),[i,o,s]=[e,n,r].map(f=>f/255),a=Math.min(1-i,1-o,1-s);if(a===1)return new t(0,0,0,1,"cmyk");let l=(1-i-a)/(1-a),u=(1-o-a)/(1-a),c=(1-s-a)/(1-a);return new t(l,u,c,a,"cmyk")}hsl(){let{_a:e,_b:n,_c:r}=this.rgb(),[i,o,s]=[e,n,r].map(b=>b/255),a=Math.max(i,o,s),l=Math.min(i,o,s),u=(a+l)/2,c=a===l,d=a-l,f=c?0:u>.5?d/(2-a-l):d/(a+l),h=c?0:a===i?((o-s)/d+(o<s?6:0))/6:a===o?((s-i)/d+2)/6:a===s?((i-o)/d+4)/6:0;return new t(360*h,100*f,100*u,"hsl")}init(e=0,n=0,r=0,i=0,o="rgb"){if(e=e||0,this.space)for(let d in this.space)delete this[this.space[d]];if(typeof e=="number")o=typeof i=="string"?i:o,i=typeof i=="string"?0:i,Object.assign(this,{_a:e,_b:n,_c:r,_d:i,space:o});else if(e instanceof Array)this.space=n||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){let d=Aj(e,n);Object.assign(this,d)}else if(typeof e=="string")if(Jm.test(e)){let d=e.replace(E_,""),[f,h,v]=b_.exec(d).slice(1,4).map(b=>parseInt(b));Object.assign(this,{_a:f,_b:h,_c:v,_d:0,space:"rgb"})}else if(Km.test(e)){let d=b=>parseInt(b,16),[,f,h,v]=y_.exec(Tj(e)).map(d);Object.assign(this,{_a:f,_b:h,_c:v,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");let{_a:s,_b:a,_c:l,_d:u}=this,c=this.space==="rgb"?{r:s,g:a,b:l}:this.space==="xyz"?{x:s,y:a,z:l}:this.space==="hsl"?{h:s,s:a,l}:this.space==="lab"?{l:s,a,b:l}:this.space==="lch"?{l:s,c:a,h:l}:this.space==="cmyk"?{c:s,m:a,y:l,k:u}:{};Object.assign(this,c)}lab(){let{x:e,y:n,z:r}=this.xyz(),i=116*n-16,o=500*(e-n),s=200*(n-r);return new t(i,o,s,"lab")}lch(){let{l:e,a:n,b:r}=this.lab(),i=Math.sqrt(n**2+r**2),o=180*Math.atan2(r,n)/Math.PI;return o<0&&(o*=-1,o=360-o),new t(e,i,o,"lch")}rgb(){if(this.space==="rgb")return this;if(Nj(this.space)){let{x:e,y:n,z:r}=this;if(this.space==="lab"||this.space==="lch"){let{l:h,a:v,b}=this;if(this.space==="lch"){let{c:G,h:B}=this,O=Math.PI/180;v=G*Math.cos(O*B),b=G*Math.sin(O*B)}let E=(h+16)/116,C=v/500+E,T=E-b/200,M=16/116,F=.008856,A=7.787;e=.95047*(C**3>F?C**3:(C-M)/A),n=1*(E**3>F?E**3:(E-M)/A),r=1.08883*(T**3>F?T**3:(T-M)/A)}let i=e*3.2406+n*-1.5372+r*-.4986,o=e*-.9689+n*1.8758+r*.0415,s=e*.0557+n*-.204+r*1.057,a=Math.pow,l=.0031308,u=i>l?1.055*a(i,1/2.4)-.055:12.92*i,c=o>l?1.055*a(o,1/2.4)-.055:12.92*o,d=s>l?1.055*a(s,1/2.4)-.055:12.92*s;return new t(255*u,255*c,255*d)}else if(this.space==="hsl"){let{h:e,s:n,l:r}=this;if(e/=360,n/=100,r/=100,n===0)return r*=255,new t(r,r,r);let i=r<.5?r*(1+n):r+n-r*n,o=2*r-i,s=255*nv(o,i,e+1/3),a=255*nv(o,i,e),l=255*nv(o,i,e-1/3);return new t(s,a,l)}else if(this.space==="cmyk"){let{c:e,m:n,y:r,k:i}=this,o=255*(1-Math.min(1,e*(1-i)+i)),s=255*(1-Math.min(1,n*(1-i)+i)),a=255*(1-Math.min(1,r*(1-i)+i));return new t(o,s,a)}else return this}toArray(){let{_a:e,_b:n,_c:r,_d:i,space:o}=this;return[e,n,r,i,o]}toHex(){let[e,n,r]=this._clamped().map(Ij);return`#${e}${n}${r}`}toRgb(){let[e,n,r]=this._clamped();return`rgb(${e},${n},${r})`}toString(){return this.toHex()}xyz(){let{_a:e,_b:n,_c:r}=this.rgb(),[i,o,s]=[e,n,r].map(C=>C/255),a=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,l=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,u=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,c=(a*.4124+l*.3576+u*.1805)/.95047,d=(a*.2126+l*.7152+u*.0722)/1,f=(a*.0193+l*.1192+u*.9505)/1.08883,h=c>.008856?Math.pow(c,1/3):7.787*c+16/116,v=d>.008856?Math.pow(d,1/3):7.787*d+16/116,b=f>.008856?Math.pow(f,1/3):7.787*f+16/116;return new t(h,v,b,"xyz")}_clamped(){let{_a:e,_b:n,_c:r}=this.rgb(),{max:i,min:o,round:s}=Math,a=l=>i(0,o(s(l),255));return[e,n,r].map(a)}};var $e=class t{constructor(...e){this.init(...e)}clone(){return new t(this)}init(e,n){let r={x:0,y:0},i=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:n};return this.x=i.x==null?r.x:i.x,this.y=i.y==null?r.y:i.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){he.isMatrixLike(e)||(e=new he(e));let{x:n,y:r}=this;return this.x=e.a*n+e.c*r+e.e,this.y=e.b*n+e.d*r+e.f,this}};function x_(t,e){return new $e(t,e).transformO(this.screenCTM().inverseO())}function Ws(t,e,n){return Math.abs(e-t)<(n||1e-6)}var he=class t{constructor(...e){this.init(...e)}static formatTransforms(e){let n=e.flip==="both"||e.flip===!0,r=e.flip&&(n||e.flip==="x")?-1:1,i=e.flip&&(n||e.flip==="y")?-1:1,o=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,s=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,a=e.scale&&e.scale.length?e.scale[0]*r:isFinite(e.scale)?e.scale*r:isFinite(e.scaleX)?e.scaleX*r:r,l=e.scale&&e.scale.length?e.scale[1]*i:isFinite(e.scale)?e.scale*i:isFinite(e.scaleY)?e.scaleY*i:i,u=e.shear||0,c=e.rotate||e.theta||0,d=new $e(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),f=d.x,h=d.y,v=new $e(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),b=v.x,E=v.y,C=new $e(e.translate||e.tx||e.translateX,e.ty||e.translateY),T=C.x,M=C.y,F=new $e(e.relative||e.rx||e.relativeX,e.ry||e.relativeY),A=F.x,G=F.y;return{scaleX:a,scaleY:l,skewX:o,skewY:s,shear:u,theta:c,rx:A,ry:G,tx:T,ty:M,ox:f,oy:h,px:b,py:E}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,n,r){let i=e.a*n.a+e.c*n.b,o=e.b*n.a+e.d*n.b,s=e.a*n.c+e.c*n.d,a=e.b*n.c+e.d*n.d,l=e.e+e.a*n.e+e.c*n.f,u=e.f+e.b*n.e+e.d*n.f;return r.a=i,r.b=o,r.c=s,r.d=a,r.e=l,r.f=u,r}around(e,n,r){return this.clone().aroundO(e,n,r)}aroundO(e,n,r){let i=e||0,o=n||0;return this.translateO(-i,-o).lmultiplyO(r).translateO(i,o)}clone(){return new t(this)}decompose(e=0,n=0){let r=this.a,i=this.b,o=this.c,s=this.d,a=this.e,l=this.f,u=r*s-i*o,c=u>0?1:-1,d=c*Math.sqrt(r*r+i*i),f=Math.atan2(c*i,c*r),h=180/Math.PI*f,v=Math.cos(f),b=Math.sin(f),E=(r*o+i*s)/u,C=o*d/(E*r-i)||s*d/(E*i+r),T=a-e+e*v*d+n*(E*v*d-b*C),M=l-n+e*b*d+n*(E*b*d+v*C);return{scaleX:d,scaleY:C,shear:E,rotate:h,translateX:T,translateY:M,originX:e,originY:n,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;let n=new t(e);return Ws(this.a,n.a)&&Ws(this.b,n.b)&&Ws(this.c,n.c)&&Ws(this.d,n.d)&&Ws(this.e,n.e)&&Ws(this.f,n.f)}flip(e,n){return this.clone().flipO(e,n)}flipO(e,n){return e==="x"?this.scaleO(-1,1,n,0):e==="y"?this.scaleO(1,-1,0,n):this.scaleO(-1,-1,e,n||e)}init(e){let n=t.fromArray([1,0,0,1,0,0]);return e=e instanceof at?e.matrixify():typeof e=="string"?t.fromArray(e.split(Pt).map(parseFloat)):Array.isArray(e)?t.fromArray(e):typeof e=="object"&&t.isMatrixLike(e)?e:typeof e=="object"?new t().transform(e):arguments.length===6?t.fromArray([].slice.call(arguments)):n,this.a=e.a!=null?e.a:n.a,this.b=e.b!=null?e.b:n.b,this.c=e.c!=null?e.c:n.c,this.d=e.d!=null?e.d:n.d,this.e=e.e!=null?e.e:n.e,this.f=e.f!=null?e.f:n.f,this}inverse(){return this.clone().inverseO()}inverseO(){let e=this.a,n=this.b,r=this.c,i=this.d,o=this.e,s=this.f,a=e*i-n*r;if(!a)throw new Error("Cannot invert "+this);let l=i/a,u=-n/a,c=-r/a,d=e/a,f=-(l*o+c*s),h=-(u*o+d*s);return this.a=l,this.b=u,this.c=c,this.d=d,this.e=f,this.f=h,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){let n=this,r=e instanceof t?e:new t(e);return t.matrixMultiply(r,n,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){let n=this,r=e instanceof t?e:new t(e);return t.matrixMultiply(n,r,this)}rotate(e,n,r){return this.clone().rotateO(e,n,r)}rotateO(e,n=0,r=0){e=zd(e);let i=Math.cos(e),o=Math.sin(e),{a:s,b:a,c:l,d:u,e:c,f:d}=this;return this.a=s*i-a*o,this.b=a*i+s*o,this.c=l*i-u*o,this.d=u*i+l*o,this.e=c*i-d*o+r*o-n*i+n,this.f=d*i+c*o-n*o-r*i+r,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,n=e,r=0,i=0){arguments.length===3&&(i=r,r=n,n=e);let{a:o,b:s,c:a,d:l,e:u,f:c}=this;return this.a=o*e,this.b=s*n,this.c=a*e,this.d=l*n,this.e=u*e-r*e+r,this.f=c*n-i*n+i,this}shear(e,n,r){return this.clone().shearO(e,n,r)}shearO(e,n=0,r=0){let{a:i,b:o,c:s,d:a,e:l,f:u}=this;return this.a=i+o*e,this.c=s+a*e,this.e=l+u*e-r*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,n=e,r=0,i=0){arguments.length===3&&(i=r,r=n,n=e),e=zd(e),n=zd(n);let o=Math.tan(e),s=Math.tan(n),{a,b:l,c:u,d:c,e:d,f}=this;return this.a=a+l*o,this.b=l+a*s,this.c=u+c*o,this.d=c+u*s,this.e=d+f*o-i*o,this.f=f+d*s-r*s,this}skewX(e,n,r){return this.skew(e,0,n,r)}skewY(e,n,r){return this.skew(0,e,n,r)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(t.isMatrixLike(e))return new t(e).multiplyO(this);let n=t.formatTransforms(e),r=this,{x:i,y:o}=new $e(n.ox,n.oy).transform(r),s=new t().translateO(n.rx,n.ry).lmultiplyO(r).translateO(-i,-o).scaleO(n.scaleX,n.scaleY).skewO(n.skewX,n.skewY).shearO(n.shear).rotateO(n.theta).translateO(i,o);if(isFinite(n.px)||isFinite(n.py)){let a=new $e(i,o).transform(s),l=isFinite(n.px)?n.px-a.x:0,u=isFinite(n.py)?n.py-a.y:0;s.translateO(l,u)}return s.translateO(n.tx,n.ty),s}translate(e,n){return this.clone().translateO(e,n)}translateO(e,n){return this.e+=e||0,this.f+=n||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}};function __(){return new he(this.node.getCTM())}function S_(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){let t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new he(e)}return new he(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new he}}z(he,"Matrix");function Vn(){if(!Vn.nodes){let t=ft().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");let e=t.path().node;Vn.nodes={svg:t,path:e}}if(!Vn.nodes.svg.node.parentNode){let t=ae.document.body||ae.document.documentElement;Vn.nodes.svg.addTo(t)}return Vn.nodes}function M_(t){return!t.width&&!t.height&&!t.x&&!t.y}function Rj(t){return t===ae.document||(ae.document.documentElement.contains||function(e){for(;e.parentNode;)e=e.parentNode;return e===ae.document}).call(ae.document.documentElement,t)}var tt=class t{constructor(...e){this.init(...e)}addOffset(){return this.x+=ae.window.pageXOffset,this.y+=ae.window.pageYOffset,new t(this)}init(e){let n=[0,0,0,0];return e=typeof e=="string"?e.split(Pt).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):n,this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return M_(this)}merge(e){let n=Math.min(this.x,e.x),r=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x+e.width)-n,o=Math.max(this.y+this.height,e.y+e.height)-r;return new t(n,r,i,o)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof he||(e=new he(e));let n=1/0,r=-1/0,i=1/0,o=-1/0;return[new $e(this.x,this.y),new $e(this.x2,this.y),new $e(this.x,this.y2),new $e(this.x2,this.y2)].forEach(function(a){a=a.transform(e),n=Math.min(n,a.x),r=Math.max(r,a.x),i=Math.min(i,a.y),o=Math.max(o,a.y)}),new t(n,i,r-n,o-i)}};function T_(t,e,n){let r;try{if(r=e(t.node),M_(r)&&!Rj(t.node))throw new Error("Element not in the dom")}catch{r=n(t)}return r}function I_(){let n=T_(this,i=>i.getBBox(),i=>{try{let o=i.clone().addTo(Vn().svg).show(),s=o.node.getBBox();return o.remove(),s}catch(o){throw new Error(`Getting bbox of element "${i.node.nodeName}" is not possible: ${o.toString()}`)}});return new tt(n)}function A_(t){let r=T_(this,o=>o.getBoundingClientRect(),o=>{throw new Error(`Getting rbox of element "${o.node.nodeName}" is not possible`)}),i=new tt(r);return t?i.transform(t.screenCTM().inverseO()):i.addOffset()}function N_(t,e){let n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height}H({viewbox:{viewbox(t,e,n,r){return t==null?new tt(this.attr("viewBox")):this.attr("viewBox",new tt(t,e,n,r))},zoom(t,e){let{width:n,height:r}=this.attr(["width","height"]);if((!n&&!r||typeof n=="string"||typeof r=="string")&&(n=this.node.clientWidth,r=this.node.clientHeight),!n||!r)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");let i=this.viewbox(),o=n/i.width,s=r/i.height,a=Math.min(o,s);if(t==null)return a;let l=a/t;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new $e(n/2/o+i.x,r/2/s+i.y);let u=new tt(i).transform(new he({scale:l,origin:e}));return this.viewbox(u)}}});z(tt,"Box");var qs=class extends Array{constructor(e=[],...n){if(super(e,...n),typeof e=="number")return this;this.length=0,this.push(...e)}},Ur=qs;te([qs],{each(t,...e){return typeof t=="function"?this.map((n,r,i)=>t.call(n,n,r,i)):this.map(n=>n[t](...e))},toArray(){return Array.prototype.concat.apply([],this)}});var kj=["toArray","constructor","each"];qs.extend=function(t){t=t.reduce((e,n)=>(kj.includes(n)||n[0]==="_"||(n in Array.prototype&&(e["$"+n]=Array.prototype[n]),e[n]=function(...r){return this.each(n,...r)}),e),{}),te([qs],t)};function yn(t,e){return new Ur(Gs((e||ae.document).querySelectorAll(t),function(n){return jt(n)}))}function R_(t){return yn(t,this.node)}function k_(t){return jt(this.node.querySelector(t))}var Oj=0,O_={};function F_(t){let e=t.getEventHolder();return e===ae.window&&(e=O_),e.events||(e.events={}),e.events}function rv(t){return t.getEventTarget()}function Fj(t){let e=t.getEventHolder();e===ae.window&&(e=O_),e.events&&(e.events={})}function Di(t,e,n,r,i){let o=n.bind(r||t),s=ft(t),a=F_(s),l=rv(s);e=Array.isArray(e)?e:e.split(Pt),n._svgjsListenerId||(n._svgjsListenerId=++Oj),e.forEach(function(u){let c=u.split(".")[0],d=u.split(".")[1]||"*";a[c]=a[c]||{},a[c][d]=a[c][d]||{},a[c][d][n._svgjsListenerId]=o,l.addEventListener(c,o,i||!1)})}function bn(t,e,n,r){let i=ft(t),o=F_(i),s=rv(i);typeof n=="function"&&(n=n._svgjsListenerId,!n)||(e=Array.isArray(e)?e:(e||"").split(Pt),e.forEach(function(a){let l=a&&a.split(".")[0],u=a&&a.split(".")[1],c,d;if(n)o[l]&&o[l][u||"*"]&&(s.removeEventListener(l,o[l][u||"*"][n],r||!1),delete o[l][u||"*"][n]);else if(l&&u){if(o[l]&&o[l][u]){for(d in o[l][u])bn(s,[l,u].join("."),d);delete o[l][u]}}else if(u)for(a in o)for(c in o[a])u===c&&bn(s,[a,u].join("."));else if(l){if(o[l]){for(c in o[l])bn(s,[l,c].join("."));delete o[l]}}else{for(a in o)bn(s,a);Fj(i)}}))}function P_(t,e,n,r){let i=rv(t);return e instanceof ae.window.Event||(e=new ae.window.CustomEvent(e,L({detail:n,cancelable:!0},r))),i.dispatchEvent(e),e}var Un=class extends mo{addEventListener(){}dispatch(e,n,r){return P_(this,e,n,r)}dispatchEvent(e){let n=this.getEventHolder().events;if(!n)return!0;let r=n[e.type];for(let i in r)for(let o in r[i])r[i][o](e);return!e.defaultPrevented}fire(e,n,r){return this.dispatch(e,n,r),this}getEventHolder(){return this}getEventTarget(){return this}off(e,n,r){return bn(this,e,n,r),this}on(e,n,r,i){return Di(this,e,n,r,i),this}removeEventListener(){}};z(Un,"EventTarget");function iv(){}var bo={duration:400,ease:">",delay:0},L_={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};var nn=class extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"?this:(this.length=0,this.push(...this.parse(e)),this)}parse(e=[]){return e instanceof Array?e:e.trim().split(Pt).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){let e=[];return e.push(...this),e}};var le=class t{constructor(...e){this.init(...e)}convert(e){return new t(this.value,e)}divide(e){return e=new t(e),new t(this/e,this.unit||e.unit)}init(e,n){return n=Array.isArray(e)?e[1]:n,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=n||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(n=e.match(Zd),n&&(this.value=parseFloat(n[1]),n[5]==="%"?this.value/=100:n[5]==="s"&&(this.value*=1e3),this.unit=n[5])):e instanceof t&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new t(e),new t(this-e,this.unit||e.unit)}plus(e){return e=new t(e),new t(this+e,this.unit||e.unit)}times(e){return e=new t(e),new t(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}};var Lj=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),V_=[];function U_(t){V_.push(t)}function ov(t,e,n){if(t==null){t={},e=this.node.attributes;for(let r of e)t[r.nodeName]=tv.test(r.nodeValue)?parseFloat(r.nodeValue):r.nodeValue;return t}else{if(t instanceof Array)return t.reduce((r,i)=>(r[i]=this.attr(i),r),{});if(typeof t=="object"&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(e===null)this.node.removeAttribute(t);else{if(e==null)return e=this.node.getAttribute(t),e==null?L_[t]:tv.test(e)?parseFloat(e):e;e=V_.reduce((r,i)=>i(t,r,this),e),typeof e=="number"?e=new le(e):Lj.has(t)&&Lt.isColor(e)?e=new Lt(e):e.constructor===Array&&(e=new nn(e)),t==="leading"?this.leading&&this.leading(e):typeof n=="string"?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),this.rebuild&&(t==="font-size"||t==="x")&&this.rebuild()}}return this}var Bn=class t extends Un{constructor(e,n){super(),this.node=e,this.type=e.nodeName,n&&e!==n&&this.attr(n)}add(e,n){return e=ft(e),e.removeNamespace&&this.node instanceof ae.window.SVGElement&&e.removeNamespace(),n==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[n]&&this.node.insertBefore(e.node,this.node.childNodes[n]),this}addTo(e,n){return ft(e).put(this,n)}children(){return new Ur(Gs(this.node.children,function(e){return jt(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,n=!0){this.writeDataToDom();let r=this.node.cloneNode(e);return n&&(r=Qm(r)),new this.constructor(r)}each(e,n){let r=this.children(),i,o;for(i=0,o=r.length;i<o;i++)e.apply(r[i],[i,r]),n&&r[i].each(e,n);return this}element(e,n){return this.put(new t(yo(e),n))}first(){return jt(this.node.firstChild)}get(e){return jt(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,n){return this.xml(e,n,m_)}id(e){return typeof e>"u"&&!this.node.id&&(this.node.id=Xm(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return jt(this.node.lastChild)}matches(e){let n=this.node,r=n.matches||n.matchesSelector||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||null;return r&&r.call(n,e)}parent(e){let n=this;if(!n.node.parentNode)return null;if(n=jt(n.node.parentNode),!e)return n;do if(typeof e=="string"?n.matches(e):n instanceof e)return n;while(n=jt(n.node.parentNode));return n}put(e,n){return e=ft(e),this.add(e,n),e}putIn(e,n){return ft(e).add(this,n)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=ft(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,n=null){let r=10**e,i=this.attr(n);for(let o in i)typeof i[o]=="number"&&(i[o]=Math.round(i[o]*r)/r);return this.attr(i),this}svg(e,n){return this.xml(e,n,$s)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){let n=this.parent();if(!n)return this.addTo(e);let r=n.index(this);return n.put(e,r).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,n,r){if(typeof e=="boolean"&&(r=n,n=e,e=null),e==null||typeof e=="function"){n=n??!0,this.writeDataToDom();let a=this;if(e!=null){if(a=jt(a.node.cloneNode(!0)),n){let l=e(a);if(a=l||a,l===!1)return""}a.each(function(){let l=e(this),u=l||this;l===!1?this.remove():l&&this!==u&&this.replace(u)},!0)}return n?a.node.outerHTML:a.node.innerHTML}n=n??!1;let i=yo("wrapper",r),o=ae.document.createDocumentFragment();i.innerHTML=e;for(let a=i.children.length;a--;)o.appendChild(i.firstElementChild);let s=this.parent();return n?this.replace(o)&&s:this.add(o)}};te(Bn,{attr:ov,find:R_,findOne:k_});z(Bn,"Dom");var at=class extends Bn{constructor(e,n){super(e,n),this.dom={},this.node.instance=this,(e.hasAttribute("data-svgjs")||e.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(e.getAttribute("data-svgjs"))??JSON.parse(e.getAttribute("svgjs:data"))??{})}center(e,n){return this.cx(e).cy(n)}cx(e){return e==null?this.x()+this.width()/2:this.x(e-this.width()/2)}cy(e){return e==null?this.y()+this.height()/2:this.y(e-this.height()/2)}defs(){let e=this.root();return e&&e.defs()}dmove(e,n){return this.dx(e).dy(n)}dx(e=0){return this.x(new le(e).plus(this.x()))}dy(e=0){return this.y(new le(e).plus(this.y()))}getEventHolder(){return this}height(e){return this.attr("height",e)}move(e,n){return this.x(e).y(n)}parents(e=this.root()){let n=typeof e=="string";n||(e=ft(e));let r=new Ur,i=this;for(;(i=i.parent())&&i.node!==ae.document&&i.nodeName!=="#document-fragment"&&(r.push(i),!(!n&&i.node===e.node||n&&i.matches(e)));)if(i.node===this.root().node)return null;return r}reference(e){if(e=this.attr(e),!e)return null;let n=(e+"").match(w_);return n?ft(n[1]):null}root(){let e=this.parent(v_(Yd));return e&&e.root()}setData(e){return this.dom=e,this}size(e,n){let r=Ln(this,e,n);return this.width(new le(r.width)).height(new le(r.height))}width(e){return this.attr("width",e)}writeDataToDom(){return Wd(this,this.dom),super.writeDataToDom()}x(e){return this.attr("x",e)}y(e){return this.attr("y",e)}};te(at,{bbox:I_,rbox:A_,inside:N_,point:x_,ctm:__,screenCTM:S_});z(at,"Element");var _l={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return e==="color"?t:t+"-"+e}};["fill","stroke"].forEach(function(t){let e={},n;e[t]=function(r){if(typeof r>"u")return this.attr(t);if(typeof r=="string"||r instanceof Lt||Lt.isRgb(r)||r instanceof at)this.attr(t,r);else for(n=_l[t].length-1;n>=0;n--)r[_l[t][n]]!=null&&this.attr(_l.prefix(t,_l[t][n]),r[_l[t][n]]);return this},H(["Element","Runner"],e)});H(["Element","Runner"],{matrix:function(t,e,n,r,i,o){return t==null?new he(this):this.attr("transform",new he(t,e,n,r,i,o))},rotate:function(t,e,n){return this.transform({rotate:t,ox:e,oy:n},!0)},skew:function(t,e,n,r){return arguments.length===1||arguments.length===3?this.transform({skew:t,ox:e,oy:n},!0):this.transform({skew:[t,e],ox:n,oy:r},!0)},shear:function(t,e,n){return this.transform({shear:t,ox:e,oy:n},!0)},scale:function(t,e,n,r){return arguments.length===1||arguments.length===3?this.transform({scale:t,ox:e,oy:n},!0):this.transform({scale:[t,e],ox:n,oy:r},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return"xybothtrue".indexOf(t)===-1&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}});H("radius",{radius:function(t,e=t){return(this._element||this).type==="radialGradient"?this.attr("r",new le(t)):this.rx(t).ry(e)}});H("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new $e(this.node.getPointAtLength(t))}});H(["Element","Runner"],{font:function(t,e){if(typeof t=="object"){for(e in t)this.font(e,t[e]);return this}return t==="leading"?this.leading(e):t==="anchor"?this.attr("text-anchor",e):t==="size"||t==="family"||t==="weight"||t==="stretch"||t==="variant"||t==="style"?this.attr("font-"+t,e):this.attr(t,e)}});var Vj=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(t,e){let n=function(r){return r===null?this.off(e):this.on(e,r),this};return t[e]=n,t},{});H("Element",Vj);function Uj(){return this.attr("transform",null)}function Bj(){return(this.attr("transform")||"").split(C_).slice(0,-1).map(function(e){let n=e.trim().split("(");return[n[0],n[1].split(Pt).map(function(r){return parseFloat(r)})]}).reverse().reduce(function(e,n){return n[0]==="matrix"?e.lmultiply(he.fromArray(n[1])):e[n[0]].apply(e,n[1])},new he)}function jj(t,e){if(this===t)return this;if(Dl(this.node))return this.addTo(t,e);let n=this.screenCTM(),r=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(r.multiply(n)),this}function Hj(t){return this.toParent(this.root(),t)}function Gj(t,e){if(t==null||typeof t=="string"){let i=new he(this).decompose();return t==null?i:i[t]}he.isMatrixLike(t)||(t=De(L({},t),{origin:El(t,this)}));let n=e===!0?this:e||!1,r=new he(n).transform(t);return this.attr("transform",r)}H("Element",{untransform:Uj,matrixify:Bj,toParent:jj,toRoot:Hj,transform:Gj});var Xe=class t extends at{flatten(){return this.each(function(){if(this instanceof t)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),n=e.index(this)){return n=n===-1?e.children().length:n,this.each(function(r,i){return i[i.length-r-1].toParent(e,n)}),this.remove()}};z(Xe,"Container");var xi=class extends Xe{constructor(e,n=e){super(ie("defs",e),n)}flatten(){return this}ungroup(){return this}};z(xi,"Defs");var qe=class extends at{};z(qe,"Shape");var fv={};ko(fv,{cx:()=>lv,cy:()=>uv,height:()=>dv,rx:()=>Sl,ry:()=>Ml,width:()=>cv,x:()=>sv,y:()=>av});function Sl(t){return this.attr("rx",t)}function Ml(t){return this.attr("ry",t)}function sv(t){return t==null?this.cx()-this.rx():this.cx(t+this.rx())}function av(t){return t==null?this.cy()-this.ry():this.cy(t+this.ry())}function lv(t){return this.attr("cx",t)}function uv(t){return this.attr("cy",t)}function cv(t){return t==null?this.rx()*2:this.rx(new le(t).divide(2))}function dv(t){return t==null?this.ry()*2:this.ry(new le(t).divide(2))}var _i=class extends qe{constructor(e,n=e){super(ie("ellipse",e),n)}size(e,n){let r=Ln(this,e,n);return this.rx(new le(r.width).divide(2)).ry(new le(r.height).divide(2))}};te(_i,fv);H("Container",{ellipse:de(function(t=0,e=t){return this.put(new _i).size(t,e).move(0,0)})});z(_i,"Ellipse");var Xd=class extends Bn{constructor(e=ae.document.createDocumentFragment()){super(e)}xml(e,n,r){if(typeof e=="boolean"&&(r=n,n=e,e=null),e==null||typeof e=="function"){let i=new Bn(yo("wrapper",r));return i.add(this.node.cloneNode(!0)),i.xml(!1,r)}return super.xml(e,!1,r)}};z(Xd,"Fragment");var hv=Xd;var mv={};ko(mv,{from:()=>pv,to:()=>gv});function pv(t,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new le(t),fy:new le(e)}):this.attr({x1:new le(t),y1:new le(e)})}function gv(t,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new le(t),cy:new le(e)}):this.attr({x2:new le(t),y2:new le(e)})}var Br=class extends Xe{constructor(e,n){super(ie(e+"Gradient",typeof e=="string"?null:e),n)}attr(e,n,r){return e==="transform"&&(e="gradientTransform"),super.attr(e,n,r)}bbox(){return new tt}targets(){return yn("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}};te(Br,mv);H({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:de(function(t,e){return this.put(new Br(t)).update(e)})}});z(Br,"Gradient");var Er=class extends Xe{constructor(e,n=e){super(ie("pattern",e),n)}attr(e,n,r){return e==="transform"&&(e="patternTransform"),super.attr(e,n,r)}bbox(){return new tt}targets(){return yn("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}};H({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:de(function(t,e,n){return this.put(new Er).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})})}});z(Er,"Pattern");var Si=class extends qe{constructor(e,n=e){super(ie("image",e),n)}load(e,n){if(!e)return this;let r=new ae.window.Image;return Di(r,"load",function(i){let o=this.parent(Er);this.width()===0&&this.height()===0&&this.size(r.width,r.height),o instanceof Er&&o.width()===0&&o.height()===0&&o.size(this.width(),this.height()),typeof n=="function"&&n.call(this,i)},this),Di(r,"load error",function(){bn(r)}),this.attr("href",r.src=e,Cr)}};U_(function(t,e,n){return(t==="fill"||t==="stroke")&&D_.test(e)&&(e=n.root().defs().image(e)),e instanceof Si&&(e=n.root().defs().pattern(0,0,r=>{r.add(e)})),e});H({Container:{image:de(function(t,e){return this.put(new Si).size(0,0).load(t,e)})}});z(Si,"Image");var Vt=class extends nn{bbox(){let e=-1/0,n=-1/0,r=1/0,i=1/0;return this.forEach(function(o){e=Math.max(o[0],e),n=Math.max(o[1],n),r=Math.min(o[0],r),i=Math.min(o[1],i)}),new tt(r,i,e-r,n-i)}move(e,n){let r=this.bbox();if(e-=r.x,n-=r.y,!isNaN(e)&&!isNaN(n))for(let i=this.length-1;i>=0;i--)this[i]=[this[i][0]+e,this[i][1]+n];return this}parse(e=[0,0]){let n=[];e instanceof Array?e=Array.prototype.concat.apply([],e):e=e.trim().split(Pt).map(parseFloat),e.length%2!==0&&e.pop();for(let r=0,i=e.length;r<i;r=r+2)n.push([e[r],e[r+1]]);return n}size(e,n){let r,i=this.bbox();for(r=this.length-1;r>=0;r--)i.width&&(this[r][0]=(this[r][0]-i.x)*e/i.width+i.x),i.height&&(this[r][1]=(this[r][1]-i.y)*n/i.height+i.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){let e=[];for(let n=0,r=this.length;n<r;n++)e.push(this[n].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){he.isMatrixLike(e)||(e=new he(e));for(let n=this.length;n--;){let[r,i]=this[n];this[n][0]=e.a*r+e.c*i+e.e,this[n][1]=e.b*r+e.d*i+e.f}return this}};var wo={};ko(wo,{MorphArray:()=>$j,height:()=>Yj,width:()=>qj,x:()=>zj,y:()=>Wj});var $j=Vt;function zj(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}function Wj(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}function qj(t){let e=this.bbox();return t==null?e.width:this.size(t,e.height)}function Yj(t){let e=this.bbox();return t==null?e.height:this.size(e.width,t)}var jr=class extends qe{constructor(e,n=e){super(ie("line",e),n)}array(){return new Vt([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(e,n){return this.attr(this.array().move(e,n).toLine())}plot(e,n,r,i){return e==null?this.array():(typeof n<"u"?e={x1:e,y1:n,x2:r,y2:i}:e=new Vt(e).toLine(),this.attr(e))}size(e,n){let r=Ln(this,e,n);return this.attr(this.array().size(r.width,r.height).toLine())}};te(jr,wo);H({Container:{line:de(function(...t){return jr.prototype.plot.apply(this.put(new jr),t[0]!=null?t:[0,0,0,0])})}});z(jr,"Line");var Mi=class extends Xe{constructor(e,n=e){super(ie("marker",e),n)}height(e){return this.attr("markerHeight",e)}orient(e){return this.attr("orient",e)}ref(e,n){return this.attr("refX",e).attr("refY",n)}toString(){return"url(#"+this.id()+")"}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}width(e){return this.attr("markerWidth",e)}};H({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:de(function(t,e,n){return this.put(new Mi).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)})},marker:{marker(t,e,n,r){let i=["marker"];return t!=="all"&&i.push(t),i=i.join("-"),t=arguments[1]instanceof Mi?arguments[1]:this.defs().marker(e,n,r),this.attr(i,t)}}});z(Mi,"Marker");function Ys(t,e){return function(n){return n==null?this[t]:(this[t]=n,e&&e.call(this),this)}}var j_={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return-Math.cos(t*Math.PI/2)+1},bezier:function(t,e,n,r){return function(i){return i<0?t>0?e/t*i:n>0?r/n*i:0:i>1?n<1?(1-r)/(1-n)*i+(r-n)/(1-n):t<1?(1-e)/(1-t)*i+(e-t)/(1-t):1:3*i*(1-i)**2*e+3*i**2*(1-i)*r+i**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let n=t;return e==="none"?--n:e==="both"&&++n,(r,i=!1)=>{let o=Math.floor(r*t),s=r*o%1===0;return(e==="start"||e==="both")&&++o,i&&s&&--o,r>=0&&o<0&&(o=0),r<=1&&o>n&&(o=n),o/n}}},Zs=class{done(){return!1}},Ti=class extends Zs{constructor(e=bo.ease){super(),this.ease=j_[e]||e}step(e,n,r){return typeof e!="number"?r<1?e:n:e+(n-e)*this.ease(r)}},Ii=class extends Zs{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,n,r,i){return this.stepper(e,n,r,i)}};function B_(){let t=(this._duration||500)/1e3,e=this._overshoot||0,n=1e-10,r=Math.PI,i=Math.log(e/100+n),o=-i/Math.sqrt(r*r+i*i),s=3.9/(o*t);this.d=2*o*s,this.k=s*s}var Qd=class extends Ii{constructor(e=500,n=0){super(),this.duration(e).overshoot(n)}step(e,n,r,i){if(typeof e=="string")return e;if(i.done=r===1/0,r===1/0)return n;if(r===0)return e;r>100&&(r=16),r/=1e3;let o=i.velocity||0,s=-this.d*o-this.k*(e-n),a=e+o*r+s*r*r/2;return i.velocity=o+s*r,i.done=Math.abs(n-a)+Math.abs(o)<.002,i.done?n:a}};te(Qd,{duration:Ys("_duration",B_),overshoot:Ys("_overshoot",B_)});var Kd=class extends Ii{constructor(e=.1,n=.01,r=0,i=1e3){super(),this.p(e).i(n).d(r).windup(i)}step(e,n,r,i){if(typeof e=="string")return e;if(i.done=r===1/0,r===1/0)return n;if(r===0)return e;let o=n-e,s=(i.integral||0)+o*r,a=(o-(i.error||0))/r,l=this._windup;return l!==!1&&(s=Math.max(-l,Math.min(s,l))),i.error=o,i.integral=s,i.done=Math.abs(o)<.001,i.done?n:e+(this.P*o+this.I*s+this.D*a)}};te(Kd,{windup:Ys("_windup"),p:Ys("P"),i:Ys("I"),d:Ys("D")});var Zj={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},yv={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},vv="mlhvqtcsaz".split("");for(let t=0,e=vv.length;t<e;++t)yv[vv[t]]=function(n){return function(r,i,o){if(n==="H")r[0]=r[0]+i.x;else if(n==="V")r[0]=r[0]+i.y;else if(n==="A")r[5]=r[5]+i.x,r[6]=r[6]+i.y;else for(let s=0,a=r.length;s<a;++s)r[s]=r[s]+(s%2?i.y:i.x);return yv[n](r,i,o)}}(vv[t].toUpperCase());function Xj(t){let e=t.segment[0];return yv[e](t.segment.slice(1),t.p,t.p0)}function bv(t){return t.segment.length&&t.segment.length-1===Zj[t.segment[0].toUpperCase()]}function Qj(t,e){t.inNumber&&Co(t,!1);let n=xl.test(e);if(n)t.segment=[e];else{let r=t.lastCommand,i=r.toLowerCase(),o=r===i;t.segment=[i==="m"?o?"l":"L":r]}return t.inSegment=!0,t.lastCommand=t.segment[0],n}function Co(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,bv(t)&&wv(t)}function wv(t){t.inSegment=!1,t.absolute&&(t.segment=Xj(t)),t.segments.push(t.segment)}function Kj(t){if(!t.segment.length)return!1;let e=t.segment[0].toUpperCase()==="A",n=t.segment.length;return e&&(n===4||n===5)}function Jj(t){return t.lastToken.toUpperCase()==="E"}var e3=new Set([" ",",","	",`
`,"\r","\f"]);function H_(t,e=!0){let n=0,r="",i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:e,p0:new $e,p:new $e};for(;i.lastToken=r,r=t.charAt(n++);)if(!(!i.inSegment&&Qj(i,r))){if(r==="."){if(i.pointSeen||i.hasExponent){Co(i,!1),--n;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=r;continue}if(!isNaN(parseInt(r))){if(i.number==="0"||Kj(i)){i.inNumber=!0,i.number=r,Co(i,!0);continue}i.inNumber=!0,i.number+=r;continue}if(e3.has(r)){i.inNumber&&Co(i,!1);continue}if(r==="-"||r==="+"){if(i.inNumber&&!Jj(i)){Co(i,!1),--n;continue}i.number+=r,i.inNumber=!0;continue}if(r.toUpperCase()==="E"){i.number+=r,i.hasExponent=!0;continue}if(xl.test(r)){if(i.inNumber)Co(i,!1);else if(bv(i))wv(i);else throw new Error("parser Error");--n}}return i.inNumber&&Co(i,!1),i.inSegment&&bv(i)&&wv(i),i.segments}function t3(t){let e="";for(let n=0,r=t.length;n<r;n++)e+=t[n][0],t[n][1]!=null&&(e+=t[n][1],t[n][2]!=null&&(e+=" ",e+=t[n][2],t[n][3]!=null&&(e+=" ",e+=t[n][3],e+=" ",e+=t[n][4],t[n][5]!=null&&(e+=" ",e+=t[n][5],e+=" ",e+=t[n][6],t[n][7]!=null&&(e+=" ",e+=t[n][7])))));return e+" "}var rn=class extends nn{bbox(){return Vn().path.setAttribute("d",this.toString()),new tt(Vn.nodes.path.getBBox())}move(e,n){let r=this.bbox();if(e-=r.x,n-=r.y,!isNaN(e)&&!isNaN(n))for(let i,o=this.length-1;o>=0;o--)i=this[o][0],i==="M"||i==="L"||i==="T"?(this[o][1]+=e,this[o][2]+=n):i==="H"?this[o][1]+=e:i==="V"?this[o][1]+=n:i==="C"||i==="S"||i==="Q"?(this[o][1]+=e,this[o][2]+=n,this[o][3]+=e,this[o][4]+=n,i==="C"&&(this[o][5]+=e,this[o][6]+=n)):i==="A"&&(this[o][6]+=e,this[o][7]+=n);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),H_(e)}size(e,n){let r=this.bbox(),i,o;for(r.width=r.width===0?1:r.width,r.height=r.height===0?1:r.height,i=this.length-1;i>=0;i--)o=this[i][0],o==="M"||o==="L"||o==="T"?(this[i][1]=(this[i][1]-r.x)*e/r.width+r.x,this[i][2]=(this[i][2]-r.y)*n/r.height+r.y):o==="H"?this[i][1]=(this[i][1]-r.x)*e/r.width+r.x:o==="V"?this[i][1]=(this[i][1]-r.y)*n/r.height+r.y:o==="C"||o==="S"||o==="Q"?(this[i][1]=(this[i][1]-r.x)*e/r.width+r.x,this[i][2]=(this[i][2]-r.y)*n/r.height+r.y,this[i][3]=(this[i][3]-r.x)*e/r.width+r.x,this[i][4]=(this[i][4]-r.y)*n/r.height+r.y,o==="C"&&(this[i][5]=(this[i][5]-r.x)*e/r.width+r.x,this[i][6]=(this[i][6]-r.y)*n/r.height+r.y)):o==="A"&&(this[i][1]=this[i][1]*e/r.width,this[i][2]=this[i][2]*n/r.height,this[i][6]=(this[i][6]-r.x)*e/r.width+r.x,this[i][7]=(this[i][7]-r.y)*n/r.height+r.y);return this}toString(){return t3(this)}};var G_=t=>{let e=typeof t;return e==="number"?le:e==="string"?Lt.isColor(t)?Lt:Pt.test(t)?xl.test(t)?rn:nn:Zd.test(t)?le:Xs:Cv.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?nn:e==="object"?Hr:Xs},rr=class{constructor(e){this._stepper=e||new Ti("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(n,r){return n&&r},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(G_(e));let n=new this._type(e);return this._type===Lt&&(n=this._to?n[this._to[4]]():this._from?n[this._from[4]]():n),this._type===Hr&&(n=this._to?n.align(this._to):this._from?n.align(this._from):n),n=n.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(n.length)).map(Object).map(function(r){return r.done=!0,r}),n}};var Xs=class{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}},Jd=(()=>{class t{constructor(...n){this.init(...n)}init(n){return Array.isArray(n)&&(n={scaleX:n[0],scaleY:n[1],shear:n[2],rotate:n[3],translateX:n[4],translateY:n[5],originX:n[6],originY:n[7]}),Object.assign(this,t.defaults,n),this}toArray(){let n=this;return[n.scaleX,n.scaleY,n.shear,n.rotate,n.translateX,n.translateY,n.originX,n.originY]}}return t.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0},t})(),n3=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0,Hr=class{constructor(...e){this.init(...e)}align(e){let n=this.values;for(let r=0,i=n.length;r<i;++r){if(n[r+1]===e[r+1]){if(n[r+1]===Lt&&e[r+7]!==n[r+7]){let a=e[r+7],l=new Lt(this.values.splice(r+3,5))[a]().toArray();this.values.splice(r+3,0,...l)}r+=n[r+2]+2;continue}if(!e[r+1])return this;let o=new e[r+1]().toArray(),s=n[r+2]+3;n.splice(r,s,e[r],e[r+1],e[r+2],...o),r+=n[r+2]+2}return this}init(e){if(this.values=[],Array.isArray(e)){this.values=e.slice();return}e=e||{};let n=[];for(let r in e){let i=G_(e[r]),o=new i(e[r]).toArray();n.push([r,i,o.length,...o])}return n.sort(n3),this.values=n.reduce((r,i)=>r.concat(i),[]),this}toArray(){return this.values}valueOf(){let e={},n=this.values;for(;n.length;){let r=n.shift(),i=n.shift(),o=n.shift(),s=n.splice(0,o);e[r]=new i(s)}return e}},Cv=[Xs,Jd,Hr];function $_(t=[]){Cv.push(...[].concat(t))}function z_(){te(Cv,{to(t){return new rr().type(this.constructor).from(this.toArray()).to(t)},fromArray(t){return this.init(t),this},toConsumable(){return this.toArray()},morph(t,e,n,r,i){let o=function(s,a){return r.step(s,e[a],n,i[a],i)};return this.fromArray(t.map(o))}})}var ir=class extends qe{constructor(e,n=e){super(ie("path",e),n)}array(){return this._array||(this._array=new rn(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,n){return this.attr("d",this.array().move(e,n))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new rn(e))}size(e,n){let r=Ln(this,e,n);return this.attr("d",this.array().size(r.width,r.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}};ir.prototype.MorphArray=rn;H({Container:{path:de(function(t){return this.put(new ir).plot(t||new rn)})}});z(ir,"Path");var Tl={};ko(Tl,{array:()=>r3,clear:()=>i3,move:()=>o3,plot:()=>s3,size:()=>a3});function r3(){return this._array||(this._array=new Vt(this.attr("points")))}function i3(){return delete this._array,this}function o3(t,e){return this.attr("points",this.array().move(t,e))}function s3(t){return t==null?this.array():this.clear().attr("points",typeof t=="string"?t:this._array=new Vt(t))}function a3(t,e){let n=Ln(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}var Gr=class extends qe{constructor(e,n=e){super(ie("polygon",e),n)}};H({Container:{polygon:de(function(t){return this.put(new Gr).plot(t||new Vt)})}});te(Gr,wo);te(Gr,Tl);z(Gr,"Polygon");var $r=class extends qe{constructor(e,n=e){super(ie("polyline",e),n)}};H({Container:{polyline:de(function(t){return this.put(new $r).plot(t||new Vt)})}});te($r,wo);te($r,Tl);z($r,"Polyline");var Ai=class extends qe{constructor(e,n=e){super(ie("rect",e),n)}};te(Ai,{rx:Sl,ry:Ml});H({Container:{rect:de(function(t,e){return this.put(new Ai).size(t,e)})}});z(Ai,"Rect");var Eo=class{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){let n=typeof e.next<"u"?e:{value:e,next:null,prev:null};return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._last=n,this._first=n),n}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){let e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}};var Ze={nextDraw:null,frames:new Eo,timeouts:new Eo,immediates:new Eo,timer:()=>ae.window.performance||ae.window.Date,transforms:[],frame(t){let e=Ze.frames.push({run:t});return Ze.nextDraw===null&&(Ze.nextDraw=ae.window.requestAnimationFrame(Ze._draw)),e},timeout(t,e){e=e||0;let n=Ze.timer().now()+e,r=Ze.timeouts.push({run:t,time:n});return Ze.nextDraw===null&&(Ze.nextDraw=ae.window.requestAnimationFrame(Ze._draw)),r},immediate(t){let e=Ze.immediates.push(t);return Ze.nextDraw===null&&(Ze.nextDraw=ae.window.requestAnimationFrame(Ze._draw)),e},cancelFrame(t){t!=null&&Ze.frames.remove(t)},clearTimeout(t){t!=null&&Ze.timeouts.remove(t)},cancelImmediate(t){t!=null&&Ze.immediates.remove(t)},_draw(t){let e=null,n=Ze.timeouts.last();for(;(e=Ze.timeouts.shift())&&(t>=e.time?e.run():Ze.timeouts.push(e),e!==n););let r=null,i=Ze.frames.last();for(;r!==i&&(r=Ze.frames.shift());)r.run(t);let o=null;for(;o=Ze.immediates.shift();)o();Ze.nextDraw=Ze.timeouts.first()||Ze.frames.first()?ae.window.requestAnimationFrame(Ze._draw):null}},Do=Ze;var l3=function(t){let e=t.start,n=t.runner.duration(),r=e+n;return{start:e,duration:n,end:r,runner:t.runner}},u3=function(){let t=ae.window;return(t.performance||t.Date).now()},Qs=class extends Un{constructor(e=u3){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){let e=this.getLastRunnerInfo(),n=e?e.runner.duration():0;return(e?e.start:this._time)+n}getEndTimeOfTimeline(){let e=this._runners.map(n=>n.start+n.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){let n=this.speed();if(e==null)return this.speed(-n);let r=Math.abs(n);return this.speed(e?-r:r)}schedule(e,n,r){if(e==null)return this._runners.map(l3);let i=0,o=this.getEndTime();if(n=n||0,r==null||r==="last"||r==="after")i=o;else if(r==="absolute"||r==="start")i=n,n=0;else if(r==="now")i=this._time;else if(r==="relative"){let l=this.getRunnerInfoById(e.id);l&&(i=l.start+n,n=0)}else if(r==="with-last"){let l=this.getLastRunnerInfo();i=l?l.start:this._time}else throw new Error('Invalid value for the "when" parameter');e.unschedule(),e.timeline(this);let s=e.persist(),a={persist:s===null?this._persist:s,start:i+n,runner:e};return this._lastRunnerId=e.id,this._runners.push(a),this._runners.sort((l,u)=>l.start-u.start),this._runnerIds=this._runners.map(l=>l.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){let n=this._runnerIds.indexOf(e.id);return n<0?this:(this._runners.splice(n,1),this._runnerIds.splice(n,1),e.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return Do.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():this._paused?this:(this._nextFrame=Do.frame(this._step),this)}_stepFn(e=!1){let n=this._timeSource(),r=n-this._lastSourceTime;e&&(r=0);let i=this._speed*r+(this._time-this._lastStepTime);this._lastSourceTime=n,e||(this._time+=i,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let s=this._runners.length;s--;){let a=this._runners[s],l=a.runner;this._time-a.start<=0&&l.reset()}let o=!1;for(let s=0,a=this._runners.length;s<a;s++){let l=this._runners[s],u=l.runner,c=i,d=this._time-l.start;if(d<=0){o=!0;continue}else d<c&&(c=d);if(!u.active())continue;u.step(c).done?l.persist!==!0&&u.duration()-u.time()+this._time+l.persist<this._time&&(u.unschedule(),--s,--a):o=!0}return o&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}};H({Element:{timeline:function(t){return t==null?(this._timeline=this._timeline||new Qs,this._timeline):(this._timeline=t,this)}}});var Dr=(()=>{class t extends Un{constructor(n){super(),this.id=t.id++,n=n??bo.duration,n=typeof n=="function"?new Ii(n):n,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof n=="number"&&n,this._isDeclarative=n instanceof Ii,this._stepper=this._isDeclarative?n:new Ti,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new he,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(n,r,i){let o=1,s=!1,a=0;return n=n??bo.duration,r=r??bo.delay,i=i||"last",typeof n=="object"&&!(n instanceof Zs)&&(r=n.delay??r,i=n.when??i,s=n.swing||s,o=n.times??o,a=n.wait??a,n=n.duration??bo.duration),{duration:n,delay:r,swing:s,times:o,wait:a,when:i}}active(n){return n==null?this.enabled:(this.enabled=n,this)}addTransform(n){return this.transforms.lmultiplyO(n),this}after(n){return this.on("finished",n)}animate(n,r,i){let o=t.sanitise(n,r,i),s=new t(o.duration);return this._timeline&&s.timeline(this._timeline),this._element&&s.element(this._element),s.loop(o).schedule(o.delay,o.when)}clearTransform(){return this.transforms=new he,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(n=>!n.isTransform))}delay(n){return this.animate(0,n)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(n){return this.queue(null,n)}ease(n){return this._stepper=new Ti(n),this}element(n){return n==null?this._element:(this._element=n,n._prepareRunner(),this)}finish(){return this.step(1/0)}loop(n,r,i){return typeof n=="object"&&(r=n.swing,i=n.wait,n=n.times),this._times=n||1/0,this._swing=r||!1,this._wait=i||0,this._times===!0&&(this._times=1/0),this}loops(n){let r=this._duration+this._wait;if(n==null){let a=Math.floor(this._time/r),u=(this._time-a*r)/this._duration;return Math.min(a+u,this._times)}let i=Math.floor(n),o=n%1,s=r*i+this._duration*o;return this.time(s)}persist(n){return n==null?this._persist:(this._persist=n,this)}position(n){let r=this._time,i=this._duration,o=this._wait,s=this._times,a=this._swing,l=this._reverse,u;if(n==null){let h=function(b){let E=a*Math.floor(b%(2*(o+i))/(o+i)),C=E&&!l||!E&&l,T=Math.pow(-1,C)*(b%(o+i))/i+C;return Math.max(Math.min(T,1),0)},v=s*(o+i)-o;return u=r<=0?Math.round(h(1e-5)):r<v?h(r):Math.round(h(v-1e-5)),u}let c=Math.floor(this.loops()),d=a&&c%2===0;return u=c+(d&&!l||l&&d?n:1-n),this.loops(u)}progress(n){return n==null?Math.min(1,this._time/this.duration()):this.time(n*this.duration())}queue(n,r,i,o){return this._queue.push({initialiser:n||iv,runner:r||iv,retarget:i,isTransform:o,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(n){return this._reverse=n??!this._reverse,this}schedule(n,r,i){if(n instanceof Qs||(i=r,r=n,n=this.timeline()),!n)throw Error("Runner cannot be scheduled without timeline");return n.schedule(this,r,i),this}step(n){if(!this.enabled)return this;n=n??16,this._time+=n;let r=this.position(),i=this._lastPosition!==r&&this._time>=0;this._lastPosition=r;let o=this.duration(),s=this._lastTime<=0&&this._time>0,a=this._lastTime<o&&this._time>=o;this._lastTime=this._time,s&&this.fire("start",this);let l=this._isDeclarative;this.done=!l&&!a&&this._time>=o,this._reseted=!1;let u=!1;return(i||l)&&(this._initialise(i),this.transforms=new he,u=this._run(l?n:r),this.fire("step",this)),this.done=this.done||u&&l,a&&this.fire("finished",this),this}time(n){if(n==null)return this._time;let r=n-this._time;return this.step(r),this}timeline(n){return typeof n>"u"?this._timeline:(this._timeline=n,this)}unschedule(){let n=this.timeline();return n&&n.unschedule(this),this}_initialise(n){if(!(!n&&!this._isDeclarative))for(let r=0,i=this._queue.length;r<i;++r){let o=this._queue[r],s=this._isDeclarative||!o.initialised&&n;n=!o.finished,s&&n&&(o.initialiser.call(this),o.initialised=!0)}}_rememberMorpher(n,r){if(this._history[n]={morpher:r,caller:this._queue[this._queue.length-1]},this._isDeclarative){let i=this.timeline();i&&i.play()}}_run(n){let r=!0;for(let i=0,o=this._queue.length;i<o;++i){let s=this._queue[i],a=s.runner.call(this,n);s.finished=s.finished||a===!0,r=r&&s.finished}return r}_tryRetarget(n,r,i){if(this._history[n]){if(!this._history[n].caller.initialised){let s=this._queue.indexOf(this._history[n].caller);return this._queue.splice(s,1),!1}this._history[n].caller.retarget?this._history[n].caller.retarget.call(this,r,i):this._history[n].morpher.to(r),this._history[n].caller.finished=!1;let o=this.timeline();return o&&o.play(),!0}return!1}}return t.id=0,t})();var Ks=class{constructor(e=new he,n=-1,r=!0){this.transforms=e,this.id=n,this.done=r}clearTransformsFromQueue(){}};te([Dr,Ks],{mergeWith(t){return new Ks(t.transforms.lmultiply(this.transforms),t.id)}});var W_=(t,e)=>t.lmultiplyO(e),q_=t=>t.transforms;function c3(){let e=this._transformationRunners.runners.map(q_).reduce(W_,new he);this.transform(e),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}var Ev=class{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;let n=e.id+1;return this.runners.push(e),this.ids.push(n),this}clearBefore(e){let n=this.ids.indexOf(e+1)||1;return this.ids.splice(0,n,0),this.runners.splice(0,n,new Ks).forEach(r=>r.clearTransformsFromQueue()),this}edit(e,n){let r=this.ids.indexOf(e+1);return this.ids.splice(r,1,e+1),this.runners.splice(r,1,n),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let n=0;n<this.runners.length;++n){let r=this.runners[n];if(e&&r.done&&e.done&&(!r._timeline||!r._timeline._runnerIds.includes(r.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(r.id);let o=r.mergeWith(e);this.edit(e.id,o),e=o,--n}else e=r}return this}remove(e){let n=this.ids.indexOf(e+1);return this.ids.splice(n,1),this.runners.splice(n,1),this}};H({Element:{animate(t,e,n){let r=Dr.sanitise(t,e,n),i=this.timeline();return new Dr(r.duration).loop(r).element(this).timeline(i.play()).schedule(r.delay,r.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter(e=>e.id<=t.id).map(q_).reduce(W_,new he)},_addRunner(t){this._transformationRunners.add(t),Do.cancelImmediate(this._frameId),this._frameId=Do.immediate(c3.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new Ev().add(new Ks(new he(this))))}}});var d3=(t,e)=>t.filter(n=>!e.includes(n));te(Dr,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,n){if(typeof e=="string")return this.styleAttr(t,{[e]:n});let r=e;if(this._tryRetarget(t,r))return this;let i=new rr(this._stepper).to(r),o=Object.keys(r);return this.queue(function(){i=i.from(this.element()[t](o))},function(s){return this.element()[t](i.at(s).valueOf()),i.done()},function(s){let a=Object.keys(s),l=d3(a,o);if(l.length){let c=this.element()[t](l),d=new Hr(i.from()).valueOf();Object.assign(d,c),i.from(d)}let u=new Hr(i.to()).valueOf();Object.assign(u,s),i.to(u),o=a,r=s}),this._rememberMorpher(t,i),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let n=new rr(this._stepper).to(new le(t));return this.queue(function(){n=n.from(this.element().zoom())},function(r){return this.element().zoom(n.at(r),e),n.done()},function(r,i){e=i,n.to(r)}),this._rememberMorpher("zoom",n),this},transform(t,e,n){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;let r=he.isMatrixLike(t);n=t.affine!=null?t.affine:n??!r;let i=new rr(this._stepper).type(n?Jd:he),o,s,a,l,u;function c(){s=s||this.element(),o=o||El(t,s),u=new he(e?void 0:s),s._addRunner(this),e||s._clearTransformRunnersBefore(this)}function d(h){e||this.clearTransform();let{x:v,y:b}=new $e(o).transform(s._currentTransform(this)),E=new he(De(L({},t),{origin:[v,b]})),C=this._isDeclarative&&a?a:u;if(n){E=E.decompose(v,b),C=C.decompose(v,b);let M=E.rotate,F=C.rotate,A=[M-360,M,M+360],G=A.map(P=>Math.abs(P-F)),B=Math.min(...G),O=G.indexOf(B);E.rotate=A[O]}e&&(r||(E.rotate=t.rotate||0),this._isDeclarative&&l&&(C.rotate=l)),i.from(C),i.to(E);let T=i.at(h);return l=T.rotate,a=new he(T),this.addTransform(a),s._addRunner(this),i.done()}function f(h){(h.origin||"center").toString()!==(t.origin||"center").toString()&&(o=El(h,s)),t=De(L({},h),{origin:o})}return this.queue(c,d,f,!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(t){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},ax(t){return this._queueNumber("ax",t)},ay(t){return this._queueNumber("ay",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new le(e),this._tryRetarget(t,e))return this;let n=new rr(this._stepper).to(e),r=null;return this.queue(function(){r=this.element()[t](),n.from(r),n.to(r+e)},function(i){return this.element()[t](n.at(i)),n.done()},function(i){n.to(r+new le(i))}),this._rememberMorpher(t,n),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;let n=new rr(this._stepper).to(e);return this.queue(function(){n.from(this.element()[t]())},function(r){return this.element()[t](n.at(r)),n.done()}),this._rememberMorpher(t,n),this},_queueNumber(t,e){return this._queueObject(t,new le(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},amove(t,e){return this.ax(t).ay(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let n;return(!t||!e)&&(n=this._element.bbox()),t||(t=n.width/n.height*e),e||(e=n.height/n.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,n,r){if(arguments.length===4)return this.plot([t,e,n,r]);if(this._tryRetarget("plot",t))return this;let i=new rr(this._stepper).type(this._element.MorphArray).to(t);return this.queue(function(){i.from(this._element.array())},function(o){return this._element.plot(i.at(o)),i.done()}),this._rememberMorpher("plot",i),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,n,r){return this._queueObject("viewbox",new tt(t,e,n,r))},update(t){return typeof t!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",t.offset),this)}});te(Dr,{rx:Sl,ry:Ml,from:pv,to:gv});z(Dr,"Runner");var xo=class extends Xe{constructor(e,n=e){super(ie("svg",e),n),this.namespace()}defs(){return this.isRoot()?jt(this.node.querySelector("defs"))||this.put(new xi):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof ae.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:$s,version:"1.1"}).attr("xmlns:xlink",Cr,qd):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,qd).attr("xmlns:svgjs",null,qd)}root(){return this.isRoot()?this:super.root()}};H({Container:{nested:de(function(){return this.put(new xo)})}});z(xo,"Svg",!0);var _o=class extends Xe{constructor(e,n=e){super(ie("symbol",e),n)}};H({Container:{symbol:de(function(){return this.put(new _o)})}});z(_o,"Symbol");var Il={};ko(Il,{amove:()=>E3,ax:()=>w3,ay:()=>C3,build:()=>D3,center:()=>b3,cx:()=>v3,cy:()=>y3,length:()=>h3,move:()=>m3,plain:()=>f3,x:()=>p3,y:()=>g3});function f3(t){return this._build===!1&&this.clear(),this.node.appendChild(ae.document.createTextNode(t)),this}function h3(){return this.node.getComputedTextLength()}function p3(t,e=this.bbox()){return t==null?e.x:this.attr("x",this.attr("x")+t-e.x)}function g3(t,e=this.bbox()){return t==null?e.y:this.attr("y",this.attr("y")+t-e.y)}function m3(t,e,n=this.bbox()){return this.x(t,n).y(e,n)}function v3(t,e=this.bbox()){return t==null?e.cx:this.attr("x",this.attr("x")+t-e.cx)}function y3(t,e=this.bbox()){return t==null?e.cy:this.attr("y",this.attr("y")+t-e.cy)}function b3(t,e,n=this.bbox()){return this.cx(t,n).cy(e,n)}function w3(t){return this.attr("x",t)}function C3(t){return this.attr("y",t)}function E3(t,e){return this.ax(t).ay(e)}function D3(t){return this._build=!!t,this}var Ut=class extends qe{constructor(e,n=e){super(ie("text",e),n),this.dom.leading=this.dom.leading??new le(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new le(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){let n=this,r=0,i=this.dom.leading;this.each(function(o){if(Dl(this.node))return;let s=ae.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=i*new le(s);this.dom.newLined&&(this.attr("x",n.attr("x")),this.text()===`
`?r+=a:(this.attr("dy",o?a+r:0),r=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new le(e.leading||1.3),this}writeDataToDom(){return Wd(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){let n=this.node.childNodes,r=0;e="";for(let i=0,o=n.length;i<o;++i){if(n[i].nodeName==="textPath"||Dl(n[i])){i===0&&(r=i+1);continue}i!==r&&n[i].nodeType!==3&&jt(n[i]).dom.newLined===!0&&(e+=`
`),e+=n[i].textContent}return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else{e=(e+"").split(`
`);for(let n=0,r=e.length;n<r;n++)this.newLine(e[n])}return this.build(!1).rebuild()}};te(Ut,Il);H({Container:{text:de(function(t=""){return this.put(new Ut).text(t)}),plain:de(function(t=""){return this.put(new Ut).plain(t)})}});z(Ut,"Text");var Ni=class extends qe{constructor(e,n=e){super(ie("tspan",e),n),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;let e=this.parent();if(!(e instanceof Ut))return this;let n=e.index(this),r=ae.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=e.dom.leading*new le(r);return this.dy(n?i:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}};te(Ni,Il);H({Tspan:{tspan:de(function(t=""){let e=new Ni;return this._build||this.clear(),this.put(e).text(t)})},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}});z(Ni,"Tspan");var Js=class extends qe{constructor(e,n=e){super(ie("circle",e),n)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new le(e).divide(2))}};te(Js,{x:sv,y:av,cx:lv,cy:uv,width:cv,height:dv});H({Container:{circle:de(function(t=0){return this.put(new Js).size(t).move(0,0)})}});z(Js,"Circle");var ea=class extends Xe{constructor(e,n=e){super(ie("clipPath",e),n)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return yn("svg [clip-path*="+this.id()+"]")}};H({Container:{clip:de(function(){return this.defs().put(new ea)})},Element:{clipper(){return this.reference("clip-path")},clipWith(t){let e=t instanceof ea?t:this.parent().clip().add(t);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}});z(ea,"ClipPath");var Al=class extends at{constructor(e,n=e){super(ie("foreignObject",e),n)}};H({Container:{foreignObject:de(function(t,e){return this.put(new Al).size(t,e)})}});z(Al,"ForeignObject");var Nl={};ko(Nl,{dmove:()=>x3,dx:()=>_3,dy:()=>S3,height:()=>M3,move:()=>T3,size:()=>I3,width:()=>A3,x:()=>N3,y:()=>R3});function x3(t,e){return this.children().forEach(n=>{let r;try{r=n.node instanceof Ym().SVGSVGElement?new tt(n.attr(["x","y","width","height"])):n.bbox()}catch{return}let i=new he(n),o=i.translate(t,e).transform(i.inverse()),s=new $e(r.x,r.y).transform(o);n.move(s.x,s.y)}),this}function _3(t){return this.dmove(t,0)}function S3(t){return this.dmove(0,t)}function M3(t,e=this.bbox()){return t==null?e.height:this.size(e.width,t,e)}function T3(t=0,e=0,n=this.bbox()){let r=t-n.x,i=e-n.y;return this.dmove(r,i)}function I3(t,e,n=this.bbox()){let r=Ln(this,t,e,n),i=r.width/n.width,o=r.height/n.height;return this.children().forEach(s=>{let a=new $e(n).transform(new he(s).inverse());s.scale(i,o,a.x,a.y)}),this}function A3(t,e=this.bbox()){return t==null?e.width:this.size(t,e.height,e)}function N3(t,e=this.bbox()){return t==null?e.x:this.move(t,e.y,e)}function R3(t,e=this.bbox()){return t==null?e.y:this.move(e.x,t,e)}var Ri=class extends Xe{constructor(e,n=e){super(ie("g",e),n)}};te(Ri,Nl);H({Container:{group:de(function(){return this.put(new Ri)})}});z(Ri,"G");var So=class extends Xe{constructor(e,n=e){super(ie("a",e),n)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,Cr)}};te(So,Nl);H({Container:{link:de(function(t){return this.put(new So).to(t)})},Element:{unlink(){let t=this.linker();if(!t)return this;let e=t.parent();if(!e)return this.remove();let n=e.index(t);return e.add(this,n),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new So,this.wrap(e)),typeof t=="function"?t.call(e,e):e.to(t),this},linker(){let t=this.parent();return t&&t.node.nodeName.toLowerCase()==="a"?t:null}}});z(So,"A");var ta=class extends Xe{constructor(e,n=e){super(ie("mask",e),n)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return yn("svg [mask*="+this.id()+"]")}};H({Container:{mask:de(function(){return this.defs().put(new ta)})},Element:{masker(){return this.reference("mask")},maskWith(t){let e=t instanceof ta?t:this.parent().mask().add(t);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}});z(ta,"Mask");var Rl=class extends at{constructor(e,n=e){super(ie("stop",e),n)}update(e){return(typeof e=="number"||e instanceof le)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new le(e.offset)),this}};H({Gradient:{stop:function(t,e,n){return this.put(new Rl).update(t,e,n)}}});z(Rl,"Stop");function k3(t,e){if(!t)return"";if(!e)return t;let n=t+"{";for(let r in e)n+=g_(r)+":"+e[r]+";";return n+="}",n}var na=class extends at{constructor(e,n=e){super(ie("style",e),n)}addText(e=""){return this.node.textContent+=e,this}font(e,n,r={}){return this.rule("@font-face",L({fontFamily:e,src:n},r))}rule(e,n){return this.addText(k3(e,n))}};H("Dom",{style(t,e){return this.put(new na).rule(t,e)},fontface(t,e,n){return this.put(new na).font(t,e,n)}});z(na,"Style");var ra=class extends Ut{constructor(e,n=e){super(ie("textPath",e),n)}array(){let e=this.track();return e?e.array():null}plot(e){let n=this.track(),r=null;return n&&(r=n.plot(e)),e==null?r:this}track(){return this.reference("href")}};H({Container:{textPath:de(function(t,e){return t instanceof Ut||(t=this.text(t)),t.path(e)})},Text:{path:de(function(t,e=!0){let n=new ra;t instanceof ir||(t=this.defs().path(t)),n.attr("href","#"+t,Cr);let r;if(e)for(;r=this.node.firstChild;)n.node.appendChild(r);return this.put(n)}),textPath(){return this.findOne("textPath")}},Path:{text:de(function(t){return t instanceof Ut||(t=new Ut().addTo(this.parent()).text(t)),t.path(this)}),targets(){return yn("svg textPath").filter(t=>(t.attr("href")||"").includes(this.id()))}}});ra.prototype.MorphArray=rn;z(ra,"TextPath");var kl=class extends qe{constructor(e,n=e){super(ie("use",e),n)}use(e,n){return this.attr("href",(n||"")+"#"+e,Cr)}};H({Container:{use:de(function(t,e){return this.put(new kl).use(t,e)})}});z(kl,"Use");var Y_=ft;te([xo,_o,Si,Er,Mi],Zt("viewbox"));te([jr,$r,Gr,ir],Zt("marker"));te(Ut,Zt("Text"));te(ir,Zt("Path"));te(xi,Zt("Defs"));te([Ut,Ni],Zt("Tspan"));te([Ai,_i,Br,Dr],Zt("radius"));te(Un,Zt("EventTarget"));te(Bn,Zt("Dom"));te(at,Zt("Element"));te(qe,Zt("Shape"));te([Xe,hv],Zt("Container"));te(Br,Zt("Gradient"));te(Dr,Zt("Runner"));Ur.extend(h_());$_([le,Lt,tt,he,nn,Vt,rn,$e]);z_();var Z_=t=>(t.changedTouches&&(t=t.changedTouches[0]),{x:t.clientX,y:t.clientY}),Dv=class{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){let n=!e.type.indexOf("mouse");if(n&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(Z_(e));let r=(n?"mousemove":"touchmove")+".drag",i=(n?"mouseup":"touchend")+".drag";Di(window,r,this.drag,this,{passive:!1}),Di(window,i,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){let{box:n,lastClick:r}=this,i=this.el.point(Z_(e)),o=i.x-r.x,s=i.y-r.y;if(!o&&!s)return n;let a=n.x+o,l=n.y+s;this.box=new tt(a,l,n.w,n.h),this.lastClick=i,!this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented&&this.move(a,l)}move(e,n){this.el.type==="svg"?Ri.prototype.move.call(this.el,e,n):this.el.move(e,n)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),bn(window,"mousemove.drag"),bn(window,"touchmove.drag"),bn(window,"mouseup.drag"),bn(window,"touchend.drag"),this.init(!0)}};te(at,{draggable(t=!0){return(this.remember("_draggable")||new Dv(this)).init(t),this}});var eS=PS(J_());function L3(t,e){if(t&1){let n=vt();x(0,"div",14)(1,"span",15),N(2),_(),et(),x(3,"svg",13),U("click",function(){let i=W(n).$implicit,o=_t();return q(o.placeShape(i.unicode))}),_()()}if(t&2){let n=e.$implicit;V(2),kt(n.unicode),V(),eo("id","glyph-"+n.unicode)}}var tf=class t{constructor(e){this.el=e}glyphs=[];selectedPath=null;glyphWidth=200;glyphHeight=250;ascenderHeight=250;capHeight=200;xHeight=150;baseline=100;descenderHeight=0;ngOnInit(){for(let e=65;e<=90;e++){let n=String.fromCharCode(e);this.glyphs.push({unicode:n,svg:null,pathData:[],pathElements:[]})}setTimeout(()=>{this.glyphs.forEach(e=>{e.svg=Y_().addTo(`#glyph-${e.unicode}`).size("100%","100%").viewbox(0,this.descenderHeight,this.glyphWidth,this.ascenderHeight-this.descenderHeight),this.drawGuidelines(e.svg)})})}drawGuidelines(e){e.line(0,this.ascenderHeight,this.glyphWidth,this.ascenderHeight).stroke({color:"purple",width:1}),e.line(0,this.capHeight,this.glyphWidth,this.capHeight).stroke({color:"green",width:1}),e.line(0,this.xHeight,this.glyphWidth,this.xHeight).stroke({color:"blue",width:1}),e.line(0,this.baseline,this.glyphWidth,this.baseline).stroke({color:"red",width:1}),e.line(0,this.descenderHeight,this.glyphWidth,this.descenderHeight).stroke({color:"orange",width:1})}selectShape(e){e==="circle"?this.selectedPath=this.circlePath(100,this.xHeight,40):e==="rect"?this.selectedPath=this.rectPath(50,this.baseline-40,100,100):e==="triangle"?this.selectedPath=this.trianglePath(75,this.baseline,80):e==="pentagon"?this.selectedPath=this.pentagonPath(75,this.baseline,60):e==="hexagon"?this.selectedPath=this.hexagonPath(75,this.baseline,60):e==="star"&&(this.selectedPath=this.starPath(75,this.baseline,60))}placeShape(e){if(!this.selectedPath)return;let n=this.glyphs.find(i=>i.unicode===e);if(!n||!n.svg)return;let r=n.svg.path(this.selectedPath).fill("black").draggable();n.pathData.push(this.selectedPath),n.pathElements.push(r),r.on("dragmove",i=>{let o=r.transform();r.attr({transform:`translate(${o.translateX}, ${o.translateY})`})}),this.selectedPath=null}downloadOTF(){console.log("\u{1F50D} Debugging: Alle gespeicherten Path-Daten:"),this.glyphs.forEach(r=>console.log(`\u{1F524} Glyph ${r.unicode}:`,r.pathData));let e=this.glyphs.map(r=>{if(r.pathData.length===0)return null;let i=new ut;return r.pathData.forEach(o=>{this.convertSVGPathToOpentype(o).forEach(a=>i.commands.push(a))}),new Yt({name:`glyph_${r.unicode}`,unicode:r.unicode.charCodeAt(0),advanceWidth:this.glyphWidth,path:i})}).filter(r=>r!==null);console.log("\u{1F58B}\uFE0F Generierte Glyphen f\xFCr OpenType:",e),new He({familyName:"CustomFont",styleName:"Regular",unitsPerEm:this.glyphWidth,ascender:this.ascenderHeight,descender:this.descenderHeight,glyphs:e}).download()}convertSVGPathToOpentype(e){let n=[];return(0,eS.parseSVG)(e).forEach(i=>{switch(i.code){case"M":n.push({type:"M",x:i.x,y:this.ascenderHeight-i.y});break;case"L":n.push({type:"L",x:i.x,y:this.ascenderHeight-i.y});break;case"C":n.push({type:"C",x1:i.x1,y1:this.ascenderHeight-i.y1,x2:i.x2,y2:this.ascenderHeight-i.y2,x:i.x,y:this.ascenderHeight-i.y});break;case"Q":n.push({type:"Q",x1:i.x1,y1:this.ascenderHeight-i.y1,x:i.x,y:this.ascenderHeight-i.y});break;case"Z":n.push({type:"Z"});break}}),n}circlePath(e,n,r){return`M ${e-r},${n} 
          a ${r},${r} 0 1,0 ${2*r},0 
          a ${r},${r} 0 1,0 ${-2*r},0`}rectPath(e,n,r,i){return`M ${e},${n} 
          L ${e+r},${n} 
          L ${e+r},${n+i} 
          L ${e},${n+i} 
          Z`}trianglePath(e,n,r){let i=Math.sqrt(3)/2*r;return`M ${e},${n} 
          L ${e+r},${n} 
          L ${e+r/2},${n-i} 
          Z`}pentagonPath(e,n,r){let i=2*Math.PI/5,o=`M ${e},${n-r}`;for(let s=1;s<5;s++)o+=` L ${e+r*Math.sin(s*i)},${n-r*Math.cos(s*i)}`;return o+" Z"}hexagonPath(e,n,r){let i=2*Math.PI/6,o=`M ${e+r*Math.cos(0)},${n+r*Math.sin(0)}`;for(let s=1;s<6;s++)o+=` L ${e+r*Math.cos(s*i)},${n+r*Math.sin(s*i)}`;return o+" Z"}starPath(e,n,r){let i=2*Math.PI/10,o=`M ${e},${n-r}`;for(let s=1;s<10;s++){let a=s%2===0?r:r/2;o+=` L ${e+a*Math.sin(s*i)},${n-a*Math.cos(s*i)}`}return o+" Z"}static \u0275fac=function(n){return new(n||t)(ye(Wt))};static \u0275cmp=We({type:t,selectors:[["app-fontbaukasten"]],decls:25,vars:1,consts:[[1,"fontbaukasten"],[1,"settingscontainer"],[1,"shapes"],[1,"shape",3,"click"],["d","M 25,0 a 25,25 0 1,0 50,0 a 25,25 0 1,0 -50,0","fill","black"],["d","M 5,5 L 45,5 L 45,45 L 5,45 Z","fill","black"],["d","M 25,5 L 5,45 L 45,45 Z","fill","black"],["d","M 25,5 L 5,20 L 10,45 L 40,45 L 45,20 Z","fill","black"],["d","M 25,5 L 5,20 L 5,40 L 25,55 L 45,40 L 45,20 Z","fill","black"],["d","M 25,5 L 31,18 L 45,20 L 34,30 L 37,45 L 25,38 L 13,45 L 16,30 L 5,20 L 19,18 Z","fill","black"],[1,"workspace"],[1,"glyphs"],["class","glyph",4,"ngFor","ngForOf"],[3,"click"],[1,"glyph"],[1,"glyph-label"]],template:function(n,r){n&1&&(x(0,"div",0)(1,"div",1)(2,"div",1)(3,"h3"),N(4,"Grundformen"),_(),x(5,"div",2),et(),x(6,"svg",3),U("click",function(){return r.selectShape("circle")}),J(7,"path",4),_(),x(8,"svg",3),U("click",function(){return r.selectShape("rect")}),J(9,"path",5),_(),x(10,"svg",3),U("click",function(){return r.selectShape("triangle")}),J(11,"path",6),_(),x(12,"svg",3),U("click",function(){return r.selectShape("pentagon")}),J(13,"path",7),_(),x(14,"svg",3),U("click",function(){return r.selectShape("hexagon")}),J(15,"path",8),_(),x(16,"svg",3),U("click",function(){return r.selectShape("star")}),J(17,"path",9),_()()()(),fr(),x(18,"div",10)(19,"h3"),N(20,"Glyphen"),_(),x(21,"div",11),pr(22,L3,4,2,"div",12),_()(),x(23,"button",13),U("click",function(){return r.downloadOTF()}),N(24,"Download OTF"),_()()),n&2&&(V(22),Me("ngForOf",r.glyphs))},dependencies:[St,ys],styles:[".fontbaukasten[_ngcontent-%COMP%]{display:flex;gap:20px}.settingscontainer[_ngcontent-%COMP%]{width:200px;border-right:2px solid #ccc;padding:10px}.settingscontainer[_ngcontent-%COMP%]   .shapes[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.settingscontainer[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]{width:50px;height:50px;cursor:pointer;transition:transform .2s ease-in-out}.settingscontainer[_ngcontent-%COMP%]   .shape[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.workspace[_ngcontent-%COMP%]{flex-grow:1;padding:10px}.workspace[_ngcontent-%COMP%]   .glyphs[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px}.workspace[_ngcontent-%COMP%]   .glyph[_ngcontent-%COMP%]{width:200px;height:250px;border:1px solid black;display:flex;flex-direction:column;align-items:center;justify-content:center}.workspace[_ngcontent-%COMP%]   .glyph-label[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:5px}.workspace[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;border:1px dashed gray;cursor:pointer;overflow:visible}"]})};var V3=["fontContainer"];function U3(t,e){if(t&1&&(x(0,"div",6)(1,"p"),N(2),_(),et(),J(3,"svg",7),_()),t&2){let n=e.$implicit;V(2),kt(n.letter),V(),ug("id","canvas-",n.letter,"")}}var nf=class t{fontContainer;drawings=[];unicodeStart=65;isDrawing=!1;showFill=!0;letters='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,!?-":;()'.split("");constructor(){this.letters.forEach((e,n)=>{this.drawings.push({letter:e,unicode:e.charCodeAt(0),svgId:`canvas-${e}`,paths:[]})})}ngAfterViewInit(){this.drawings.forEach(e=>this.setupDrawingCanvas(e))}toggleFill(){this.drawings.forEach(e=>{let n=document.getElementById(e.svgId);n&&this.updateSvg(n,e.paths)})}setupDrawingCanvas(e){let n=document.getElementById(e.svgId);if(!n)return;let r=[],i=(o,s)=>{let a=s.createSVGPoint();a.x=o.clientX,a.y=o.clientY;let l=a.matrixTransform(s.getScreenCTM()?.inverse());return{x:l.x,y:l.y}};n.addEventListener("mousedown",o=>{this.isDrawing=!0;let{x:s,y:a}=i(o,n);r=[`M${s},${a}`]}),n.addEventListener("mousemove",o=>{if(!this.isDrawing)return;let{x:s,y:a}=i(o,n);r.push(`L${s},${a}`),this.updateSvg(n,e.paths.concat([r.join(" ")]))}),n.addEventListener("mouseup",()=>{this.isDrawing=!1,r.length>1&&e.paths.push(r.join(" ")+" Z"),this.updateSvg(n,e.paths)}),this.updateSvg(n,e.paths)}updateSvg(e,n){e.querySelectorAll("path").forEach(i=>i.remove());let r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",n.join(" ")),r.setAttribute("stroke","var(--secondary-color)"),r.setAttribute("stroke-width","2"),r.setAttribute("fill",this.showFill?"var(--secondary-color)":"none"),r.setAttribute("fill-rule","evenodd"),e.appendChild(r),this.drawGuidelines(e)}drawGuidelines(e){[{y:100,label:"Cap Height",color:"red"},{y:70,label:"x-Height",color:"blue"},{y:50,label:"Baseline",color:"green"},{y:20,label:"Descender",color:"gray"}].forEach(({y:r,label:i})=>{let o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1","0"),o.setAttribute("y1",r.toString()),o.setAttribute("x2","100"),o.setAttribute("y2",r.toString()),o.setAttribute("stroke","var(--secondary-color)"),o.setAttribute("stroke-width","1"),e.appendChild(o)})}exportFont(){let e=[];if(this.drawings.forEach(({letter:s,unicode:a,paths:l,svgId:u})=>{if(l.length===0)return;let c=new $d.Path,d=document.getElementById(u);d&&(l.forEach(f=>this.convertSvgPathToOpentype(c,f,d)),e.push(new $d.Glyph({name:s,unicode:a,advanceWidth:600,path:c})))}),e.length===0){alert("Keine Buchstaben erstellt!");return}let r=new $d.Font({familyName:"HandDrawnFont",styleName:"Regular",unitsPerEm:1e3,ascender:800,descender:-200,glyphs:e}).toArrayBuffer(),i=new Blob([r],{type:"font/otf"}),o=document.createElement("a");o.href=URL.createObjectURL(i),o.download="HandDrawnFont.otf",o.click()}convertSvgPathToOpentype(e,n,r){let i=n.match(/[ML]\d+(\.\d+)?,\d+(\.\d+)?/g);if(!i)return;let o=r.viewBox.baseVal,s=o.width||r.clientWidth,a=o.height||r.clientHeight,l=1e3/s,u=-1e3/a;i.forEach(c=>{let[d,f]=[c.charAt(0),c.substring(1)],[h,v]=f.split(",").map(Number),b=h*l,E=1e3+v*u;d==="M"?e.moveTo(b,E):d==="L"&&e.lineTo(b,E)}),e.close()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=We({type:t,selectors:[["app-handdrawnFont"]],viewQuery:function(n,r){if(n&1&&Be(V3,7),n&2){let i;Ve(i=Ue())&&(r.fontContainer=i.first)}},decls:11,vars:2,consts:[[1,"settingscontainer"],["type","checkbox",3,"ngModelChange","change","ngModel"],[3,"click"],[1,"workspace"],[1,"font-grid"],["class","letter-box",4,"ngFor","ngForOf"],[1,"letter-box"],["viewBox","0 0 100 100",1,"letter-canvas",3,"id"]],template:function(n,r){n&1&&(x(0,"div",0)(1,"h2"),N(2,"Zeichne deine eigene Schrift!"),_(),x(3,"label")(4,"input",1),it("ngModelChange",function(o){return st(r.showFill,o)||(r.showFill=o),o}),U("change",function(){return r.toggleFill()}),_(),N(5,` F\xFCllung beim Zeichnen anzeigen
`),_(),x(6,"button",2),U("click",function(){return r.exportFont()}),N(7,"Schrift als Datei exportieren"),_()(),x(8,"div",3)(9,"div",4),pr(10,U3,4,3,"div",5),_()()),n&2&&(V(4),rt("ngModel",r.showFill),V(6),Me("ngForOf",r.drawings))},dependencies:[St,ys,Fn,nl,On,Xn],styles:["[_nghost-%COMP%]{display:flex}.handdrawn-font[_ngcontent-%COMP%]{text-align:center}.font-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center}.letter-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.letter-canvas[_ngcontent-%COMP%]{width:200px;height:200px;border:1px solid var(--secondary-color);background-color:var(--primary-color)}"]})};var B3=t=>({transform:t}),xr=(t,e)=>({top:t,left:e}),rf=class t{translateX=0;translateY=0;isDragging=!1;startX=0;startY=0;activeCategory=null;isMobile=!1;ngOnInit(){this.checkIfMobile(),this.translateX=-window.innerWidth/2,this.translateY=-window.innerHeight/2}checkIfMobile(){this.isMobile=window.innerWidth<=768}onMouseDown(e){this.activeCategory||this.isMobile||(this.isDragging=!0,this.startX=e.clientX-this.translateX,this.startY=e.clientY-this.translateY)}onMouseMove(e){!this.isDragging||this.activeCategory||this.isMobile||(this.translateX=e.clientX-this.startX,this.translateY=e.clientY-this.startY)}onMouseUpOrLeave(){this.isDragging=!1}navigateAndZoom(e,n){n.preventDefault();let r=document.getElementById(e);if(r){if(this.isMobile)r.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"});else{let i=r.getBoundingClientRect(),o=i.left+i.width/2,s=i.top+i.height/2,a=window.innerWidth/2,l=window.innerHeight/2,u=a-o,c=l-s;this.translateX+=u,this.translateY+=c;let d=document.getElementById("container");d&&(d.style.transition="transform 0.8s ease",d.style.transform=`translate(${this.translateX}px, ${this.translateY}px)`)}this.activeCategory=e}}clearActiveCategory(){this.activeCategory=null}isActive(e){return this.activeCategory===e}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=We({type:t,selectors:[["app-pegboard"]],hostBindings:function(n,r){n&1&&U("resize",function(){return r.checkIfMobile()},!1,gs)},decls:58,vars:83,consts:[[1,"link-list"],["href","#",3,"click"],[1,"category-shape"],[1,"background-placeholder"],["id","pegpattern","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 8000 8000"],["id","pegboard","width","60","height","80","patternUnits","userSpaceOnUse"],["x","15","y","10","width","30","height","60","rx","12","ry","12","fill","none","stroke","var(--secondary-color)","stroke-width","1"],["width","8000","height","8000","fill","url(#pegboard)"],["id","container",3,"mousedown","mousemove","mouseup","mouseleave","ngStyle"],["id","displacementmap",1,"category",3,"ngStyle"],["id","mandala",1,"category",3,"ngStyle"],["id","grid-pattern",1,"category",3,"ngStyle"],["id","animator",1,"category",3,"ngStyle"],["id","custombrush",1,"category",3,"ngStyle"],["id","distortedpattern",1,"category",3,"ngStyle"],["id","delaunay",1,"category",3,"ngStyle"],["id","custom-stroke-font",1,"category",3,"ngStyle"],["id","fontbaukasten",1,"category",3,"ngStyle"],["id","handdrawnfont",1,"category",3,"ngStyle"]],template:function(n,r){n&1&&(x(0,"div",0)(1,"a",1),U("click",function(o){return r.navigateAndZoom("displacementmap",o)}),J(2,"div",2),N(3," Displacementmap "),_(),x(4,"a",1),U("click",function(o){return r.navigateAndZoom("mandala",o)}),J(5,"div",2),N(6," Mandala "),_(),x(7,"a",1),U("click",function(o){return r.navigateAndZoom("grid-pattern",o)}),J(8,"div",2),N(9," Grid-Pattern "),_(),x(10,"a",1),U("click",function(o){return r.navigateAndZoom("animator",o)}),J(11,"div",2),N(12," Grid-Pattern "),_(),x(13,"a",1),U("click",function(o){return r.navigateAndZoom("custombrush",o)}),J(14,"div",2),N(15," Custom Brush "),_(),x(16,"a",1),U("click",function(o){return r.navigateAndZoom("distortedpattern",o)}),J(17,"div",2),N(18," Distorted Pattern "),_(),x(19,"a",1),U("click",function(o){return r.navigateAndZoom("delaunay",o)}),J(20,"div",2),N(21," delaunay "),_(),x(22,"a",1),U("click",function(o){return r.navigateAndZoom("custom-stroke-font",o)}),J(23,"div",2),N(24," custom-stroke-font "),_(),x(25,"a",1),U("click",function(o){return r.navigateAndZoom("fontbaukasten",o)}),J(26,"div",2),N(27," fontbaukasten "),_(),x(28,"a",1),U("click",function(o){return r.navigateAndZoom("handdrawnfont",o)}),J(29,"div",2),N(30," handdrawnfont "),_()(),x(31,"div",3),et(),x(32,"svg",4)(33,"defs")(34,"pattern",5),J(35,"rect",6),_()(),J(36,"rect",7),_()(),fr(),x(37,"div",8),U("mousedown",function(o){return r.onMouseDown(o)})("mousemove",function(o){return r.onMouseMove(o)})("mouseup",function(){return r.onMouseUpOrLeave()})("mouseleave",function(){return r.onMouseUpOrLeave()}),x(38,"div",9),J(39,"app-displacement-map"),_(),x(40,"div",10),J(41,"app-mandala"),_(),x(42,"div",11),J(43,"app-grid-pattern"),_(),x(44,"div",12),J(45,"app-animator"),_(),x(46,"div",13),J(47,"app-customBrush"),_(),x(48,"div",14),J(49,"app-distortedPattern"),_(),x(50,"div",15),J(51,"app-delaunay"),_(),x(52,"div",16),J(53,"app-customStrokeFont"),_(),x(54,"div",17),J(55,"app-fontbaukasten"),_(),x(56,"div",18),J(57,"app-handdrawnFont"),_()()),n&2&&(V(),nt("active",r.isActive("font1")),V(3),nt("active",r.isActive("pattern1")),V(3),nt("active",r.isActive("pattern1")),V(3),nt("active",r.isActive("pattern1")),V(3),nt("active",r.isActive("pattern1")),V(3),nt("active",r.isActive("distortedpattern")),V(3),nt("active",r.isActive("delaunay")),V(3),nt("active",r.isActive("custom-stroke-font")),V(3),nt("active",r.isActive("fontbaukasten")),V(3),nt("active",r.isActive("handdrawnfont")),V(9),Me("ngStyle",TC(51,B3,r.isMobile?"none":"translate("+r.translateX+"px, "+r.translateY+"px)")),V(),nt("mobile",r.isMobile),Me("ngStyle",Yn(53,xr,r.isMobile?"auto":"10%",r.isMobile?"auto":"20%")),V(2),nt("mobile",r.isMobile),Me("ngStyle",Yn(56,xr,r.isMobile?"auto":"60%",r.isMobile?"auto":"40%")),V(2),nt("mobile",r.isMobile),Me("ngStyle",Yn(59,xr,r.isMobile?"auto":"40%",r.isMobile?"auto":"150%")),V(2),nt("mobile",r.isMobile),Me("ngStyle",Yn(62,xr,r.isMobile?"auto":"180%",r.isMobile?"auto":"1050px")),V(2),nt("mobile",r.isMobile),Me("ngStyle",Yn(65,xr,r.isMobile?"auto":"300%",r.isMobile?"auto":"800%")),V(2),nt("mobile",r.isMobile),Me("ngStyle",Yn(68,xr,r.isMobile?"auto":"10%",r.isMobile?"auto":"100%")),V(2),nt("mobile",r.isMobile),Me("ngStyle",Yn(71,xr,r.isMobile?"auto":"300%",r.isMobile?"auto":"50%")),V(2),nt("mobile",r.isMobile),Me("ngStyle",Yn(74,xr,r.isMobile?"auto":"10%",r.isMobile?"auto":"800%")),V(2),nt("mobile",r.isMobile),Me("ngStyle",Yn(77,xr,r.isMobile?"auto":"10%",r.isMobile?"auto":"200%")),V(2),nt("mobile",r.isMobile),Me("ngStyle",Yn(80,xr,r.isMobile?"auto":"100%",r.isMobile?"auto":"100%")))},dependencies:[St,qC,yd,bd,wd,Ed,Cd,Dd,Sd,Md,tf,nf],styles:['@charset "UTF-8";.background-placeholder[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:400vw;height:400vh;z-index:-1;overflow:visible}#container[_ngcontent-%COMP%]{width:200vw;height:200vh;transform:translate(-50vw,-50vh);transition:transform .3s ease}.category[_ngcontent-%COMP%]{position:absolute;height:80vh;width:80vw;align-items:center;justify-content:center;font-size:18px;color:var(--secondary-color);text-transform:uppercase;transition:transform .5s ease}@media (max-width: 768px){#container[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0;width:100vw;height:auto;align-items:center;justify-content:center;overflow-x:hidden}.category[_ngcontent-%COMP%]{position:relative;width:80vw;height:80vh;margin-left:15vw;margin-bottom:50px;border:solid black 2px;overflow:hidden}[_nghost-%COMP%]{align-items:center}}.link-list[_ngcontent-%COMP%]{position:fixed;top:10px;left:10px;display:flex;flex-direction:column;gap:10px;z-index:100;background-color:#fffc;padding:10px;border-radius:10px}.link-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:var(--secondary-color);background-color:var(--secondary-color);padding:5px 15px;border-radius:20px;display:flex;align-items:center;justify-content:space-between;transition:all .3s ease-in-out;overflow:hidden;width:18px;height:15px}.link-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .link-list[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:active{width:180px;height:35px;background-color:var(--primary-color);transform:scale(1.05);border:solid 2px var(--secondary-color)}.link-list[_ngcontent-%COMP%]   .category-shape[_ngcontent-%COMP%]{width:30px;height:15px;border-radius:50px;background-color:transparent;border:2px solid var(--secondary-color);transition:background-color .3s,border-color .3s}.link-list[_ngcontent-%COMP%]   .category-shape[_ngcontent-%COMP%]:hover, .link-list[_ngcontent-%COMP%]   .category-shape.active[_ngcontent-%COMP%]{background-color:var(--secondary-color);box-shadow:1px 1px var(--primary-color)}.link-list.active[_ngcontent-%COMP%]{background-color:#bbb;font-weight:700}@media (max-width: 768px){.link-list[_ngcontent-%COMP%]{position:fixed}a[_ngcontent-%COMP%]{width:15px;height:18px}a[_ngcontent-%COMP%]:hover, a[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:active{width:35px;height:180px}}']})};var of=class t{primaryColor="";secondaryColor="";ngOnInit(){let e=document.documentElement;this.primaryColor=getComputedStyle(e).getPropertyValue("--primary-color").trim()||"#ffffff",this.secondaryColor=getComputedStyle(e).getPropertyValue("--secondary-color").trim()||"#a600ff",document.documentElement.style.setProperty("--primary-color",this.primaryColor),document.documentElement.style.setProperty("--secondary-color",this.secondaryColor),this.setupEventListeners()}changeColor(e,n){let i=e.target.value;document.documentElement.style.setProperty(`--${n}`,i),n==="primary-color"?this.primaryColor=i:n==="secondary-color"&&(this.secondaryColor=i)}switchColors(){let e=document.documentElement;e.style.setProperty("--primary-color",this.secondaryColor),e.style.setProperty("--secondary-color",this.primaryColor);let n=this.primaryColor;this.primaryColor=this.secondaryColor,this.secondaryColor=n}onWindowFocus(){console.log("Fenster ist wieder aktiv, stelle Event Listener wieder her."),this.setupEventListeners()}setupEventListeners(){console.log("Setze Event Listener f\xFCr Zeichnen neu.")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=We({type:t,selectors:[["app-color-switch"]],hostBindings:function(n,r){n&1&&U("focus",function(){return r.onWindowFocus()},!1,gs)},decls:4,vars:2,consts:[[1,"color-switch"],["id","primary-color","type","color",1,"color-circle",3,"input","value"],[1,"switch-circle",3,"click"],["id","secondary-color","type","color",1,"color-circle",3,"input","value"]],template:function(n,r){n&1&&(x(0,"div",0)(1,"input",1),U("input",function(o){return r.changeColor(o,"primary-color")}),_(),x(2,"div",2),U("click",function(){return r.switchColors()}),_(),x(3,"input",3),U("input",function(o){return r.changeColor(o,"secondary-color")}),_()()),n&2&&(V(),Me("value",r.primaryColor),V(2),Me("value",r.secondaryColor))},styles:['@charset "UTF-8";[_nghost-%COMP%]{position:absolute;position:fixed;top:15px;right:10vw;z-index:1000}.color-switch[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:10px}.color-switch[_ngcontent-%COMP%]   .color-circle[_ngcontent-%COMP%]{width:25px;height:25px;border:none;border-radius:50%;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;transition:box-shadow .3s ease}.color-switch[_ngcontent-%COMP%]   .color-circle[_ngcontent-%COMP%]::-webkit-color-swatch{border-radius:50%}.color-switch[_ngcontent-%COMP%]   .color-circle[_ngcontent-%COMP%]::-moz-color-swatch{border-radius:50%}.color-switch[_ngcontent-%COMP%]   .color-circle[_ngcontent-%COMP%]:hover{box-shadow:0 0 8px #0003}.color-switch[_ngcontent-%COMP%]   .switch-circle[_ngcontent-%COMP%]{width:30px;height:30px;background-color:var(--secondary-color);border:2px solid var(--primary-color);border-radius:50%;cursor:pointer;transition:background-color .3s ease,border-color .3s ease}.color-switch[_ngcontent-%COMP%]   .switch-circle[_ngcontent-%COMP%]:hover{background-color:var(--primary-color);border-color:var(--secondary-color)}@media (max-width: 768px){.color-switch[_ngcontent-%COMP%]{gap:8px}.color-switch[_ngcontent-%COMP%]   .color-circle[_ngcontent-%COMP%]{width:25px;height:25px}.color-switch[_ngcontent-%COMP%]   .switch-circle[_ngcontent-%COMP%]{width:30px;height:30px}}']})};var sf=class t{showPegboard=!1;displayPegboard(){this.showPegboard=!0}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=We({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){n&1&&J(0,"app-color-switch")(1,"app-pegboard")},dependencies:[St,rf,of],encapsulation:2})};aE(sf,ZE).catch(t=>console.error(t));
