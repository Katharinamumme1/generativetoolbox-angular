var a1=Object.create;var tu=Object.defineProperty,l1=Object.defineProperties,u1=Object.getOwnPropertyDescriptor,c1=Object.getOwnPropertyDescriptors,d1=Object.getOwnPropertyNames,eu=Object.getOwnPropertySymbols,f1=Object.getPrototypeOf,Gf=Object.prototype.hasOwnProperty,c0=Object.prototype.propertyIsEnumerable;var u0=(t,e,n)=>e in t?tu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,U=(t,e)=>{for(var n in e||={})Gf.call(e,n)&&u0(t,n,e[n]);if(eu)for(var n of eu(e))c0.call(e,n)&&u0(t,n,e[n]);return t},Ie=(t,e)=>l1(t,c1(e));var d0=(t,e)=>{var n={};for(var r in t)Gf.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&eu)for(var r of eu(t))e.indexOf(r)<0&&c0.call(t,r)&&(n[r]=t[r]);return n};var $f=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),qo=(t,e)=>{for(var n in e)tu(t,n,{get:e[n],enumerable:!0})},h1=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of d1(e))!Gf.call(t,i)&&i!==n&&tu(t,i,{get:()=>e[i],enumerable:!(r=u1(e,i))||r.enumerable});return t};var p1=(t,e,n)=>(n=t!=null?a1(f1(t)):{},h1(e||!t||!t.__esModule?tu(n,"default",{value:t,enumerable:!0}):n,t));var ba=(t,e,n)=>new Promise((r,i)=>{var o=l=>{try{a(n.next(l))}catch(u){i(u)}},s=l=>{try{a(n.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(o,s);a((n=n.apply(t,e)).next())});var Wd=$f(()=>{"use strict"});var xS=$f((TJ,DS)=>{"use strict";function t4(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}function Bo(t,e,n,r){this.message=t,this.expected=e,this.found=n,this.location=r,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Bo)}t4(Bo,Error);Bo.buildMessage=function(t,e){var n={literal:function(u){return'"'+i(u.text)+'"'},class:function(u){var c="",d;for(d=0;d<u.parts.length;d++)c+=u.parts[d]instanceof Array?o(u.parts[d][0])+"-"+o(u.parts[d][1]):o(u.parts[d]);return"["+(u.inverted?"^":"")+c+"]"},any:function(u){return"any character"},end:function(u){return"end of input"},other:function(u){return u.description}};function r(u){return u.charCodeAt(0).toString(16).toUpperCase()}function i(u){return u.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(c){return"\\x0"+r(c)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(c){return"\\x"+r(c)})}function o(u){return u.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(c){return"\\x0"+r(c)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(c){return"\\x"+r(c)})}function s(u){return n[u.type](u)}function a(u){var c=new Array(u.length),d,f;for(d=0;d<u.length;d++)c[d]=s(u[d]);if(c.sort(),c.length>0){for(d=1,f=1;d<c.length;d++)c[d-1]!==c[d]&&(c[f]=c[d],f++);c.length=f}switch(c.length){case 1:return c[0];case 2:return c[0]+" or "+c[1];default:return c.slice(0,-1).join(", ")+", or "+c[c.length-1]}}function l(u){return u?'"'+i(u)+'"':"end of input"}return"Expected "+a(t)+" but "+l(e)+" found."};function n4(t,e){e=e!==void 0?e:{};var n={},r={svg_path:Jv},i=Jv,o=function(p){if(!p)return[];for(var g=[],b=0;b<p.length;b++)g=g.concat.apply(g,p[b]);var m=g[0];return m&&m.code=="m"&&(delete m.relative,m.code="M"),g},s=function(p,g){return s1(p,g)},a=/^[Mm]/,l=Wt(["M","m"],!1,!1),u=function(p,g,b){var m=zo(p,[g]);return b&&(m=m.concat(zo(p=="M"?"L":"l",b[1]))),m},c=/^[Zz]/,d=Wt(["Z","z"],!1,!1),f=function(){return zo("Z")},h=/^[Ll]/,v=Wt(["L","l"],!1,!1),y=function(p,g){return zo(p,g)},C=/^[Hh]/,E=Wt(["H","h"],!1,!1),T=function(p,g){return zo(p,g.map(function(b){return{x:b}}))},x=/^[Vv]/,P=Wt(["V","v"],!1,!1),I=function(p,g){return zo(p,g.map(function(b){return{y:b}}))},B=/^[Cc]/,V=Wt(["C","c"],!1,!1),R=function(p,g,b){return{x1:p.x,y1:p.y,x2:g.x,y2:g.y,x:b.x,y:b.y}},L=/^[Ss]/,ee=Wt(["S","s"],!1,!1),J=function(p,g){return{x2:p.x,y2:p.y,x:g.x,y:g.y}},ie=/^[Qq]/,Ee=Wt(["Q","q"],!1,!1),he=function(p,g){return{x1:p.x,y1:p.y,x:g.x,y:g.y}},_e=/^[Tt]/,Z=Wt(["T","t"],!1,!1),ve=/^[Aa]/,Fe=Wt(["A","a"],!1,!1),Se=function(p,g,b,m,D,O){return{rx:p,ry:g,xAxisRotation:b,largeArc:m,sweep:D,x:O.x,y:O.y}},qe=function(p,g){return{x:p,y:g}},Me=function(p){return p*1},je=function(p){return p.join("")*1},Rt=/^[01]/,ar=Wt(["0","1"],!1,!1),Gi=function(p){return p=="1"},lr=function(){return""},Yl=",",Go=Zv(",",!1),Rf=function(p){return p.join("")},Wv=".",qv=Zv(".",!1),kS=/^[eE]/,OS=Wt(["e","E"],!1,!1),FS=/^[+\-]/,PS=Wt(["+","-"],!1,!1),Yv=/^[0-9]/,Qv=Wt([["0","9"]],!1,!1),LS=function(p){return p.join("")},VS=/^[ \t\n\r]/,US=Wt([" ","	",`
`,"\r"],!1,!1),w=0,Ne=0,Ql=[{line:1,column:1}],ur=0,kf=[],_t=0,Zl;if("startRule"in e){if(!(e.startRule in r))throw new Error(`Can't start parsing from rule "`+e.startRule+'".');i=r[e.startRule]}function J4(){return t.substring(Ne,w)}function eH(){return wa(Ne,w)}function tH(p,g){throw g=g!==void 0?g:wa(Ne,w),Kv([jS(p)],t.substring(Ne,w),g)}function nH(p,g){throw g=g!==void 0?g:wa(Ne,w),HS(p,g)}function Zv(p,g){return{type:"literal",text:p,ignoreCase:g}}function Wt(p,g,b){return{type:"class",parts:p,inverted:g,ignoreCase:b}}function rH(){return{type:"any"}}function BS(){return{type:"end"}}function jS(p){return{type:"other",description:p}}function Xv(p){var g=Ql[p],b;if(g)return g;for(b=p-1;!Ql[b];)b--;for(g=Ql[b],g={line:g.line,column:g.column};b<p;)t.charCodeAt(b)===10?(g.line++,g.column=1):g.column++,b++;return Ql[p]=g,g}function wa(p,g){var b=Xv(p),m=Xv(g);return{start:{offset:p,line:b.line,column:b.column},end:{offset:g,line:m.line,column:m.column}}}function vt(p){w<ur||(w>ur&&(ur=w,kf=[]),kf.push(p))}function HS(p,g){return new Bo(p,null,null,g)}function Kv(p,g,b){return new Bo(Bo.buildMessage(p,g),p,g,b)}function Jv(){var p,g,b,m,D;for(p=w,g=[],b=ke();b!==n;)g.push(b),b=ke();if(g!==n)if(b=GS(),b===n&&(b=null),b!==n){for(m=[],D=ke();D!==n;)m.push(D),D=ke();m!==n?(Ne=p,g=o(b),p=g):(w=p,p=n)}else w=p,p=n;else w=p,p=n;return p}function GS(){var p,g,b,m,D,O;if(p=w,g=Of(),g!==n){for(b=[],m=w,D=[],O=ke();O!==n;)D.push(O),O=ke();for(D!==n?(O=Of(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n);m!==n;){for(b.push(m),m=w,D=[],O=ke();O!==n;)D.push(O),O=ke();D!==n?(O=Of(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n)}b!==n?(Ne=p,g=s(g,b),p=g):(w=p,p=n)}else w=p,p=n;return p}function Of(){var p,g,b,m,D,O;if(p=w,g=$S(),g!==n){for(b=[],m=w,D=[],O=ke();O!==n;)D.push(O),O=ke();for(D!==n?(O=e0(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n);m!==n;){for(b.push(m),m=w,D=[],O=ke();O!==n;)D.push(O),O=ke();D!==n?(O=e0(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n)}b!==n?(Ne=p,g=s(g,b),p=g):(w=p,p=n)}else w=p,p=n;return p}function e0(){var p;return p=zS(),p===n&&(p=WS(),p===n&&(p=qS(),p===n&&(p=YS(),p===n&&(p=QS(),p===n&&(p=XS(),p===n&&(p=JS(),p===n&&(p=t1(),p===n&&(p=r1())))))))),p}function $S(){var p,g,b,m,D,O,Wo;if(p=w,a.test(t.charAt(w))?(g=t.charAt(w),w++):(g=n,_t===0&&vt(l)),g!==n){for(b=[],m=ke();m!==n;)b.push(m),m=ke();b!==n?(m=qt(),m!==n?(D=w,O=Xe(),O===n&&(O=null),O!==n?(Wo=t0(),Wo!==n?(O=[O,Wo],D=O):(w=D,D=n)):(w=D,D=n),D===n&&(D=null),D!==n?(Ne=p,g=u(g,m,D),p=g):(w=p,p=n)):(w=p,p=n)):(w=p,p=n)}else w=p,p=n;return p}function zS(){var p,g;return p=w,c.test(t.charAt(w))?(g=t.charAt(w),w++):(g=n,_t===0&&vt(d)),g!==n&&(Ne=p,g=f()),p=g,p}function WS(){var p,g,b,m;if(p=w,h.test(t.charAt(w))?(g=t.charAt(w),w++):(g=n,_t===0&&vt(v)),g!==n){for(b=[],m=ke();m!==n;)b.push(m),m=ke();b!==n?(m=t0(),m!==n?(Ne=p,g=y(g,m),p=g):(w=p,p=n)):(w=p,p=n)}else w=p,p=n;return p}function t0(){var p,g,b,m,D,O;if(p=w,g=qt(),g!==n){for(b=[],m=w,D=Xe(),D===n&&(D=null),D!==n?(O=qt(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n);m!==n;)b.push(m),m=w,D=Xe(),D===n&&(D=null),D!==n?(O=qt(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n);b!==n?(Ne=p,g=s(g,b),p=g):(w=p,p=n)}else w=p,p=n;return p}function qS(){var p,g,b,m;if(p=w,C.test(t.charAt(w))?(g=t.charAt(w),w++):(g=n,_t===0&&vt(E)),g!==n){for(b=[],m=ke();m!==n;)b.push(m),m=ke();b!==n?(m=n0(),m!==n?(Ne=p,g=T(g,m),p=g):(w=p,p=n)):(w=p,p=n)}else w=p,p=n;return p}function n0(){var p,g,b,m,D,O;if(p=w,g=$o(),g!==n){for(b=[],m=w,D=Xe(),D===n&&(D=null),D!==n?(O=$o(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n);m!==n;)b.push(m),m=w,D=Xe(),D===n&&(D=null),D!==n?(O=$o(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n);b!==n?(Ne=p,g=s(g,b),p=g):(w=p,p=n)}else w=p,p=n;return p}function YS(){var p,g,b,m;if(p=w,x.test(t.charAt(w))?(g=t.charAt(w),w++):(g=n,_t===0&&vt(P)),g!==n){for(b=[],m=ke();m!==n;)b.push(m),m=ke();b!==n?(m=n0(),m!==n?(Ne=p,g=I(g,m),p=g):(w=p,p=n)):(w=p,p=n)}else w=p,p=n;return p}function QS(){var p,g,b,m;if(p=w,B.test(t.charAt(w))?(g=t.charAt(w),w++):(g=n,_t===0&&vt(V)),g!==n){for(b=[],m=ke();m!==n;)b.push(m),m=ke();b!==n?(m=ZS(),m!==n?(Ne=p,g=y(g,m),p=g):(w=p,p=n)):(w=p,p=n)}else w=p,p=n;return p}function ZS(){var p,g,b,m,D,O;if(p=w,g=Ff(),g!==n){for(b=[],m=w,D=Xe(),D===n&&(D=null),D!==n?(O=Ff(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n);m!==n;)b.push(m),m=w,D=Xe(),D===n&&(D=null),D!==n?(O=Ff(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n);b!==n?(Ne=p,g=s(g,b),p=g):(w=p,p=n)}else w=p,p=n;return p}function Ff(){var p,g,b,m,D,O;return p=w,g=qt(),g!==n?(b=Xe(),b===n&&(b=null),b!==n?(m=qt(),m!==n?(D=Xe(),D===n&&(D=null),D!==n?(O=qt(),O!==n?(Ne=p,g=R(g,m,O),p=g):(w=p,p=n)):(w=p,p=n)):(w=p,p=n)):(w=p,p=n)):(w=p,p=n),p}function XS(){var p,g,b,m;if(p=w,L.test(t.charAt(w))?(g=t.charAt(w),w++):(g=n,_t===0&&vt(ee)),g!==n){for(b=[],m=ke();m!==n;)b.push(m),m=ke();b!==n?(m=KS(),m!==n?(Ne=p,g=y(g,m),p=g):(w=p,p=n)):(w=p,p=n)}else w=p,p=n;return p}function KS(){var p,g,b,m,D,O;if(p=w,g=Pf(),g!==n){for(b=[],m=w,D=Xe(),D===n&&(D=null),D!==n?(O=Pf(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n);m!==n;)b.push(m),m=w,D=Xe(),D===n&&(D=null),D!==n?(O=Pf(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n);b!==n?(Ne=p,g=s(g,b),p=g):(w=p,p=n)}else w=p,p=n;return p}function Pf(){var p,g,b,m;return p=w,g=qt(),g!==n?(b=Xe(),b===n&&(b=null),b!==n?(m=qt(),m!==n?(Ne=p,g=J(g,m),p=g):(w=p,p=n)):(w=p,p=n)):(w=p,p=n),p}function JS(){var p,g,b,m;if(p=w,ie.test(t.charAt(w))?(g=t.charAt(w),w++):(g=n,_t===0&&vt(Ee)),g!==n){for(b=[],m=ke();m!==n;)b.push(m),m=ke();b!==n?(m=e1(),m!==n?(Ne=p,g=y(g,m),p=g):(w=p,p=n)):(w=p,p=n)}else w=p,p=n;return p}function e1(){var p,g,b,m,D,O;if(p=w,g=Lf(),g!==n){for(b=[],m=w,D=Xe(),D===n&&(D=null),D!==n?(O=Lf(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n);m!==n;)b.push(m),m=w,D=Xe(),D===n&&(D=null),D!==n?(O=Lf(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n);b!==n?(Ne=p,g=s(g,b),p=g):(w=p,p=n)}else w=p,p=n;return p}function Lf(){var p,g,b,m;return p=w,g=qt(),g!==n?(b=Xe(),b===n&&(b=null),b!==n?(m=qt(),m!==n?(Ne=p,g=he(g,m),p=g):(w=p,p=n)):(w=p,p=n)):(w=p,p=n),p}function t1(){var p,g,b,m;if(p=w,_e.test(t.charAt(w))?(g=t.charAt(w),w++):(g=n,_t===0&&vt(Z)),g!==n){for(b=[],m=ke();m!==n;)b.push(m),m=ke();b!==n?(m=n1(),m!==n?(Ne=p,g=y(g,m),p=g):(w=p,p=n)):(w=p,p=n)}else w=p,p=n;return p}function n1(){var p,g,b,m,D,O;if(p=w,g=qt(),g!==n){for(b=[],m=w,D=Xe(),D===n&&(D=null),D!==n?(O=qt(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n);m!==n;)b.push(m),m=w,D=Xe(),D===n&&(D=null),D!==n?(O=qt(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n);b!==n?(Ne=p,g=s(g,b),p=g):(w=p,p=n)}else w=p,p=n;return p}function r1(){var p,g,b,m;if(p=w,ve.test(t.charAt(w))?(g=t.charAt(w),w++):(g=n,_t===0&&vt(Fe)),g!==n){for(b=[],m=ke();m!==n;)b.push(m),m=ke();b!==n?(m=i1(),m!==n?(Ne=p,g=y(g,m),p=g):(w=p,p=n)):(w=p,p=n)}else w=p,p=n;return p}function i1(){var p,g,b,m,D,O;if(p=w,g=Vf(),g!==n){for(b=[],m=w,D=Xe(),D===n&&(D=null),D!==n?(O=Vf(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n);m!==n;)b.push(m),m=w,D=Xe(),D===n&&(D=null),D!==n?(O=Vf(),O!==n?(D=[D,O],m=D):(w=m,m=n)):(w=m,m=n);b!==n?(Ne=p,g=s(g,b),p=g):(w=p,p=n)}else w=p,p=n;return p}function Vf(){var p,g,b,m,D,O,Wo,Bf,Kl,jf,Jl,Hf;return p=w,g=r0(),g!==n?(b=Xe(),b===n&&(b=null),b!==n?(m=r0(),m!==n?(D=Xe(),D===n&&(D=null),D!==n?(O=$o(),O!==n?(Wo=Xe(),Wo!==n?(Bf=i0(),Bf!==n?(Kl=Xe(),Kl===n&&(Kl=null),Kl!==n?(jf=i0(),jf!==n?(Jl=Xe(),Jl===n&&(Jl=null),Jl!==n?(Hf=qt(),Hf!==n?(Ne=p,g=Se(g,m,O,Bf,jf,Hf),p=g):(w=p,p=n)):(w=p,p=n)):(w=p,p=n)):(w=p,p=n)):(w=p,p=n)):(w=p,p=n)):(w=p,p=n)):(w=p,p=n)):(w=p,p=n)):(w=p,p=n)):(w=p,p=n),p}function qt(){var p,g,b,m;return p=w,g=$o(),g!==n?(b=Xe(),b===n&&(b=null),b!==n?(m=$o(),m!==n?(Ne=p,g=qe(g,m),p=g):(w=p,p=n)):(w=p,p=n)):(w=p,p=n),p}function r0(){var p,g;return p=w,g=s0(),g===n&&(g=$i()),g!==n&&(Ne=p,g=Me(g)),p=g,p}function $o(){var p,g,b,m;return p=w,g=w,b=Uf(),b===n&&(b=null),b!==n?(m=s0(),m!==n?(b=[b,m],g=b):(w=g,g=n)):(w=g,g=n),g===n&&(g=w,b=Uf(),b===n&&(b=null),b!==n?(m=$i(),m!==n?(b=[b,m],g=b):(w=g,g=n)):(w=g,g=n)),g!==n&&(Ne=p,g=je(g)),p=g,p}function i0(){var p,g;return p=w,Rt.test(t.charAt(w))?(g=t.charAt(w),w++):(g=n,_t===0&&vt(ar)),g!==n&&(Ne=p,g=Gi(g)),p=g,p}function Xe(){var p,g,b,m,D;if(p=w,g=[],b=ke(),b!==n)for(;b!==n;)g.push(b),b=ke();else g=n;if(g!==n)if(b=o0(),b===n&&(b=null),b!==n){for(m=[],D=ke();D!==n;)m.push(D),D=ke();m!==n?(g=[g,b,m],p=g):(w=p,p=n)}else w=p,p=n;else w=p,p=n;if(p===n){if(p=w,g=w,b=o0(),b!==n){for(m=[],D=ke();D!==n;)m.push(D),D=ke();m!==n?(b=[b,m],g=b):(w=g,g=n)}else w=g,g=n;g!==n&&(Ne=p,g=lr()),p=g}return p}function o0(){var p;return t.charCodeAt(w)===44?(p=Yl,w++):(p=n,_t===0&&vt(Go)),p}function s0(){var p,g,b,m;return p=w,g=w,b=o1(),b!==n?(m=a0(),m===n&&(m=null),m!==n?(b=[b,m],g=b):(w=g,g=n)):(w=g,g=n),g===n&&(g=w,b=$i(),b!==n?(m=a0(),m!==n?(b=[b,m],g=b):(w=g,g=n)):(w=g,g=n)),g!==n&&(Ne=p,g=Rf(g)),p=g,p}function o1(){var p,g,b,m,D;return p=w,g=w,b=$i(),b===n&&(b=null),b!==n?(t.charCodeAt(w)===46?(m=Wv,w++):(m=n,_t===0&&vt(qv)),m!==n?(D=$i(),D!==n?(b=[b,m,D],g=b):(w=g,g=n)):(w=g,g=n)):(w=g,g=n),g===n&&(g=w,b=$i(),b!==n?(t.charCodeAt(w)===46?(m=Wv,w++):(m=n,_t===0&&vt(qv)),m!==n?(b=[b,m],g=b):(w=g,g=n)):(w=g,g=n)),g!==n&&(Ne=p,g=Rf(g)),p=g,p}function a0(){var p,g,b,m,D;return p=w,g=w,kS.test(t.charAt(w))?(b=t.charAt(w),w++):(b=n,_t===0&&vt(OS)),b!==n?(m=Uf(),m===n&&(m=null),m!==n?(D=$i(),D!==n?(b=[b,m,D],g=b):(w=g,g=n)):(w=g,g=n)):(w=g,g=n),g!==n&&(Ne=p,g=Rf(g)),p=g,p}function Uf(){var p;return FS.test(t.charAt(w))?(p=t.charAt(w),w++):(p=n,_t===0&&vt(PS)),p}function $i(){var p,g,b;if(p=w,g=[],Yv.test(t.charAt(w))?(b=t.charAt(w),w++):(b=n,_t===0&&vt(Qv)),b!==n)for(;b!==n;)g.push(b),Yv.test(t.charAt(w))?(b=t.charAt(w),w++):(b=n,_t===0&&vt(Qv));else g=n;return g!==n&&(Ne=p,g=LS(g)),p=g,p}function ke(){var p,g;return p=w,VS.test(t.charAt(w))?(g=t.charAt(w),w++):(g=n,_t===0&&vt(US)),g!==n&&(Ne=p,g=lr()),p=g,p}function s1(p,g){if(!g)return[p];for(var b=[p],m=0,D=g.length;m<D;m++)b[m+1]=g[m][1];return b}var Xl={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var l0 in Xl)Xl[l0.toUpperCase()]=Xl[l0];function zo(p,g){g||(g=[{}]);for(var b=g.length;b--;){var m={code:p,command:Xl[p]};p==p.toLowerCase()&&(m.relative=!0);for(var D in g[b])m[D]=g[b][D];g[b]=m}return g}if(Zl=i(),Zl!==n&&w===t.length)return Zl;throw Zl!==n&&w<t.length&&vt(BS()),Kv(kf,ur<t.length?t.charAt(ur):null,ur<t.length?wa(ur,ur+1):wa(ur,ur))}DS.exports={SyntaxError:Bo,parse:n4}});var SS=$f((IJ,_S)=>{"use strict";var Cf=xS().parse;Cf.parseSVG=Cf;Cf.makeAbsolute=r4;_S.exports=Cf;function r4(t){var e,n={x:0,y:0},r={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return t.forEach(function(i){i.command==="moveto"&&(e=i),i.x0=n.x,i.y0=n.y;for(var o in r)o in i&&(i[o]+=i.relative?i[r[o]]:0);"x"in i||(i.x=n.x),"y"in i||(i.y=n.y),i.relative=!1,i.code=i.code.toUpperCase(),i.command=="closepath"&&(i.x=e.x,i.y=e.y),n=i}),t}});function h0(t,e){return Object.is(t,e)}var St=null,nu=!1,qf=1,pn=Symbol("SIGNAL");function Pe(t){let e=St;return St=t,e}function p0(){return St}var Ea={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function iu(t){if(nu)throw new Error("");if(St===null)return;St.consumerOnSignalRead(t);let e=St.nextProducerIndex++;if(au(St),e<St.producerNode.length&&St.producerNode[e]!==t&&Ca(St)){let n=St.producerNode[e];su(n,St.producerIndexOfThis[e])}St.producerNode[e]!==t&&(St.producerNode[e]=t,St.producerIndexOfThis[e]=Ca(St)?y0(t,St,e):0),St.producerLastReadVersion[e]=t.version}function g1(){qf++}function g0(t){if(!(Ca(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===qf)){if(!t.producerMustRecompute(t)&&!Qf(t)){f0(t);return}t.producerRecomputeValue(t),f0(t)}}function m0(t){if(t.liveConsumerNode===void 0)return;let e=nu;nu=!0;try{for(let n of t.liveConsumerNode)n.dirty||m1(n)}finally{nu=e}}function v0(){return St?.consumerAllowSignalWrites!==!1}function m1(t){t.dirty=!0,m0(t),t.consumerMarkedDirty?.(t)}function f0(t){t.dirty=!1,t.lastCleanEpoch=qf}function ou(t){return t&&(t.nextProducerIndex=0),Pe(t)}function Yf(t,e){if(Pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ca(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)su(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Qf(t){au(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(g0(n),r!==n.version))return!0}return!1}function Zf(t){if(au(t),Ca(t))for(let e=0;e<t.producerNode.length;e++)su(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function y0(t,e,n){if(w0(t),t.liveConsumerNode.length===0&&b0(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=y0(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function su(t,e){if(w0(t),t.liveConsumerNode.length===1&&b0(t))for(let r=0;r<t.producerNode.length;r++)su(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];au(i),i.producerIndexOfThis[r]=e}}function Ca(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function au(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function w0(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function b0(t){return t.producerNode!==void 0}function C0(t){let e=Object.create(v1);e.computation=t;let n=()=>{if(g0(e),iu(e),e.value===ru)throw e.error;return e.value};return n[pn]=e,n}var zf=Symbol("UNSET"),Wf=Symbol("COMPUTING"),ru=Symbol("ERRORED"),v1=Ie(U({},Ea),{value:zf,dirty:!0,error:null,equal:h0,kind:"computed",producerMustRecompute(t){return t.value===zf||t.value===Wf},producerRecomputeValue(t){if(t.value===Wf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Wf;let n=ou(t),r,i=!1;try{r=t.computation(),Pe(null),i=e!==zf&&e!==ru&&r!==ru&&t.equal(e,r)}catch(o){r=ru,t.error=o}finally{Yf(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function y1(){throw new Error}var E0=y1;function D0(){E0()}function x0(t){E0=t}var w1=null;function _0(t){let e=Object.create(Xf);e.value=t;let n=()=>(iu(e),e.value);return n[pn]=e,n}function lu(t,e){v0()||D0(),t.equal(t.value,e)||(t.value=e,b1(t))}function S0(t,e){v0()||D0(),lu(t,e(t.value))}var Xf=Ie(U({},Ea),{equal:h0,value:void 0,kind:"signal"});function b1(t){t.version++,g1(),m0(t),w1?.()}function Ce(t){return typeof t=="function"}function Yo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var uu=Yo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Da(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var yt=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Ce(r))try{r()}catch(o){e=o instanceof uu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{M0(o)}catch(s){e=e??[],s instanceof uu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new uu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)M0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Da(n,e)}remove(e){let{_finalizers:n}=this;n&&Da(n,e),e instanceof t&&e._removeParent(this)}};yt.EMPTY=(()=>{let t=new yt;return t.closed=!0,t})();var Kf=yt.EMPTY;function cu(t){return t instanceof yt||t&&"closed"in t&&Ce(t.remove)&&Ce(t.add)&&Ce(t.unsubscribe)}function M0(t){Ce(t)?t():t.unsubscribe()}var zn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Qo={setTimeout(t,e,...n){let{delegate:r}=Qo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Qo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function du(t){Qo.setTimeout(()=>{let{onUnhandledError:e}=zn;if(e)e(t);else throw t})}function xa(){}var T0=Jf("C",void 0,void 0);function I0(t){return Jf("E",void 0,t)}function A0(t){return Jf("N",t,void 0)}function Jf(t,e,n){return{kind:t,value:e,error:n}}var zi=null;function Zo(t){if(zn.useDeprecatedSynchronousErrorHandling){let e=!zi;if(e&&(zi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=zi;if(zi=null,n)throw r}}else t()}function N0(t){zn.useDeprecatedSynchronousErrorHandling&&zi&&(zi.errorThrown=!0,zi.error=t)}var Wi=class extends yt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,cu(e)&&e.add(this)):this.destination=D1}static create(e,n,r){return new Xo(e,n,r)}next(e){this.isStopped?th(A0(e),this):this._next(e)}error(e){this.isStopped?th(I0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?th(T0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},C1=Function.prototype.bind;function eh(t,e){return C1.call(t,e)}var nh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){fu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){fu(r)}else fu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){fu(n)}}},Xo=class extends Wi{constructor(e,n,r){super();let i;if(Ce(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&zn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&eh(e.next,o),error:e.error&&eh(e.error,o),complete:e.complete&&eh(e.complete,o)}):i=e}this.destination=new nh(i)}};function fu(t){zn.useDeprecatedSynchronousErrorHandling?N0(t):du(t)}function E1(t){throw t}function th(t,e){let{onStoppedNotification:n}=zn;n&&Qo.setTimeout(()=>n(t,e))}var D1={closed:!0,next:xa,error:E1,complete:xa};var Ko=typeof Symbol=="function"&&Symbol.observable||"@@observable";function gn(t){return t}function rh(...t){return ih(t)}function ih(t){return t.length===0?gn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Be=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=_1(n)?n:new Xo(n,r,i);return Zo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=R0(r),new r((i,o)=>{let s=new Xo({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ko](){return this}pipe(...n){return ih(n)(this)}toPromise(n){return n=R0(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function R0(t){var e;return(e=t??zn.Promise)!==null&&e!==void 0?e:Promise}function x1(t){return t&&Ce(t.next)&&Ce(t.error)&&Ce(t.complete)}function _1(t){return t&&t instanceof Wi||x1(t)&&cu(t)}function oh(t){return Ce(t?.lift)}function Le(t){return e=>{if(oh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Oe(t,e,n,r,i){return new sh(t,e,n,r,i)}var sh=class extends Wi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Jo(){return Le((t,e)=>{let n=null;t._refCount++;let r=Oe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var es=class extends Be{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,oh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new yt;let n=this.getSubject();e.add(this.source.subscribe(Oe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=yt.EMPTY)}return e}refCount(){return Jo()(this)}};var k0=Yo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Mt=(()=>{class t extends Be{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new hu(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new k0}next(n){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Zo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Kf:(this.currentObservers=null,o.push(n),new yt(()=>{this.currentObservers=null,Da(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Be;return n.source=this,n}}return t.create=(e,n)=>new hu(e,n),t})(),hu=class extends Mt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Kf}};var Lt=class extends Mt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var tn=new Be(t=>t.complete());function O0(t){return t&&Ce(t.schedule)}function F0(t){return t[t.length-1]}function pu(t){return Ce(F0(t))?t.pop():void 0}function ri(t){return O0(F0(t))?t.pop():void 0}function L0(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function P0(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function qi(t){return this instanceof qi?(this.v=t,this):new qi(t)}function V0(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(v){return Promise.resolve(v).then(h,d)}}function a(h,v){r[h]&&(i[h]=function(y){return new Promise(function(C,E){o.push([h,y,C,E])>1||l(h,y)})},v&&(i[h]=v(i[h])))}function l(h,v){try{u(r[h](v))}catch(y){f(o[0][3],y)}}function u(h){h.value instanceof qi?Promise.resolve(h.value.v).then(c,d):f(o[0][2],h)}function c(h){l("next",h)}function d(h){l("throw",h)}function f(h,v){h(v),o.shift(),o.length&&l(o[0][0],o[0][1])}}function U0(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof P0=="function"?P0(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,l){s=t[o](s),i(a,l,s.done,s.value)})}}function i(o,s,a,l){Promise.resolve(l).then(function(u){o({value:u,done:a})},s)}}var gu=t=>t&&typeof t.length=="number"&&typeof t!="function";function mu(t){return Ce(t?.then)}function vu(t){return Ce(t[Ko])}function yu(t){return Symbol.asyncIterator&&Ce(t?.[Symbol.asyncIterator])}function wu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function S1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bu=S1();function Cu(t){return Ce(t?.[bu])}function Eu(t){return V0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield qi(n.read());if(i)return yield qi(void 0);yield yield qi(r)}}finally{n.releaseLock()}})}function Du(t){return Ce(t?.getReader)}function wt(t){if(t instanceof Be)return t;if(t!=null){if(vu(t))return M1(t);if(gu(t))return T1(t);if(mu(t))return I1(t);if(yu(t))return B0(t);if(Cu(t))return A1(t);if(Du(t))return N1(t)}throw wu(t)}function M1(t){return new Be(e=>{let n=t[Ko]();if(Ce(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function T1(t){return new Be(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function I1(t){return new Be(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,du)})}function A1(t){return new Be(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function B0(t){return new Be(e=>{R1(t,e).catch(n=>e.error(n))})}function N1(t){return B0(Eu(t))}function R1(t,e){var n,r,i,o;return L0(this,void 0,void 0,function*(){try{for(n=U0(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function nn(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function xu(t,e=0){return Le((n,r)=>{n.subscribe(Oe(r,i=>nn(r,t,()=>r.next(i),e),()=>nn(r,t,()=>r.complete(),e),i=>nn(r,t,()=>r.error(i),e)))})}function _u(t,e=0){return Le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function j0(t,e){return wt(t).pipe(_u(e),xu(e))}function H0(t,e){return wt(t).pipe(_u(e),xu(e))}function G0(t,e){return new Be(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function $0(t,e){return new Be(n=>{let r;return nn(n,e,()=>{r=t[bu](),nn(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Ce(r?.return)&&r.return()})}function Su(t,e){if(!t)throw new Error("Iterable cannot be null");return new Be(n=>{nn(n,e,()=>{let r=t[Symbol.asyncIterator]();nn(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function z0(t,e){return Su(Eu(t),e)}function W0(t,e){if(t!=null){if(vu(t))return j0(t,e);if(gu(t))return G0(t,e);if(mu(t))return H0(t,e);if(yu(t))return Su(t,e);if(Cu(t))return $0(t,e);if(Du(t))return z0(t,e)}throw wu(t)}function it(t,e){return e?W0(t,e):wt(t)}function pe(...t){let e=ri(t);return it(t,e)}function ts(t,e){let n=Ce(t)?t:()=>t,r=i=>i.error(n());return new Be(e?i=>e.schedule(r,0,i):r)}function ah(t){return!!t&&(t instanceof Be||Ce(t.lift)&&Ce(t.subscribe))}var Ir=Yo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function we(t,e){return Le((n,r)=>{let i=0;n.subscribe(Oe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:k1}=Array;function O1(t,e){return k1(e)?t(...e):t(e)}function Mu(t){return we(e=>O1(t,e))}var{isArray:F1}=Array,{getPrototypeOf:P1,prototype:L1,keys:V1}=Object;function Tu(t){if(t.length===1){let e=t[0];if(F1(e))return{args:e,keys:null};if(U1(e)){let n=V1(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function U1(t){return t&&typeof t=="object"&&P1(t)===L1}function Iu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Au(...t){let e=ri(t),n=pu(t),{args:r,keys:i}=Tu(t);if(r.length===0)return it([],e);let o=new Be(B1(r,e,i?s=>Iu(i,s):gn));return n?o.pipe(Mu(n)):o}function B1(t,e,n=gn){return r=>{q0(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let l=0;l<i;l++)q0(e,()=>{let u=it(t[l],e),c=!1;u.subscribe(Oe(r,d=>{o[l]=d,c||(c=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function q0(t,e,n){t?nn(n,t,e):e()}function Y0(t,e,n,r,i,o,s,a){let l=[],u=0,c=0,d=!1,f=()=>{d&&!l.length&&!u&&e.complete()},h=y=>u<r?v(y):l.push(y),v=y=>{o&&e.next(y),u++;let C=!1;wt(n(y,c++)).subscribe(Oe(e,E=>{i?.(E),o?h(E):e.next(E)},()=>{C=!0},void 0,()=>{if(C)try{for(u--;l.length&&u<r;){let E=l.shift();s?nn(e,s,()=>v(E)):v(E)}f()}catch(E){e.error(E)}}))};return t.subscribe(Oe(e,h,()=>{d=!0,f()})),()=>{a?.()}}function Tt(t,e,n=1/0){return Ce(e)?Tt((r,i)=>we((o,s)=>e(r,o,i,s))(wt(t(r,i))),n):(typeof e=="number"&&(n=e),Le((r,i)=>Y0(r,i,t,n)))}function lh(t=1/0){return Tt(gn,t)}function Q0(){return lh(1)}function ns(...t){return Q0()(it(t,ri(t)))}function Nu(t){return new Be(e=>{wt(t()).subscribe(e)})}function uh(...t){let e=pu(t),{args:n,keys:r}=Tu(t),i=new Be(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,u=s;for(let c=0;c<s;c++){let d=!1;wt(n[c]).subscribe(Oe(o,f=>{d||(d=!0,u--),a[c]=f},()=>l--,void 0,()=>{(!l||!d)&&(u||o.next(r?Iu(r,a):a),o.complete())}))}});return e?i.pipe(Mu(e)):i}function mn(t,e){return Le((n,r)=>{let i=0;n.subscribe(Oe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function ii(t){return Le((e,n)=>{let r=null,i=!1,o;r=e.subscribe(Oe(n,void 0,void 0,s=>{o=wt(t(s,ii(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Z0(t,e,n,r,i){return(o,s)=>{let a=n,l=e,u=0;o.subscribe(Oe(s,c=>{let d=u++;l=a?t(l,c,d):(a=!0,c),r&&s.next(l)},i&&(()=>{a&&s.next(l),s.complete()})))}}function oi(t,e){return Ce(e)?Tt(t,e,1):Tt(t,1)}function si(t){return Le((e,n)=>{let r=!1;e.subscribe(Oe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ar(t){return t<=0?()=>tn:Le((e,n)=>{let r=0;e.subscribe(Oe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Ru(t=j1){return Le((e,n)=>{let r=!1;e.subscribe(Oe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function j1(){return new Ir}function Yi(t){return Le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Nr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?mn((i,o)=>t(i,o,r)):gn,Ar(1),n?si(e):Ru(()=>new Ir))}function rs(t){return t<=0?()=>tn:Le((e,n)=>{let r=[];e.subscribe(Oe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ch(t,e){let n=arguments.length>=2;return r=>r.pipe(t?mn((i,o)=>t(i,o,r)):gn,rs(1),n?si(e):Ru(()=>new Ir))}function dh(t,e){return Le(Z0(t,e,arguments.length>=2,!0))}function fh(...t){let e=ri(t);return Le((n,r)=>{(e?ns(t,n,e):ns(t,n)).subscribe(r)})}function vn(t,e){return Le((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(Oe(r,l=>{i?.unsubscribe();let u=0,c=o++;wt(t(l,c)).subscribe(i=Oe(r,d=>r.next(e?e(l,d,c,u++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function hh(t){return Le((e,n)=>{wt(t).subscribe(Oe(n,()=>n.complete(),xa)),!n.closed&&e.subscribe(n)})}function It(t,e,n){let r=Ce(t)||e||n?{next:t,error:e,complete:n}:t;return r?Le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(Oe(o,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),o.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),o.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),o.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):gn}var yh={JSACTION:"jsaction"},wh={JSACTION:"__jsaction",OWNER:"__owner"},ey={};function H1(t){return t[wh.JSACTION]}function X0(t,e){t[wh.JSACTION]=e}function G1(t){return ey[t]}function $1(t,e){ey[t]=e}var oe={AUXCLICK:"auxclick",CHANGE:"change",CLICK:"click",CLICKMOD:"clickmod",CLICKONLY:"clickonly",DBLCLICK:"dblclick",FOCUS:"focus",FOCUSIN:"focusin",BLUR:"blur",FOCUSOUT:"focusout",SUBMIT:"submit",KEYDOWN:"keydown",KEYPRESS:"keypress",KEYUP:"keyup",MOUSEUP:"mouseup",MOUSEDOWN:"mousedown",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",MOUSEMOVE:"mousemove",POINTERUP:"pointerup",POINTERDOWN:"pointerdown",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERMOVE:"pointermove",POINTERCANCEL:"pointercancel",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",ERROR:"error",LOAD:"load",UNLOAD:"unload",TOUCHSTART:"touchstart",TOUCHEND:"touchend",TOUCHMOVE:"touchmove",INPUT:"input",SCROLL:"scroll",TOGGLE:"toggle",CUSTOM:"_custom"},z1=[oe.MOUSEENTER,oe.MOUSELEAVE,"pointerenter","pointerleave"],E6=[oe.CLICK,oe.DBLCLICK,oe.FOCUSIN,oe.FOCUSOUT,oe.KEYDOWN,oe.KEYUP,oe.KEYPRESS,oe.MOUSEOVER,oe.MOUSEOUT,oe.SUBMIT,oe.TOUCHSTART,oe.TOUCHEND,oe.TOUCHMOVE,"touchcancel","auxclick","change","compositionstart","compositionupdate","compositionend","beforeinput","input","select","copy","cut","paste","mousedown","mouseup","wheel","contextmenu","dragover","dragenter","dragleave","drop","dragstart","dragend","pointerdown","pointermove","pointerup","pointercancel","pointerover","pointerout","gotpointercapture","lostpointercapture","ended","loadedmetadata","pagehide","pageshow","visibilitychange","beforematch"],W1=[oe.FOCUS,oe.BLUR,oe.ERROR,oe.LOAD,oe.TOGGLE],bh=t=>W1.indexOf(t)>=0;var q1=3,Y1=13,Q1=32,yn={MAC_ENTER:q1,ENTER:Y1,SPACE:Q1};function Z1(t){return t===oe.MOUSEENTER?oe.MOUSEOVER:t===oe.MOUSELEAVE?oe.MOUSEOUT:t===oe.POINTERENTER?oe.POINTEROVER:t===oe.POINTERLEAVE?oe.POINTEROUT:t}function X1(t,e,n,r){let i=!1;bh(e)&&(i=!0);let o=typeof r=="boolean"?{capture:i,passive:r}:i;return t.addEventListener(e,n,o),{eventType:e,handler:n,capture:i,passive:r}}function K1(t,e){if(t.removeEventListener){let n=typeof e.passive=="boolean"?{capture:e.capture}:e.capture;t.removeEventListener(e.eventType,e.handler,n)}else t.detachEvent&&t.detachEvent(`on${e.eventType}`,e.handler)}function J1(t){t.preventDefault?t.preventDefault():t.returnValue=!1}var K0=typeof navigator<"u"&&/Macintosh/.test(navigator.userAgent);function eM(t){return t.which===2||t.which==null&&t.button===4}function tM(t){return K0&&t.metaKey||!K0&&t.ctrlKey||eM(t)||t.shiftKey}var D6=typeof navigator<"u"&&!/Opera/.test(navigator.userAgent)&&/WebKit/.test(navigator.userAgent),x6=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident/.test(navigator.userAgent)),_6=typeof navigator<"u"&&!/Opera|WebKit/.test(navigator.userAgent)&&/Gecko/.test(navigator.product);function nM(t,e,n){let r=t.relatedTarget;return(t.type===oe.MOUSEOVER&&e===oe.MOUSEENTER||t.type===oe.MOUSEOUT&&e===oe.MOUSELEAVE||t.type===oe.POINTEROVER&&e===oe.POINTERENTER||t.type===oe.POINTEROUT&&e===oe.POINTERLEAVE)&&(!r||r!==n&&!n.contains(r))}function rM(t,e){let n={};for(let r in t){if(r==="srcElement"||r==="target")continue;let i=r,o=t[i];typeof o!="function"&&(n[i]=o)}return t.type===oe.MOUSEOVER?n.type=oe.MOUSEENTER:t.type===oe.MOUSEOUT?n.type=oe.MOUSELEAVE:t.type===oe.POINTEROVER?n.type=oe.POINTERENTER:n.type=oe.POINTERLEAVE,n.target=n.srcElement=e,n.bubbles=!1,n._originalEvent=t,n}var S6={Enter:yn.ENTER," ":yn.SPACE},M6={A:yn.ENTER,BUTTON:0,CHECKBOX:yn.SPACE,COMBOBOX:yn.ENTER,FILE:0,GRIDCELL:yn.ENTER,LINK:yn.ENTER,LISTBOX:yn.ENTER,MENU:0,MENUBAR:0,MENUITEM:0,MENUITEMCHECKBOX:0,MENUITEMRADIO:0,OPTION:0,RADIO:yn.SPACE,RADIOGROUP:yn.SPACE,RESET:0,SUBMIT:0,SWITCH:yn.SPACE,TAB:0,TREE:yn.ENTER,TREEITEM:yn.ENTER};var iM=typeof navigator<"u"&&/iPhone|iPad|iPod/.test(navigator.userAgent),Pu=class{element;handlerInfos=[];constructor(e){this.element=e}addEventListener(e,n,r){iM&&(this.element.style.cursor="pointer"),this.handlerInfos.push(X1(this.element,e,n(this.element),r))}cleanUp(){for(let e=0;e<this.handlerInfos.length;e++)K1(this.element,this.handlerInfos[e]);this.handlerInfos=[]}},oM={NAMESPACE_ACTION_SEPARATOR:".",EVENT_ACTION_SEPARATOR:":"};function ai(t){return t.eventType}function Ch(t,e){t.eventType=e}function Ou(t){return t.event}function ty(t,e){t.event=e}function ny(t){return t.targetElement}function ry(t,e){t.targetElement=e}function iy(t){return t.eic}function sM(t,e){t.eic=e}function aM(t){return t.timeStamp}function lM(t,e){t.timeStamp=e}function Fu(t){return t.eia}function oy(t,e,n){t.eia=[e,n]}function ph(t){t.eia=void 0}function ku(t){return t[1]}function uM(t){return t.eirp}function sy(t,e){t.eirp=e}function ay(t){return t.eir}function ly(t,e){t.eir=e}function uy(t){return{eventType:t.eventType,event:t.event,targetElement:t.targetElement,eic:t.eic,eia:t.eia,timeStamp:t.timeStamp,eirp:t.eirp,eiack:t.eiack,eir:t.eir}}function cM(t,e,n,r,i,o,s,a){return{eventType:t,event:e,targetElement:n,eic:r,timeStamp:i,eia:o,eirp:s,eiack:a}}var gh=class t{eventInfo;constructor(e){this.eventInfo=e}getEventType(){return ai(this.eventInfo)}setEventType(e){Ch(this.eventInfo,e)}getEvent(){return Ou(this.eventInfo)}setEvent(e){ty(this.eventInfo,e)}getTargetElement(){return ny(this.eventInfo)}setTargetElement(e){ry(this.eventInfo,e)}getContainer(){return iy(this.eventInfo)}setContainer(e){sM(this.eventInfo,e)}getTimestamp(){return aM(this.eventInfo)}setTimestamp(e){lM(this.eventInfo,e)}getAction(){let e=Fu(this.eventInfo);if(e)return{name:e[0],element:e[1]}}setAction(e){if(!e){ph(this.eventInfo);return}oy(this.eventInfo,e.name,e.element)}getIsReplay(){return uM(this.eventInfo)}setIsReplay(e){sy(this.eventInfo,e)}getResolved(){return ay(this.eventInfo)}setResolved(e){ly(this.eventInfo,e)}clone(){return new t(uy(this.eventInfo))}},dM={},fM=/\s*;\s*/,hM=oe.CLICK,mh=class{a11yClickSupport=!1;clickModSupport=!0;syntheticMouseEventSupport;updateEventInfoForA11yClick=void 0;preventDefaultForA11yClick=void 0;populateClickOnlyAction=void 0;constructor({syntheticMouseEventSupport:e=!1,clickModSupport:n=!0}={}){this.syntheticMouseEventSupport=e,this.clickModSupport=n}resolveEventType(e){this.clickModSupport&&ai(e)===oe.CLICK&&tM(Ou(e))?Ch(e,oe.CLICKMOD):this.a11yClickSupport&&this.updateEventInfoForA11yClick(e)}resolveAction(e){ay(e)||(this.populateAction(e,ny(e)),ly(e,!0))}resolveParentAction(e){let n=Fu(e),r=n&&ku(n);ph(e);let i=r&&this.getParentNode(r);i&&this.populateAction(e,i)}populateAction(e,n){let r=n;for(;r&&r!==iy(e)&&(r.nodeType===Node.ELEMENT_NODE&&this.populateActionOnElement(r,e),!Fu(e));)r=this.getParentNode(r);let i=Fu(e);if(i&&(this.a11yClickSupport&&this.preventDefaultForA11yClick(e),this.syntheticMouseEventSupport&&(ai(e)===oe.MOUSEENTER||ai(e)===oe.MOUSELEAVE||ai(e)===oe.POINTERENTER||ai(e)===oe.POINTERLEAVE)))if(nM(Ou(e),ai(e),ku(i))){let o=rM(Ou(e),ku(i));ty(e,o),ry(e,ku(i))}else ph(e)}getParentNode(e){let n=e[wh.OWNER];if(n)return n;let r=e.parentNode;return r?.nodeName==="#document-fragment"?r?.host??null:r}populateActionOnElement(e,n){let r=this.parseActions(e),i=r[ai(n)];i!==void 0&&oy(n,i,e),this.a11yClickSupport&&this.populateClickOnlyAction(e,n,r)}parseActions(e){let n=H1(e);if(!n){let r=e.getAttribute(yh.JSACTION);if(!r)n=dM,X0(e,n);else{if(n=G1(r),!n){n={};let i=r.split(fM);for(let o=0;o<i.length;o++){let s=i[o];if(!s)continue;let a=s.indexOf(oM.EVENT_ACTION_SEPARATOR),l=a!==-1,u=l?s.substr(0,a).trim():hM,c=l?s.substr(a+1).trim():s;n[u]=c}$1(r,n)}X0(e,n)}}return n}addA11yClickSupport(e,n,r){this.a11yClickSupport=!0,this.updateEventInfoForA11yClick=e,this.preventDefaultForA11yClick=n,this.populateClickOnlyAction=r}},cy=function(t){return t[t.I_AM_THE_JSACTION_FRAMEWORK=0]="I_AM_THE_JSACTION_FRAMEWORK",t}(cy||{}),vh=class{dispatchDelegate;actionResolver;eventReplayer;eventReplayScheduled=!1;replayEventInfoWrappers=[];constructor(e,{actionResolver:n,eventReplayer:r}={}){this.dispatchDelegate=e,this.actionResolver=n,this.eventReplayer=r}dispatch(e){let n=new gh(e);this.actionResolver?.resolveEventType(e),this.actionResolver?.resolveAction(e);let r=n.getAction();if(r&&pM(r.element,n)&&J1(n.getEvent()),this.eventReplayer&&n.getIsReplay()){this.scheduleEventInfoWrapperReplay(n);return}this.dispatchDelegate(n)}scheduleEventInfoWrapperReplay(e){this.replayEventInfoWrappers.push(e),!this.eventReplayScheduled&&(this.eventReplayScheduled=!0,Promise.resolve().then(()=>{this.eventReplayScheduled=!1,this.eventReplayer(this.replayEventInfoWrappers)}))}};function pM(t,e){return t.tagName==="A"&&(e.getEventType()===oe.CLICK||e.getEventType()===oe.CLICKMOD)}var dy=Symbol.for("propagationStopped"),Eh={REPLAY:101};var gM="`preventDefault` called during event replay.";var mM="`composedPath` called during event replay.",Lu=class{dispatchDelegate;clickModSupport;actionResolver;dispatcher;constructor(e,n=!0){this.dispatchDelegate=e,this.clickModSupport=n,this.actionResolver=new mh({clickModSupport:n}),this.dispatcher=new vh(r=>{this.dispatchToDelegate(r)},{actionResolver:this.actionResolver})}dispatch(e){this.dispatcher.dispatch(e)}dispatchToDelegate(e){for(e.getIsReplay()&&wM(e),vM(e);e.getAction();){if(bM(e),bh(e.getEventType())&&e.getAction().element!==e.getTargetElement()||(this.dispatchDelegate(e.getEvent(),e.getAction().name),yM(e)))return;this.actionResolver.resolveParentAction(e.eventInfo)}}};function vM(t){let e=t.getEvent(),n=t.getEvent().stopPropagation.bind(e),r=()=>{e[dy]=!0,n()};Qi(e,"stopPropagation",r),Qi(e,"stopImmediatePropagation",r)}function yM(t){return!!t.getEvent()[dy]}function wM(t){let e=t.getEvent(),n=t.getTargetElement(),r=e.preventDefault.bind(e);Qi(e,"target",n),Qi(e,"eventPhase",Eh.REPLAY),Qi(e,"preventDefault",()=>{throw r(),new Error(gM+"")}),Qi(e,"composedPath",()=>{throw new Error(mM+"")})}function bM(t){let e=t.getEvent(),n=t.getAction()?.element;n&&Qi(e,"currentTarget",n,{configurable:!0})}function Qi(t,e,n,{configurable:r=!1}={}){Object.defineProperty(t,e,{value:n,configurable:r})}function fy(t,e){t.ecrd(n=>{e.dispatch(n)},cy.I_AM_THE_JSACTION_FRAMEWORK)}function CM(t){return t?.q??[]}function EM(t){t&&(J0(t.c,t.et,t.h),J0(t.c,t.etc,t.h,!0))}function J0(t,e,n,r){for(let i=0;i<e.length;i++)t.removeEventListener(e[i],n,r)}var DM=!1,hy=(()=>{class t{static MOUSE_SPECIAL_SUPPORT=DM;containerManager;eventHandlers={};browserEventTypeToExtraEventTypes={};dispatcher=null;queuedEventInfos=[];constructor(n){this.containerManager=n}handleEvent(n,r,i){let o=cM(n,r,r.target,i,Date.now());this.handleEventInfo(o)}handleEventInfo(n){if(!this.dispatcher){sy(n,!0),this.queuedEventInfos?.push(n);return}this.dispatcher(n)}addEvent(n,r,i){if(n in this.eventHandlers||!this.containerManager||!t.MOUSE_SPECIAL_SUPPORT&&z1.indexOf(n)>=0)return;let o=(a,l,u)=>{this.handleEvent(a,l,u)};this.eventHandlers[n]=o;let s=Z1(r||n);if(s!==n){let a=this.browserEventTypeToExtraEventTypes[s]||[];a.push(n),this.browserEventTypeToExtraEventTypes[s]=a}this.containerManager.addEventListener(s,a=>l=>{o(n,l,a)},i)}replayEarlyEvents(n=window._ejsa){n&&(this.replayEarlyEventInfos(n.q),EM(n),delete window._ejsa)}replayEarlyEventInfos(n){for(let r=0;r<n.length;r++){let i=n[r],o=this.getEventTypesForBrowserEventType(i.eventType);for(let s=0;s<o.length;s++){let a=uy(i);Ch(a,o[s]),this.handleEventInfo(a)}}}getEventTypesForBrowserEventType(n){let r=[];return this.eventHandlers[n]&&r.push(n),this.browserEventTypeToExtraEventTypes[n]&&r.push(...this.browserEventTypeToExtraEventTypes[n]),r}handler(n){return this.eventHandlers[n]}cleanUp(){this.containerManager?.cleanUp(),this.containerManager=null,this.eventHandlers={},this.browserEventTypeToExtraEventTypes={},this.dispatcher=null,this.queuedEventInfos=[]}registerDispatcher(n,r){this.ecrd(n,r)}ecrd(n,r){if(this.dispatcher=n,this.queuedEventInfos?.length){for(let i=0;i<this.queuedEventInfos.length;i++)this.handleEventInfo(this.queuedEventInfos[i]);this.queuedEventInfos=null}}}return t})();function py(t,e=window){return CM(e._ejsas?.[t])}function Dh(t,e=window){e._ejsas&&(e._ejsas[t]=void 0)}var cw="https://g.co/ng/security#xss",Q=class extends Error{code;constructor(e,n){super(Dc(e,n)),this.code=e}};function Dc(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var dw=Symbol("InputSignalNode#UNSET"),xM=Ie(U({},Xf),{transformFn:void 0,applyValueToInputSignal(t,e){lu(t,e)}});function fw(t,e){let n=Object.create(xM);n.value=t,n.transformFn=e?.transform;function r(){if(iu(n),n.value===dw)throw new Q(-950,!1);return n.value}return r[pn]=n,r}function La(t){return{toString:t}.toString()}var Vu="__parameters__";function _M(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function hw(t,e,n){return La(()=>{let r=_M(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(l,u,c){let d=l.hasOwnProperty(Vu)?l[Vu]:Object.defineProperty(l,Vu,{value:[]})[Vu];for(;d.length<=c;)d.push(null);return(d[c]=d[c]||[]).push(s),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function Ye(t){for(let e in t)if(t[e]===Ye)return e;throw Error("Could not find renamed property on target object.")}function SM(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Qt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Qt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function gy(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var MM=Ye({__forward_ref__:Ye});function En(t){return t.__forward_ref__=En,t.toString=function(){return Qt(this())},t}function Yt(t){return pw(t)?t():t}function pw(t){return typeof t=="function"&&t.hasOwnProperty(MM)&&t.__forward_ref__===En}function re(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Vr(t){return{providers:t.providers||[],imports:t.imports||[]}}function xc(t){return my(t,mw)||my(t,vw)}function gw(t){return xc(t)!==null}function my(t,e){return t.hasOwnProperty(e)?t[e]:null}function TM(t){let e=t&&(t[mw]||t[vw]);return e||null}function vy(t){return t&&(t.hasOwnProperty(yy)||t.hasOwnProperty(IM))?t[yy]:null}var mw=Ye({\u0275prov:Ye}),yy=Ye({\u0275inj:Ye}),vw=Ye({ngInjectableDef:Ye}),IM=Ye({ngInjectorDef:Ye}),Y=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=re({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function yw(t){return t&&!!t.\u0275providers}var AM=Ye({\u0275cmp:Ye}),NM=Ye({\u0275dir:Ye}),RM=Ye({\u0275pipe:Ye}),kM=Ye({\u0275mod:Ye}),Xu=Ye({\u0275fac:Ye}),Ta=Ye({__NG_ELEMENT_ID__:Ye}),wy=Ye({__NG_ENV_ID__:Ye});function hs(t){return typeof t=="string"?t:t==null?"":String(t)}function OM(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():hs(t)}function FM(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function kp(t,e){throw new Q(-201,!1)}var Re=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Re||{}),Uh;function ww(){return Uh}function kn(t){let e=Uh;return Uh=t,e}function bw(t,e,n){let r=xc(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&Re.Optional)return null;if(e!==void 0)return e;kp(t,"Injector")}var PM={},Ia=PM,Bh="__NG_DI_FLAG__",Ku="ngTempTokenPath",LM="ngTokenPath",VM=/\n/gm,UM="\u0275",by="__source",us;function BM(){return us}function li(t){let e=us;return us=t,e}function jM(t,e=Re.Default){if(us===void 0)throw new Q(-203,!1);return us===null?bw(t,void 0,e):us.get(t,e&Re.Optional?null:void 0,e)}function me(t,e=Re.Default){return(ww()||jM)(Yt(t),e)}function A(t,e=Re.Default){return me(t,_c(e))}function _c(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function jh(t){let e=[];for(let n=0;n<t.length;n++){let r=Yt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,o=Re.Default;for(let s=0;s<r.length;s++){let a=r[s],l=HM(a);typeof l=="number"?l===-1?i=a.token:o|=l:i=a}e.push(me(i,o))}else e.push(me(r))}return e}function Cw(t,e){return t[Bh]=e,t.prototype[Bh]=e,t}function HM(t){return t[Bh]}function GM(t,e,n,r){let i=t[Ku];throw e[by]&&i.unshift(e[by]),t.message=$M(`
`+t.message,i,n,r),t[LM]=i,t[Ku]=null,t}function $M(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==UM?t.slice(2):t;let i=Qt(e);if(Array.isArray(e))i=e.map(Qt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Qt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(VM,`
  `)}`}var Ew=Cw(hw("Optional"),8);var zM=Cw(hw("SkipSelf"),4);function ps(t,e){let n=t.hasOwnProperty(Xu);return n?t[Xu]:null}function WM(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function qM(t){return t.flat(Number.POSITIVE_INFINITY)}function Op(t,e){t.forEach(n=>Array.isArray(n)?Op(n,e):e(n))}function Dw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Ju(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function YM(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function QM(t,e,n){let r=Va(t,e);return r>=0?t[r|1]=n:(r=~r,YM(t,r,e,n)),r}function xh(t,e){let n=Va(t,e);if(n>=0)return t[n|1]}function Va(t,e){return ZM(t,e,1)}function ZM(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var gs={},On=[],ci=new Y(""),xw=new Y("",-1),_w=new Y(""),ec=class{get(e,n=Ia){if(n===Ia){let r=new Error(`NullInjectorError: No provider for ${Qt(e)}!`);throw r.name="NullInjectorError",r}return n}};function Sw(t,e){let n=t[kM]||null;if(!n&&e===!0)throw new Error(`Type ${Qt(t)} does not have '\u0275mod' property.`);return n}function di(t){return t[AM]||null}function Fp(t){return t[NM]||null}function Pp(t){return t[RM]||null}function Mw(t){let e=di(t)||Fp(t)||Pp(t);return e!==null&&e.standalone}function gi(t){return{\u0275providers:t}}function XM(...t){return{\u0275providers:Lp(!0,t),\u0275fromNgModule:!0}}function Lp(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Op(e,s=>{let a=s;Hh(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Tw(i,o),n}function Tw(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Vp(i,o=>{e(o,r)})}}function Hh(t,e,n,r){if(t=Yt(t),!t)return!1;let i=null,o=vy(t),s=!o&&di(t);if(!o&&!s){let l=t.ngModule;if(o=vy(l),o)i=l;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of l)Hh(u,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let u;try{Op(o.imports,c=>{Hh(c,e,n,r)&&(u||=[],u.push(c))})}finally{}u!==void 0&&Tw(u,e)}if(!a){let u=ps(i)||(()=>new i);e({provide:i,useFactory:u,deps:On},i),e({provide:_w,useValue:i,multi:!0},i),e({provide:ci,useValue:()=>me(i),multi:!0},i)}let l=o.providers;if(l!=null&&!a){let u=t;Vp(l,c=>{e(c,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Vp(t,e){for(let n of t)yw(n)&&(n=n.\u0275providers),Array.isArray(n)?Vp(n,e):e(n)}var KM=Ye({provide:String,useValue:Ye});function Iw(t){return t!==null&&typeof t=="object"&&KM in t}function JM(t){return!!(t&&t.useExisting)}function eT(t){return!!(t&&t.useFactory)}function ms(t){return typeof t=="function"}function tT(t){return!!t.useClass}var Sc=new Y(""),Gu={},nT={},_h;function Up(){return _h===void 0&&(_h=new ec),_h}var Zt=class{},Aa=class extends Zt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,$h(e,s=>this.processProvider(s)),this.records.set(xw,is(void 0,this)),i.has("environment")&&this.records.set(Zt,is(void 0,this));let o=this.records.get(Sc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(_w,On,Re.Self))}destroy(){Sa(this),this._destroyed=!0;let e=Pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Pe(e)}}onDestroy(e){return Sa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Sa(this);let n=li(this),r=kn(void 0),i;try{return e()}finally{li(n),kn(r)}}get(e,n=Ia,r=Re.Default){if(Sa(this),e.hasOwnProperty(wy))return e[wy](this);r=_c(r);let i,o=li(this),s=kn(void 0);try{if(!(r&Re.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=aT(e)&&xc(e);u&&this.injectableDefInScope(u)?l=is(Gh(e),Gu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&Re.Self?Up():this.parent;return n=r&Re.Optional&&n===Ia?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Ku]=a[Ku]||[]).unshift(Qt(e)),o)throw a;return GM(a,e,"R3InjectorError",this.source)}else throw a}finally{kn(s),li(o)}}resolveInjectorInitializers(){let e=Pe(null),n=li(this),r=kn(void 0),i;try{let o=this.get(ci,On,Re.Self);for(let s of o)s()}finally{li(n),kn(r),Pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Qt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=Yt(e);let n=ms(e)?e:Yt(e&&e.provide),r=iT(e);if(!ms(e)&&e.multi===!0){let i=this.records.get(n);i||(i=is(void 0,Gu,!0),i.factory=()=>jh(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Pe(null);try{return n.value===Gu&&(n.value=nT,n.value=n.factory()),typeof n.value=="object"&&n.value&&sT(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Yt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Gh(t){let e=xc(t),n=e!==null?e.factory:ps(t);if(n!==null)return n;if(t instanceof Y)throw new Q(204,!1);if(t instanceof Function)return rT(t);throw new Q(204,!1)}function rT(t){if(t.length>0)throw new Q(204,!1);let n=TM(t);return n!==null?()=>n.factory(t):()=>new t}function iT(t){if(Iw(t))return is(void 0,t.useValue);{let e=Aw(t);return is(e,Gu)}}function Aw(t,e,n){let r;if(ms(t)){let i=Yt(t);return ps(i)||Gh(i)}else if(Iw(t))r=()=>Yt(t.useValue);else if(eT(t))r=()=>t.useFactory(...jh(t.deps||[]));else if(JM(t))r=()=>me(Yt(t.useExisting));else{let i=Yt(t&&(t.useClass||t.provide));if(oT(t))r=()=>new i(...jh(t.deps));else return ps(i)||Gh(i)}return r}function Sa(t){if(t.destroyed)throw new Q(205,!1)}function is(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function oT(t){return!!t.deps}function sT(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function aT(t){return typeof t=="function"||typeof t=="object"&&t instanceof Y}function $h(t,e){for(let n of t)Array.isArray(n)?$h(n,e):n&&yw(n)?$h(n.\u0275providers,e):e(n)}function Dn(t,e){t instanceof Aa&&Sa(t);let n,r=li(t),i=kn(void 0);try{return e()}finally{li(r),kn(i)}}function Nw(){return ww()!==void 0||BM()!=null}function lT(t){if(!Nw())throw new Q(-203,!1)}function uT(t){return typeof t=="function"}var Cn=0,ge=1,be=2,Ot=3,qn=4,Zn=5,dr=6,tc=7,Pn=8,fi=9,Rr=10,Ke=11,Na=12,Cy=13,xs=14,Ln=15,Xi=16,os=17,kr=18,Mc=19,Rw=20,ui=21,Sh=22,nc=23,bn=24,At=25,kw=1,Ki=6,Or=7,rc=8,vs=9,rn=10;function Yn(t){return Array.isArray(t)&&typeof t[kw]=="object"}function pr(t){return Array.isArray(t)&&t[kw]===!0}function Bp(t){return(t.flags&4)!==0}function mi(t){return t.componentOffset>-1}function Tc(t){return(t.flags&1)===1}function Fr(t){return!!t.template}function Ra(t){return(t[be]&512)!==0}function _s(t){return(t[be]&256)===256}var zh=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ow(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var ao=(()=>{let t=()=>Fw;return t.ngInherit=!0,t})();function Fw(t){return t.type.prototype.ngOnChanges&&(t.setInput=dT),cT}function cT(){let t=Lw(this),e=t?.current;if(e){let n=t.previous;if(n===gs)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function dT(t,e,n,r,i){let o=this.declaredInputs[r],s=Lw(t)||fT(t,{previous:gs,current:null}),a=s.current||(s.current={}),l=s.previous,u=l[o];a[o]=new zh(u&&u.currentValue,n,l===gs),Ow(t,e,i,n)}var Pw="__ngSimpleChanges__";function Lw(t){return t[Pw]||null}function fT(t,e){return t[Pw]=e}var Ey=null;var Fn=function(t,e,n){Ey?.(t,e,n)},Vw="svg",hT="math";function Qn(t){for(;Array.isArray(t);)t=t[Cn];return t}function Uw(t,e){return Qn(e[t])}function Vn(t,e){return Qn(e[t.index])}function Ic(t,e){return t.data[e]}function pT(t,e){return t[e]}function fr(t,e){let n=e[t];return Yn(n)?n:n[Cn]}function gT(t){return(t[be]&4)===4}function jp(t){return(t[be]&128)===128}function mT(t){return pr(t[Ot])}function ys(t,e){return e==null?null:t[e]}function Bw(t){t[os]=0}function Hp(t){t[be]&1024||(t[be]|=1024,jp(t)&&Nc(t))}function vT(t,e){for(;t>0;)e=e[xs],t--;return e}function Ac(t){return!!(t[be]&9216||t[bn]?.dirty)}function Wh(t){t[Rr].changeDetectionScheduler?.notify(9),t[be]&64&&(t[be]|=1024),Ac(t)&&Nc(t)}function Nc(t){t[Rr].changeDetectionScheduler?.notify(0);let e=Ji(t);for(;e!==null&&!(e[be]&8192||(e[be]|=8192,!jp(e)));)e=Ji(e)}function jw(t,e){if(_s(t))throw new Q(911,!1);t[ui]===null&&(t[ui]=[]),t[ui].push(e)}function yT(t,e){if(t[ui]===null)return;let n=t[ui].indexOf(e);n!==-1&&t[ui].splice(n,1)}function Ji(t){let e=t[Ot];return pr(e)?e[Ot]:e}function Hw(t){return t[tc]??=[]}function Gw(t){return t.cleanup??=[]}function wT(t,e,n,r){let i=Hw(e);i.push(n),t.firstCreatePass&&Gw(t).push(r,i.length-1)}var De={lFrame:Kw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var qh=!1;function bT(){return De.lFrame.elementDepthCount}function CT(){De.lFrame.elementDepthCount++}function ET(){De.lFrame.elementDepthCount--}function $w(){return De.bindingsEnabled}function Ua(){return De.skipHydrationRootTNode!==null}function DT(t){return De.skipHydrationRootTNode===t}function xT(t){De.skipHydrationRootTNode=t}function _T(){De.skipHydrationRootTNode=null}function He(){return De.lFrame.lView}function Ft(){return De.lFrame.tView}function G(t){return De.lFrame.contextLView=t,t[Pn]}function $(t){return De.lFrame.contextLView=null,t}function xn(){let t=zw();for(;t!==null&&t.type===64;)t=t.parent;return t}function zw(){return De.lFrame.currentTNode}function ST(){let t=De.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function lo(t,e){let n=De.lFrame;n.currentTNode=t,n.isParent=e}function Gp(){return De.lFrame.isParent}function Ww(){De.lFrame.isParent=!1}function MT(){return De.lFrame.contextLView}function qw(){return qh}function Dy(t){let e=qh;return qh=t,e}function TT(){return De.lFrame.bindingIndex}function IT(t){return De.lFrame.bindingIndex=t}function Rc(){return De.lFrame.bindingIndex++}function Yw(t){let e=De.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function AT(){return De.lFrame.inI18n}function NT(t,e){let n=De.lFrame;n.bindingIndex=n.bindingRootIndex=t,Yh(e)}function RT(){return De.lFrame.currentDirectiveIndex}function Yh(t){De.lFrame.currentDirectiveIndex=t}function kT(t){let e=De.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function Qw(){return De.lFrame.currentQueryIndex}function $p(t){De.lFrame.currentQueryIndex=t}function OT(t){let e=t[ge];return e.type===2?e.declTNode:e.type===1?t[Zn]:null}function Zw(t,e,n){if(n&Re.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&Re.Host);)if(i=OT(o),i===null||(o=o[xs],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=De.lFrame=Xw();return r.currentTNode=e,r.lView=t,!0}function zp(t){let e=Xw(),n=t[ge];De.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Xw(){let t=De.lFrame,e=t===null?null:t.child;return e===null?Kw(t):e}function Kw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Jw(){let t=De.lFrame;return De.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var eb=Jw;function Wp(){let t=Jw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function FT(t){return(De.lFrame.contextLView=vT(t,De.lFrame.contextLView))[Pn]}function uo(){return De.lFrame.selectedIndex}function eo(t){De.lFrame.selectedIndex=t}function kc(){let t=De.lFrame;return Ic(t.tView,t.selectedIndex)}function st(){De.lFrame.currentNamespace=Vw}function gr(){PT()}function PT(){De.lFrame.currentNamespace=null}function tb(){return De.lFrame.currentNamespace}var nb=!0;function Oc(){return nb}function vi(t){nb=t}function LT(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Fw(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Fc(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:c}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),c!=null&&(t.destroyHooks??=[]).push(n,c)}}function $u(t,e,n){rb(t,e,3,n)}function zu(t,e,n,r){(t[be]&3)===n&&rb(t,e,n,r)}function Mh(t,e){let n=t[be];(n&3)===e&&(n&=16383,n+=1,t[be]=n)}function rb(t,e,n,r){let i=r!==void 0?t[os]&65535:0,o=r??-1,s=e.length-1,a=0;for(let l=i;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[os]+=65536),(a<o||o==-1)&&(VT(t,n,e,l),t[os]=(t[os]&4294901760)+l+2),l++}function xy(t,e){Fn(4,t,e);let n=Pe(null);try{e.call(t)}finally{Pe(n),Fn(5,t,e)}}function VT(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[be]>>14<t[os]>>16&&(t[be]&3)===e&&(t[be]+=16384,xy(a,o)):xy(a,o)}var cs=-1,to=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function UT(t){return t instanceof to}function BT(t){return(t.flags&8)!==0}function jT(t){return(t.flags&16)!==0}function HT(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];$T(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function GT(t){return t===3||t===4||t===6}function $T(t){return t.charCodeAt(0)===64}function ws(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?_y(t,n,i,null,e[++r]):_y(t,n,i,null,null))}}return t}function _y(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Th={},ds=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=_c(r);let i=this.injector.get(e,Th,r);return i!==Th||n===Th?i:this.parentInjector.get(e,n,r)}};function ib(t){return t!==cs}function ic(t){return t&32767}function zT(t){return t>>16}function oc(t,e){let n=zT(t),r=e;for(;n>0;)r=r[xs],n--;return r}var Qh=!0;function Sy(t){let e=Qh;return Qh=t,e}var WT=256,ob=WT-1,sb=5,qT=0,cr={};function YT(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ta)&&(r=n[Ta]),r==null&&(r=n[Ta]=qT++);let i=r&ob,o=1<<i;e.data[t+(i>>sb)]|=o}function sc(t,e){let n=ab(t,e);if(n!==-1)return n;let r=e[ge];r.firstCreatePass&&(t.injectorIndex=e.length,Ih(r.data,t),Ih(e,null),Ih(r.blueprint,null));let i=qp(t,e),o=t.injectorIndex;if(ib(i)){let s=ic(i),a=oc(i,e),l=a[ge].data;for(let u=0;u<8;u++)e[o+u]=a[s+u]|l[s+u]}return e[o+8]=i,o}function Ih(t,e){t.push(0,0,0,0,0,0,0,0,e)}function ab(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function qp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=fb(i),r===null)return cs;if(n++,i=i[xs],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return cs}function Zh(t,e,n){YT(t,e,n)}function lb(t,e,n){if(n&Re.Optional||t!==void 0)return t;kp(e,"NodeInjector")}function ub(t,e,n,r){if(n&Re.Optional&&r===void 0&&(r=null),!(n&(Re.Self|Re.Host))){let i=t[fi],o=kn(void 0);try{return i?i.get(e,r,n&Re.Optional):bw(e,r,n&Re.Optional)}finally{kn(o)}}return lb(r,e,n)}function cb(t,e,n,r=Re.Default,i){if(t!==null){if(e[be]&2048&&!(r&Re.Self)){let s=KT(t,e,n,r,cr);if(s!==cr)return s}let o=db(t,e,n,r,cr);if(o!==cr)return o}return ub(e,n,r,i)}function db(t,e,n,r,i){let o=ZT(n);if(typeof o=="function"){if(!Zw(e,t,r))return r&Re.Host?lb(i,n,r):ub(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&Re.Optional))kp(n);else return s}finally{eb()}}else if(typeof o=="number"){let s=null,a=ab(t,e),l=cs,u=r&Re.Host?e[Ln][Zn]:null;for((a===-1||r&Re.SkipSelf)&&(l=a===-1?qp(t,e):e[a+8],l===cs||!Ty(r,!1)?a=-1:(s=e[ge],a=ic(l),e=oc(l,e)));a!==-1;){let c=e[ge];if(My(o,a,c.data)){let d=QT(a,e,n,s,r,u);if(d!==cr)return d}l=e[a+8],l!==cs&&Ty(r,e[ge].data[a+8]===u)&&My(o,a,e)?(s=c,a=ic(l),e=oc(l,e)):a=-1}}return i}function QT(t,e,n,r,i,o){let s=e[ge],a=s.data[t+8],l=r==null?mi(a)&&Qh:r!=s&&(a.type&3)!==0,u=i&Re.Host&&o===a,c=Wu(a,s,n,l,u);return c!==null?ka(e,s,c,a):cr}function Wu(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,u=t.directiveEnd,c=o>>20,d=r?a:a+c,f=i?a+c:u;for(let h=d;h<f;h++){let v=s[h];if(h<l&&n===v||h>=l&&v.type===n)return h}if(i){let h=s[l];if(h&&Fr(h)&&h.type===n)return l}return null}function ka(t,e,n,r){let i=t[n],o=e.data;if(UT(i)){let s=i;s.resolving&&FM(OM(o[n]));let a=Sy(s.canSeeViewProviders);s.resolving=!0;let l,u=s.injectImpl?kn(s.injectImpl):null,c=Zw(t,r,Re.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&LT(n,o[n],e)}finally{u!==null&&kn(u),Sy(a),s.resolving=!1,eb()}}return i}function ZT(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ta)?t[Ta]:void 0;return typeof e=="number"?e>=0?e&ob:XT:e}function My(t,e,n){let r=1<<t;return!!(n[e+(t>>sb)]&r)}function Ty(t,e){return!(t&Re.Self)&&!(t&Re.Host&&e)}var Zi=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return cb(this._tNode,this._lView,e,_c(r),n)}};function XT(){return new Zi(xn(),He())}function Un(t){return La(()=>{let e=t.prototype.constructor,n=e[Xu]||Xh(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Xu]||Xh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Xh(t){return pw(t)?()=>{let e=Xh(Yt(t));return e&&e()}:ps(t)}function KT(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[be]&2048&&!Ra(s);){let a=db(o,s,n,r|Re.Self,cr);if(a!==cr)return a;let l=o.parent;if(!l){let u=s[Rw];if(u){let c=u.get(n,cr,r);if(c!==cr)return c}l=fb(s),s=s[xs]}o=l}return i}function fb(t){let e=t[ge],n=e.type;return n===2?e.declTNode:n===1?t[Zn]:null}function Iy(t,e=null,n=null,r){let i=hb(t,e,n,r);return i.resolveInjectorInitializers(),i}function hb(t,e=null,n=null,r,i=new Set){let o=[n||On,XM(t)];return r=r||(typeof t=="object"?void 0:Qt(t)),new Aa(o,e||Up(),r||null,i)}var on=class t{static THROW_IF_NOT_FOUND=Ia;static NULL=new ec;static create(e,n){if(Array.isArray(e))return Iy({name:""},n,e,"");{let r=e.name??"";return Iy({name:r},e.parent,e.providers,r)}}static \u0275prov=re({token:t,providedIn:"any",factory:()=>me(xw)});static __NG_ELEMENT_ID__=-1};var JT=new Y("");JT.__NG_ELEMENT_ID__=t=>{let e=xn();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(t&Re.Optional)return null;throw new Q(204,!1)};var pb=!1,Ba=(()=>{class t{static __NG_ELEMENT_ID__=eI;static __NG_ENV_ID__=n=>n}return t})(),Kh=class extends Ba{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return jw(this._lView,e),()=>yT(this._lView,e)}};function eI(){return new Kh(He())}var bs=class{},Pc=new Y("",{providedIn:"root",factory:()=>!1});var gb=new Y(""),mb=new Y(""),mr=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new Lt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=re({token:t,providedIn:"root",factory:()=>new t})}return t})();var Jh=class extends Mt{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Nw()&&(this.destroyRef=A(Ba,{optional:!0})??void 0,this.pendingTasks=A(mr,{optional:!0})??void 0)}emit(e){let n=Pe(null);try{super.next(e)}finally{Pe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof yt&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},bt=Jh;function ac(...t){}function vb(t){let e,n;function r(){t=ac;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Ay(t){return queueMicrotask(()=>t()),()=>{t=ac}}var Yp="isAngularZone",lc=Yp+"_ID",tI=0,Ct=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new bt(!1);onMicrotaskEmpty=new bt(!1);onStable=new bt(!1);onError=new bt(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=pb}=e;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,iI(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Yp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,nI,ac,ac);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},nI={};function Qp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function rI(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){vb(()=>{t.callbackScheduled=!1,ep(t),t.isCheckStableRunning=!0,Qp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),ep(t)}function iI(t){let e=()=>{rI(t)},n=tI++;t._inner=t._inner.fork({name:"angular",properties:{[Yp]:!0,[lc]:n,[lc+n]:!0},onInvokeTask:(r,i,o,s,a,l)=>{if(oI(l))return r.invokeTask(o,s,a,l);try{return Ny(t),r.invokeTask(o,s,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Ry(t)}},onInvoke:(r,i,o,s,a,l,u)=>{try{return Ny(t),r.invoke(o,s,a,l,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!sI(l)&&e(),Ry(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,ep(t),Qp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function ep(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Ny(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Ry(t){t._nesting--,Qp(t)}var tp=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new bt;onMicrotaskEmpty=new bt;onStable=new bt;onError=new bt;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function oI(t){return yb(t,"__ignore_ng_zone__")}function sI(t){return yb(t,"__scheduler_tick__")}function yb(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Pr=class{_console=console;handleError(e){this._console.error("ERROR",e)}},aI=new Y("",{providedIn:"root",factory:()=>{let t=A(Ct),e=A(Pr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function ky(t,e){return fw(t,e)}function lI(t){return fw(dw,t)}var wb=(ky.required=lI,ky);function uI(){return Ss(xn(),He())}function Ss(t,e){return new Gt(Vn(t,e))}var Gt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=uI}return t})();function cI(t){return t instanceof Gt?t.nativeElement:t}var Oy=new Set;function vr(t){Oy.has(t)||(Oy.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function dI(t){return typeof t=="function"&&t[pn]!==void 0}function $t(t,e){vr("NgSignals");let n=_0(t),r=n[pn];return e?.equal&&(r.equal=e.equal),n.set=i=>lu(r,i),n.update=i=>S0(r,i),n.asReadonly=fI.bind(n),n}function fI(){let t=this[pn];if(t.readonlyFn===void 0){let e=()=>this();e[pn]=t,t.readonlyFn=e}return t.readonlyFn}function bb(t){return dI(t)&&typeof t.set=="function"}function hI(){return this._results[Symbol.iterator]()}var np=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Mt}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=qM(e);(this._changesDetected=!WM(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=hI},pI="ngSkipHydration",gI="ngskiphydration";function Cb(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===gI)return!0}return!1}function Eb(t){return t.hasAttribute(pI)}function uc(t){return(t.flags&128)===128}function mI(t){if(uc(t))return!0;let e=t.parent;for(;e;){if(uc(t)||Cb(e))return!0;e=e.parent}return!1}var Db=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Db||{}),xb=new Map,vI=0;function yI(){return vI++}function wI(t){xb.set(t[Mc],t)}function rp(t){xb.delete(t[Mc])}var Fy="__ngContext__";function co(t,e){Yn(e)?(t[Fy]=e[Mc],wI(e)):t[Fy]=e}function _b(t){return Mb(t[Na])}function Sb(t){return Mb(t[qn])}function Mb(t){for(;t!==null&&!pr(t);)t=t[qn];return t}var ip;function Tb(t){ip=t}function Lc(){if(ip!==void 0)return ip;if(typeof document<"u")return document;throw new Q(210,!1)}var no=new Y("",{providedIn:"root",factory:()=>bI}),bI="ng",Zp=new Y(""),Ur=new Y("",{providedIn:"platform",factory:()=>"unknown"});var Xp=new Y("",{providedIn:"root",factory:()=>Lc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function CI(){let t=new fo;return A(Ur)==="browser"&&(t.store=EI(Lc(),A(no))),t}var fo=(()=>{class t{static \u0275prov=re({token:t,providedIn:"root",factory:CI});store={};onSerializeCallbacks={};get(n,r){return this.store[n]!==void 0?this.store[n]:r}set(n,r){this.store[n]=r}remove(n){delete this.store[n]}hasKey(n){return this.store.hasOwnProperty(n)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(n,r){this.onSerializeCallbacks[n]=r}toJson(){for(let n in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(n))try{this.store[n]=this.onSerializeCallbacks[n]()}catch(r){console.warn("Exception in onSerialize callback: ",r)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}}return t})();function EI(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var Ib="h",Ab="b",DI="f",xI="n",_I="e",SI="t",Kp="c",Nb="x",cc="r",MI="i",TI="n",Rb="d";var II="di",AI="s",NI="p";var Uu=new Y(""),kb=!1,Ob=new Y("",{providedIn:"root",factory:()=>kb});var Fb=new Y(""),RI=!1,kI=new Y(""),Py=new Y("",{providedIn:"root",factory:()=>new Map}),Jp=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(Jp||{}),Ms=new Y("");var ss=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(ss||{}),Pb=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=re({token:t,providedIn:"root",factory:()=>new t})}return t})(),OI=[ss.EarlyRead,ss.Write,ss.MixedReadWrite,ss.Read],FI=(()=>{class t{ngZone=A(Ct);scheduler=A(bs);errorHandler=A(Pr,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){A(Ms,{optional:!0})}execute(){this.executing=!0;for(let n of OI)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[n]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>r.hooks[n](r.pipelinedValue),r.snapshot))}catch(i){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(i)}this.executing=!1;for(let n of this.sequences)n.afterRun(),n.once&&(this.sequences.delete(n),n.destroy());for(let n of this.deferredRegistrations)this.sequences.add(n);this.deferredRegistrations.size>0&&this.scheduler.notify(8),this.deferredRegistrations.clear()}register(n){this.executing?this.deferredRegistrations.add(n):(this.sequences.add(n),this.scheduler.notify(7))}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Jp.AFTER_NEXT_RENDER,n):n()}static \u0275prov=re({token:t,providedIn:"root",factory:()=>new t})}return t})(),op=class{impl;hooks;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,n,r,i,o=null){this.impl=e,this.hooks=n,this.once=r,this.snapshot=o,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function eg(t,e){!e?.injector&&lT(eg);let n=e?.injector??A(on);return vr("NgAfterNextRender"),LI(t,n,e,!0)}function PI(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function LI(t,e,n,r){let i=e.get(Pb);i.impl??=e.get(FI);let o=e.get(Ms,null,{optional:!0}),s=n?.phase??ss.MixedReadWrite,a=n?.manualCleanup!==!0?e.get(Ba):null,l=new op(i.impl,PI(t,s),r,a,o?.snapshot(null));return i.impl.register(l),l}var wn=function(t){return t[t.NOT_STARTED=0]="NOT_STARTED",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETE=2]="COMPLETE",t[t.FAILED=3]="FAILED",t}(wn||{}),Ly=0,VI=1,kt=function(t){return t[t.Placeholder=0]="Placeholder",t[t.Loading=1]="Loading",t[t.Complete=2]="Complete",t[t.Error=3]="Error",t}(kt||{});var UI=0,tg=1;var BI=4,jI=5;var HI=7,fs=8,GI=9,Lb=function(t){return t[t.Manual=0]="Manual",t[t.Playthrough=1]="Playthrough",t}(Lb||{});function qu(t,e){let n=zI(t),r=e[n];if(r!==null){for(let i of r)i();e[n]=null}}function $I(t){qu(1,t),qu(0,t),qu(2,t)}function zI(t){let e=BI;return t===1?e=jI:t===2&&(e=GI),e}function Vb(t){return t+1}function Vc(t,e){let n=t[ge],r=Vb(e.index);return t[r]}function Uc(t,e){let n=Vb(e.index);return t.data[n]}function WI(t,e,n){let r=e[ge],i=Uc(r,n);switch(t){case kt.Complete:return i.primaryTmplIndex;case kt.Loading:return i.loadingTmplIndex;case kt.Error:return i.errorTmplIndex;case kt.Placeholder:return i.placeholderTmplIndex;default:return null}}function Vy(t,e){return e===kt.Placeholder?t.placeholderBlockConfig?.[Ly]??null:e===kt.Loading?t.loadingBlockConfig?.[Ly]??null:null}function qI(t){return t.loadingBlockConfig?.[VI]??null}function Uy(t,e){if(!t||t.length===0)return e;let n=new Set(t);for(let r of e)n.add(r);return t.length===n.size?t:Array.from(n)}function YI(t,e){let n=e.primaryTmplIndex+At;return Ic(t,n)}var Bc="ngb";var QI=(t,e,n)=>{let r=t,i=r.__jsaction_fns??new Map,o=i.get(e)??[];o.push(n),i.set(e,o),r.__jsaction_fns=i},ZI=(t,e)=>{let n=t.getAttribute(Bc)??"",r=t,i=e.get(n)??new Set;i.has(r)||i.add(r),e.set(n,i)};var XI=t=>{t.removeAttribute(yh.JSACTION),t.removeAttribute(Bc),t.__jsaction_fns=void 0},KI=new Y("",{providedIn:"root",factory:()=>({})});function Ub(t,e){let n=e?.__jsaction_fns?.get(t.type);if(n)for(let r of n)r(t)}var Bb=new Y("");var JI="__nghData__",jb=JI,eA="__nghDeferData__",tA=eA,Ah="ngh",nA="nghm",Hb=()=>null;function rA(t,e,n=!1){let r=t.getAttribute(Ah);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,l={};if(r!==""){let c=e.get(fo,null,{optional:!0});c!==null&&(l=c.get(jb,[])[Number(r)])}let u={data:l,firstChild:t.firstChild??null};return n&&(u.firstChild=t,jc(u,0,t.nextSibling)),a?t.setAttribute(Ah,a):t.removeAttribute(Ah),u}function iA(){Hb=rA}function Gb(t,e,n=!1){return Hb(t,e,n)}function oA(t){let e=t._lView;return e[ge].type===2?null:(Ra(e)&&(e=e[At]),e)}function sA(t){return t.textContent?.replace(/\s/gm,"")}function aA(t){let e=Lc(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=sA(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function jc(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function sp(t,e){return t.segmentHeads?.[e]??null}function lA(t){return t.get(kI,!1,{optional:!0})}function uA(t,e){let n=t.data,r=n[_I]?.[e]??null;return r===null&&n[Kp]?.[e]&&(r=ng(t,e)),r}function $b(t,e){return t.data[Kp]?.[e]??null}function ng(t,e){let n=$b(t,e)??[],r=0;for(let i of n)r+=i[cc]*(i[Nb]??1);return r}function cA(t){if(typeof t.disconnectedNodes>"u"){let e=t.data[Rb];t.disconnectedNodes=e?new Set(e):null}return t.disconnectedNodes}function ja(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[Rb];t.disconnectedNodes=n?new Set(n):null}return!!cA(t)?.has(e)}function dA(t,e){let n=e.get(Bb),i=e.get(fo).get(tA,{}),o=!1,s=t,a=null,l=[];for(;!o&&s;){o=n.has(s);let u=n.hydrating.get(s);if(a===null&&u!=null){a=u.promise;break}l.unshift(s),s=i[s][NI]}return{parentBlockPromise:a,hydrationQueue:l}}function zb(t,e){let n=t.contentQueries;if(n!==null){let r=Pe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];$p(o),a.contentQueries(2,e[s],s)}}}finally{Pe(r)}}}function ap(t,e,n){$p(0);let r=Pe(null);try{e(t,n)}finally{Pe(r)}}function rg(t,e,n){if(Bp(e)){let r=Pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{Pe(r)}}}var hr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(hr||{});var dc=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${cw})`}};function Hc(t){return t instanceof dc?t.changingThisBreaksApplicationSecurity:t}function Wb(t,e){let n=fA(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${cw})`)}return n===e}function fA(t){return t instanceof dc&&t.getTypeName()||null}var hA=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qb(t){return t=String(t),t.match(hA)?t:"unsafe:"+t}var ig=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(ig||{});function Yb(t){let e=pA();return e?e.sanitize(ig.URL,t)||"":Wb(t,"URL")?Hc(t):qb(hs(t))}function pA(){let t=He();return t&&t[Rr].sanitizer}var gA=/^>|^->|<!--|-->|--!>|<!-$/g,mA=/(<|>)/g,vA="\u200B$1\u200B";function yA(t){return t.replace(gA,e=>e.replace(mA,vA))}function Qb(t){return t.ownerDocument.defaultView}function wA(t){return t.ownerDocument.body}function Zb(t){return t instanceof Function?t():t}var hi=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(hi||{});function bA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}var Xb="ng-template";function CA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&bA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(og(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function og(t){return t.type===4&&t.value!==Xb}function EA(t,e,n){let r=t.type===4&&!n?Xb:t.value;return e===r}function DA(t,e,n){let r=4,i=t.attrs,o=i!==null?SA(i):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Wn(r)&&!Wn(l))return!1;if(s&&Wn(l))continue;s=!1,r=l|r&1;continue}if(!s)if(r&4){if(r=2|r&1,l!==""&&!EA(t,l,n)||l===""&&e.length===1){if(Wn(r))return!1;s=!0}}else if(r&8){if(i===null||!CA(t,i,l,n)){if(Wn(r))return!1;s=!0}}else{let u=e[++a],c=xA(l,i,og(t),n);if(c===-1){if(Wn(r))return!1;s=!0;continue}if(u!==""){let d;if(c>o?d="":d=i[c+1].toLowerCase(),r&2&&u!==d){if(Wn(r))return!1;s=!0}}}}return Wn(r)||s}function Wn(t){return(t&1)===0}function xA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return MA(e,t)}function _A(t,e,n=!1){for(let r=0;r<e.length;r++)if(DA(t,e[r],n))return!0;return!1}function SA(t){for(let e=0;e<t.length;e++){let n=t[e];if(GT(n))return e}return t.length}function MA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function By(t,e){return t?":not("+e.trim()+")":e}function TA(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Wn(s)&&(e+=By(o,i),i=""),r=s,o=o||!Wn(r);n++}return i!==""&&(e+=By(o,i)),e}function IA(t){return t.map(TA).join(",")}function AA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Wn(i))break;i=o}r++}return n.length&&e.push(1,...n),e}var Br={};function Kb(t,e){return t.createText(e)}function NA(t,e,n){t.setValue(e,n)}function Jb(t,e){return t.createComment(yA(e))}function sg(t,e,n){return t.createElement(e,n)}function fc(t,e,n,r,i){t.insertBefore(e,n,r,i)}function eC(t,e,n){t.appendChild(e,n)}function jy(t,e,n,r,i){r!==null?fc(t,e,n,r,i):eC(t,e,n)}function ag(t,e,n){t.removeChild(null,e,n)}function tC(t){t.textContent=""}function RA(t,e,n){t.setAttribute(e,"style",n)}function kA(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function nC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&HT(t,e,r),i!==null&&kA(t,e,i),o!==null&&RA(t,e,o)}function N(t=1){rC(Ft(),He(),uo()+t,!1)}function rC(t,e,n,r){if(!r)if((e[be]&3)===3){let o=t.preOrderCheckHooks;o!==null&&$u(e,o,n)}else{let o=t.preOrderHooks;o!==null&&zu(e,o,0,n)}eo(n)}function Ae(t,e=Re.Default){let n=He();if(n===null)return me(t,e);let r=xn();return cb(r,n,Yt(t),e)}function iC(t,e,n,r,i,o){let s=Pe(null);try{let a=null;i&hi.SignalBased&&(a=e[r][pn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&hi.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Ow(e,a,r,o)}finally{Pe(s)}}function lg(t,e,n,r,i,o,s,a,l,u,c){let d=e.blueprint.slice();return d[Cn]=i,d[be]=r|4|128|8|64|1024,(u!==null||t&&t[be]&2048)&&(d[be]|=2048),Bw(d),d[Ot]=d[xs]=t,d[Pn]=n,d[Rr]=s||t&&t[Rr],d[Ke]=a||t&&t[Ke],d[fi]=l||t&&t[fi]||null,d[Zn]=o,d[Mc]=yI(),d[dr]=c,d[Rw]=u,d[Ln]=e.type==2?t[Ln]:d,d}function oC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function sC(t,e,n,r,i){let o=uo(),s=r&2;try{eo(-1),s&&e.length>At&&rC(t,e,At,!1),Fn(s?2:0,i),n(r,i)}finally{eo(o),Fn(s?3:1,i)}}function ug(t,e,n){$w()&&(co(Vn(n,e),e),aC(t,e,n))}function aC(t,e,n){zA(t,e,n),(n.flags&64)===64&&WA(t,e,n)}function cg(t,e,n=Vn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function OA(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=dg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function dg(t,e,n,r,i,o,s,a,l,u,c){let d=At+r,f=d+i,h=FA(d,f),v=typeof u=="function"?u():u;return h[ge]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:v,incompleteFirstPass:!1,ssrId:c}}function FA(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Br);return n}function PA(t,e,n,r){let o=r.get(Ob,kb)||n===hr.ShadowDom,s=t.selectRootElement(e,o);return LA(s),s}function LA(t){lC(t)}var lC=()=>null;function VA(t){Eb(t)?tC(t):aA(t)}function UA(){lC=VA}function Hy(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,l=hi.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let u=o;if(i!==null){if(!i.hasOwnProperty(o))continue;u=i[o]}t===0?Gy(r,n,u,a,l):Gy(r,n,u,a)}return r}function Gy(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function BA(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,u=null;for(let c=r;c<i;c++){let d=o[c],f=n?n.get(d):null,h=f?f.inputs:null,v=f?f.outputs:null;l=Hy(0,d.inputs,c,l,h),u=Hy(1,d.outputs,c,u,v);let y=l!==null&&s!==null&&!og(e)?oN(l,c,s):null;a.push(y)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function jA(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function fg(t,e,n,r,i,o,s,a){let l=Vn(e,n),u=e.inputs,c;!a&&u!=null&&(c=u[r])?(gg(t,n,c,r,i),mi(e)&&HA(n,e.index)):e.type&3?(r=jA(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(l,r,i)):e.type&12}function HA(t,e){let n=fr(e,t);n[be]&16||(n[be]|=64)}function hg(t,e,n,r){if($w()){let i=r===null?null:{"":-1},o=YA(t,n);if(o!==null){let[s,a]=cC(t,n,o);uC(t,e,n,s,i,a)}i&&ZA(n,r,i)}n.mergedAttrs=ws(n.mergedAttrs,n.attrs)}function uC(t,e,n,r,i,o){for(let u=0;u<r.length;u++)Zh(sc(n,e),t,r[u].type);KA(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let c=r[u];c.providersResolver&&c.providersResolver(c)}let s=!1,a=!1,l=oC(t,e,r.length,null);for(let u=0;u<r.length;u++){let c=r[u];n.mergedAttrs=ws(n.mergedAttrs,c.hostAttrs),JA(t,n,e,l,c),XA(l,c,i),c.contentQueries!==null&&(n.flags|=4),(c.hostBindings!==null||c.hostAttrs!==null||c.hostVars!==0)&&(n.flags|=64);let d=c.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}BA(t,n,o)}function GA(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;$A(s)!=a&&s.push(a),s.push(n,r,o)}}function $A(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function zA(t,e,n){let r=n.directiveStart,i=n.directiveEnd;mi(n)&&tN(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||sc(n,e);let o=n.initialInputs;for(let s=r;s<i;s++){let a=t.data[s],l=ka(e,t,s,n);if(co(l,e),o!==null&&iN(e,s-r,l,a,n,o),Fr(a)){let u=fr(n.index,e);u[Pn]=ka(e,t,s,n)}}}function WA(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=RT();try{eo(o);for(let a=r;a<i;a++){let l=t.data[a],u=e[a];Yh(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&qA(l,u)}}finally{eo(-1),Yh(s)}}function qA(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function YA(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];_A(e,o.selectors,!1)&&(r??=[],Fr(o)?r.unshift(o):r.push(o))}return r}function cC(t,e,n){let r=[],i=null;for(let o of n)o.findHostDirectiveDefs!==null&&(i??=new Map,o.findHostDirectiveDefs(o,r,i)),Fr(o)&&(r.push(o),QA(t,e,r.length-1));return mi(e)?r.push(...n.slice(1)):r.push(...n),[r,i]}function QA(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ZA(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new Q(-301,!1);r.push(e[i],o)}}}function XA(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Fr(e)&&(n[""]=t)}}function KA(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function JA(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ps(i.type,!0)),s=new to(o,Fr(i),Ae);t.blueprint[r]=s,n[r]=s,GA(t,e,r,oC(t,n,i.hostVars,Br),i)}function eN(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function tN(t,e,n){let r=Vn(e,t),i=OA(n),o=t[Rr].rendererFactory,s=pg(t,lg(t,i,null,eN(n),r,e,null,o.createRenderer(r,n),null,null,null));return t[e.index]=s}function nN(t,e,n,r,i,o){let s=Vn(t,e);rN(e[Ke],s,o,t.value,n,r,i)}function rN(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?hs(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function iN(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],u=s[a++],c=s[a++],d=s[a++];iC(r,n,l,u,c,d)}}function oN(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function dC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function pg(t,e){return t[Na]?t[Cy][qn]=e:t[Na]=e,t[Cy]=e,e}function Gc(t,e){let n=t[fi],r=n?n.get(Pr,null):null;r&&r.handleError(e)}function gg(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],u=e[s],c=t.data[s];iC(c,u,r,a,l,i)}}function sN(t,e){let n=fr(e,t),r=n[ge];aN(r,n);let i=n[Cn];i!==null&&n[dr]===null&&(n[dr]=Gb(i,n[fi])),mg(r,n,n[Pn])}function aN(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function mg(t,e,n){zp(e);try{let r=t.viewQuery;r!==null&&ap(1,r,n);let i=t.template;i!==null&&sC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[kr]?.finishViewCreation(t),t.staticContentQueries&&zb(t,e),t.staticViewQueries&&ap(2,t.viewQuery,n);let o=t.components;o!==null&&lN(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[be]&=-5,Wp()}}function lN(t,e){for(let n=0;n<e.length;n++)sN(t,e[n])}var Lr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Lr||{}),uN;function vg(t,e){return uN(t,e)}function Ts(t){return(t.flags&32)===32}function as(t,e,n,r,i){if(r!=null){let o,s=!1;pr(r)?o=r:Yn(r)&&(s=!0,r=r[Cn]);let a=Qn(r);t===0&&n!==null?i==null?eC(e,n,a):fc(e,n,a,i||null,!0):t===1&&n!==null?fc(e,n,a,i||null,!0):t===2?ag(e,a,s):t===3&&e.destroyNode(a),o!=null&&EN(e,t,o,n,i)}}function cN(t,e){fC(t,e),e[Cn]=null,e[Zn]=null}function dN(t,e,n,r,i,o){r[Cn]=i,r[Zn]=e,zc(t,r,n,1,i,o)}function fC(t,e){e[Rr].changeDetectionScheduler?.notify(10),zc(t,e,e[Ke],2,null,null)}function fN(t){let e=t[Na];if(!e)return Nh(t[ge],t);for(;e;){let n=null;if(Yn(e))n=e[Na];else{let r=e[rn];r&&(n=r)}if(!n){for(;e&&!e[qn]&&e!==t;)Yn(e)&&Nh(e[ge],e),e=e[Ot];e===null&&(e=t),Yn(e)&&Nh(e[ge],e),n=e&&e[qn]}e=n}}function hN(t,e,n,r){let i=rn+r,o=n.length;r>0&&(n[i-1][qn]=e),r<o-rn?(e[qn]=n[i],Dw(n,rn+r,e)):(n.push(e),e[qn]=null),e[Ot]=n;let s=e[Xi];s!==null&&n!==s&&hC(s,e);let a=e[kr];a!==null&&a.insertView(t),Wh(e),e[be]|=128}function hC(t,e){let n=t[vs],r=e[Ot];if(Yn(r))t[be]|=2;else{let i=r[Ot][Ln];e[Ln]!==i&&(t[be]|=2)}n===null?t[vs]=[e]:n.push(e)}function yg(t,e){let n=t[vs],r=n.indexOf(e);n.splice(r,1)}function hc(t,e){if(t.length<=rn)return;let n=rn+e,r=t[n];if(r){let i=r[Xi];i!==null&&i!==t&&yg(i,r),e>0&&(t[n-1][qn]=r[qn]);let o=Ju(t,rn+e);cN(r[ge],r);let s=o[kr];s!==null&&s.detachView(o[ge]),r[Ot]=null,r[qn]=null,r[be]&=-129}return r}function wg(t,e){if(_s(e))return;let n=e[Ke];n.destroyNode&&zc(t,e,n,3,null,null),fN(e)}function Nh(t,e){if(_s(e))return;let n=Pe(null);try{e[be]&=-129,e[be]|=256,e[bn]&&Zf(e[bn]),gN(t,e),pN(t,e),e[ge].type===1&&e[Ke].destroy();let r=e[Xi];if(r!==null&&pr(e[Ot])){r!==e[Ot]&&yg(r,e);let i=e[kr];i!==null&&i.detachView(t)}rp(e)}finally{Pe(n)}}function pN(t,e){let n=t.cleanup,r=e[tc];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let a=n[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[n[s+1]];n[s].call(a)}r!==null&&(e[tc]=null);let i=e[ui];if(i!==null){e[ui]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[nc];if(o!==null){e[nc]=null;for(let s of o)s.destroy()}}function gN(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof to)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],l=o[s+1];Fn(4,a,l);try{l.call(a)}finally{Fn(5,a,l)}}else{Fn(4,i,o);try{o.call(i)}finally{Fn(5,i,o)}}}}}function mN(t,e,n){return vN(t,e.parent,n)}function vN(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Cn];if(mi(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===hr.None||i===hr.Emulated)return null}return Vn(r,n)}function yN(t,e,n){return bN(t,e,n)}function wN(t,e,n){return t.type&40?Vn(t,n):null}var bN=wN,$y;function $c(t,e,n,r){let i=mN(t,r,e),o=e[Ke],s=r.parent||e[Zn],a=yN(s,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)jy(o,i,n[l],a,!1);else jy(o,i,n,a,!1);$y!==void 0&&$y(o,r,e,n,i)}function Ma(t,e){if(e!==null){let n=e.type;if(n&3)return Vn(e,t);if(n&4)return lp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ma(t,r);{let i=t[e.index];return pr(i)?lp(-1,i):Qn(i)}}else{if(n&128)return Ma(t,e.next);if(n&32)return vg(e,t)()||Qn(t[e.index]);{let r=pC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ji(t[Ln]);return Ma(i,r)}else return Ma(t,e.next)}}}return null}function pC(t,e){if(e!==null){let r=t[Ln][Zn],i=e.projection;return r.projection[i]}return null}function lp(t,e){let n=rn+t+1;if(n<e.length){let r=e[n],i=r[ge].firstChild;if(i!==null)return Ma(r,i)}return e[Or]}function bg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(s&&e===0&&(a&&co(Qn(a),r),n.flags|=2),!Ts(n))if(l&8)bg(t,e,n.child,r,i,o,!1),as(e,t,i,a,o);else if(l&32){let u=vg(n,r),c;for(;c=u();)as(e,t,i,c,o);as(e,t,i,a,o)}else l&16?CN(t,e,r,n,i,o):as(e,t,i,a,o);n=s?n.projectionNext:n.next}}function zc(t,e,n,r,i,o){bg(n,r,t.firstChild,e,i,o,!1)}function CN(t,e,n,r,i,o){let s=n[Ln],l=s[Zn].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let c=l[u];as(e,t,i,c,o)}else{let u=l,c=s[Ot];uc(r)&&(u.flags|=128),bg(t,e,u,c,i,o,!0)}}function EN(t,e,n,r,i){let o=n[Or],s=Qn(n);o!==s&&as(e,t,r,o,i);for(let a=rn;a<n.length;a++){let l=n[a];zc(l[ge],l,t,e,r,o)}}function DN(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Lr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Lr.Important),t.setStyle(n,r,i,o))}}function gC(t,e,n,r){let i=Pe(null);try{let o=e.tView,a=t[be]&4096?4096:16,l=lg(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];l[Xi]=u;let c=t[kr];return c!==null&&(l[kr]=c.createEmbeddedView(o)),mg(o,l,n),l}finally{Pe(i)}}function up(t,e){return!e||e.firstChild===null||uc(t)}function mC(t,e,n,r=!0){let i=e[ge];if(hN(i,e,t,n),r){let s=lp(n,t),a=e[Ke],l=a.parentNode(t[Or]);l!==null&&dN(i,t[Zn],a,e,l,s)}let o=e[dr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function xN(t,e){let n=hc(t,e);return n!==void 0&&wg(n[ge],n),n}function pc(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Qn(o)),pr(o)&&_N(o,r);let s=n.type;if(s&8)pc(t,e,n.child,r);else if(s&32){let a=vg(n,e),l;for(;l=a();)r.push(l)}else if(s&16){let a=pC(e,n);if(Array.isArray(a))r.push(...a);else{let l=Ji(e[Ln]);pc(l[ge],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function _N(t,e){for(let n=rn;n<t.length;n++){let r=t[n],i=r[ge].firstChild;i!==null&&pc(r[ge],r,i,e)}t[Or]!==t[Cn]&&e.push(t[Or])}var vC=[];function SN(t){return t[bn]??MN(t)}function MN(t){let e=vC.pop()??Object.create(IN);return e.lView=t,e}function TN(t){t.lView[bn]!==t&&(t.lView=null,vC.push(t))}var IN=Ie(U({},Ea),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{Nc(t.lView)},consumerOnSignalRead(){this.lView[bn]=this}});function AN(t){let e=t[bn]??Object.create(NN);return e.lView=t,e}var NN=Ie(U({},Ea),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=Ji(t.lView);for(;e&&!yC(e[ge]);)e=Ji(e);e&&Hp(e)},consumerOnSignalRead(){this.lView[bn]=this}});function yC(t){return t.type!==2}function wC(t){if(t[nc]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[nc])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[be]&8192)}}var RN=100;function bC(t,e=!0,n=0){let i=t[Rr].rendererFactory,o=!1;o||i.begin?.();try{kN(t,n)}catch(s){throw e&&Gc(t,s),s}finally{o||i.end?.()}}function kN(t,e){let n=qw();try{Dy(!0),cp(t,e);let r=0;for(;Ac(t);){if(r===RN)throw new Q(103,!1);r++,cp(t,1)}}finally{Dy(n)}}function ON(t,e,n,r){if(_s(e))return;let i=e[be],o=!1,s=!1;zp(e);let a=!0,l=null,u=null;o||(yC(t)?(u=SN(e),l=ou(u)):p0()===null?(a=!1,u=AN(e),l=ou(u)):e[bn]&&(Zf(e[bn]),e[bn]=null));try{Bw(e),IT(t.bindingStartIndex),n!==null&&sC(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let h=t.preOrderCheckHooks;h!==null&&$u(e,h,null)}else{let h=t.preOrderHooks;h!==null&&zu(e,h,0,null),Mh(e,0)}if(s||FN(e),wC(e),CC(e,0),t.contentQueries!==null&&zb(t,e),!o)if(c){let h=t.contentCheckHooks;h!==null&&$u(e,h)}else{let h=t.contentHooks;h!==null&&zu(e,h,1),Mh(e,1)}LN(t,e);let d=t.components;d!==null&&DC(e,d,0);let f=t.viewQuery;if(f!==null&&ap(2,f,r),!o)if(c){let h=t.viewCheckHooks;h!==null&&$u(e,h)}else{let h=t.viewHooks;h!==null&&zu(e,h,2),Mh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Sh]){for(let h of e[Sh])h();e[Sh]=null}o||(e[be]&=-73)}catch(c){throw o||Nc(e),c}finally{u!==null&&(Yf(u,l),a&&TN(u)),Wp()}}function CC(t,e){for(let n=_b(t);n!==null;n=Sb(n))for(let r=rn;r<n.length;r++){let i=n[r];EC(i,e)}}function FN(t){for(let e=_b(t);e!==null;e=Sb(e)){if(!(e[be]&2))continue;let n=e[vs];for(let r=0;r<n.length;r++){let i=n[r];Hp(i)}}}function PN(t,e,n){let r=fr(e,t);EC(r,n)}function EC(t,e){jp(t)&&cp(t,e)}function cp(t,e){let r=t[ge],i=t[be],o=t[bn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Qf(o)),s||=!1,o&&(o.dirty=!1),t[be]&=-9217,s)ON(r,t,r.template,t[Pn]);else if(i&8192){wC(t),CC(t,1);let a=r.components;a!==null&&DC(t,a,1)}}function DC(t,e,n){for(let r=0;r<e.length;r++)PN(t,e[r],n)}function LN(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)eo(~i);else{let o=i,s=n[++r],a=n[++r];NT(s,o);let l=e[o];Fn(24,l),a(2,l),Fn(25,l)}}}finally{eo(-1)}}function Wc(t,e){let n=qw()?64:1088;for(t[Rr].changeDetectionScheduler?.notify(e);t;){t[be]|=n;let r=Ji(t);if(Ra(t)&&!r)return t;t=r}return null}var ro=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[ge];return pc(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[Pn]}get dirty(){return!!(this._lView[be]&9280)||!!this._lView[bn]?.dirty}set context(e){this._lView[Pn]=e}get destroyed(){return _s(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ot];if(pr(e)){let n=e[rc],r=n?n.indexOf(this):-1;r>-1&&(hc(e,r),Ju(n,r))}this._attachedToViewContainer=!1}wg(this._lView[ge],this._lView)}onDestroy(e){jw(this._lView,e)}markForCheck(){Wc(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Hp(this._cdRefInjectingView||this._lView)}detach(){this._lView[be]&=-129}reattach(){Wh(this._lView),this._lView[be]|=128}detectChanges(){this._lView[be]|=1024,bC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ra(this._lView),n=this._lView[Xi];n!==null&&!e&&yg(n,this._lView),fC(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let n=Ra(this._lView),r=this._lView[Xi];r!==null&&!n&&hC(r,this._lView),Wh(this._lView)}},io=(()=>{class t{static __NG_ELEMENT_ID__=BN}return t})(),VN=io,UN=class extends VN{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=gC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ro(i)}};function BN(){return qc(xn(),He())}function qc(t,e){return t.type&4?new UN(e,t,Ss(t,e)):null}function Ha(t,e,n,r,i){let o=t.data[e];if(o===null)o=jN(t,e,n,r,i),AT()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=ST();o.injectorIndex=s===null?-1:s.injectorIndex}return lo(o,!0),o}function jN(t,e,n,r,i){let o=zw(),s=Gp(),a=s?o:o&&o.parent,l=t.data[e]=GN(t,a,n,e,r,i);return HN(t,l,o,s),l}function HN(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function GN(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Ua()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var $N=new RegExp(`^(\\d+)*(${Ab}|${Ib})*(.*)`);function zN(t){let e=t.match($N),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[l,u,c]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(c,10)||1;a.push(u,d)}return[s,...a]}function WN(t){return!t.prev&&t.parent?.type===8}function Rh(t){return t.index-At}function qN(t,e){let n=t.i18nNodes;if(n)return n.get(e)}function Yc(t,e,n,r){let i=Rh(r),o=qN(t,i);if(o===void 0){let s=t.data[TI];if(s?.[i])o=QN(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,l=r.prev??r.parent;if(WN(r)){let u=Rh(r.parent);o=sp(t,u)}else{let u=Vn(l,n);if(a)o=u.firstChild;else{let c=Rh(l),d=sp(t,c);if(l.type===2&&d){let h=ng(t,c)+1;o=Qc(h,d)}else o=u.nextSibling}}}}return o}function Qc(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function YN(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case DI:n=n.firstChild;break;case xI:n=n.nextSibling;break}}return n}function QN(t,e){let[n,...r]=zN(t),i;if(n===Ib)i=e[Ln][Cn];else if(n===Ab)i=wA(e[Ln][Cn]);else{let o=Number(n);i=Qn(e[o+At])}return YN(i,r)}var ZN=!1;function XN(t){ZN=t}function KN(t){let e=t[dr];if(e){let{i18nNodes:n,dehydratedIcuData:r}=e;if(n&&r){let i=t[Ke];for(let o of r.values())JN(i,n,o)}e.i18nNodes=void 0,e.dehydratedIcuData=void 0}}function JN(t,e,n){for(let r of n.node.cases[n.case]){let i=e.get(r.index-At);i&&ag(t,i,!1)}}function xC(t){let e=t[Ki]??[],r=t[Ot][Ke],i=[];for(let o of e)o.data[II]!==void 0?i.push(o):eR(o,r);t[Ki]=i}function eR(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[cc];for(;n<i;){let o=r.nextSibling;ag(e,r,!1),r=o,n++}}}function Cg(t){xC(t);let e=t[Cn];Yn(e)&&gc(e);for(let n=rn;n<t.length;n++)gc(t[n])}function gc(t){KN(t);let e=t[ge];for(let n=At;n<e.bindingStartIndex;n++)if(pr(t[n])){let r=t[n];Cg(r)}else Yn(t[n])&&gc(t[n])}function _C(t){let e=t._views;for(let n of e){let r=oA(n);r!==null&&r[Cn]!==null&&(Yn(r)?gc(r):Cg(r))}}function tR(t,e,n,r){t!==null&&(n.cleanup(e),Cg(t.lContainer),_C(r))}function nR(t,e){let n=[];for(let r of e)for(let i=0;i<(r[Nb]??1);i++){let o={data:r,firstChild:null};r[cc]>0&&(o.firstChild=t,t=Qc(r[cc],t)),n.push(o)}return[t,n]}var SC=()=>null;function rR(t,e){let n=t[Ki];return!e||n===null||n.length===0?null:n[0].data[MI]===e?n.shift():(xC(t),null)}function iR(){SC=rR}function zy(t,e){return SC(t,e)}var dp=class{},mc=class{},fp=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Qt(e)}.`)}},Cs=class{static NULL=new fp},Es=class{},yi=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>oR()}return t})();function oR(){let t=He(),e=xn(),n=fr(e.index,t);return(Yn(n)?n:t)[Ke]}var sR=(()=>{class t{static \u0275prov=re({token:t,providedIn:"root",factory:()=>null})}return t})();function vc(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=gy(i,a);else if(o==2){let l=a,u=e[++s];r=gy(r,l+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var yc=class extends Cs{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=di(e);return new Oa(n,this.ngModule)}};function Wy(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:hi.None;e?n.push({propName:s,templateName:r,isSignal:(a&hi.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function aR(t){let e=t.toLowerCase();return e==="svg"?Vw:e==="math"?hT:null}var Oa=class extends mc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Wy(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Wy(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=IA(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Pe(null);try{i=i||this.ngModule;let s=i instanceof Zt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new ds(e,s):e,l=a.get(Es,null);if(l===null)throw new Q(407,!1);let u=a.get(sR,null),c=a.get(bs,null),d={rendererFactory:l,sanitizer:u,changeDetectionScheduler:c},f=l.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",v=r?PA(f,r,this.componentDef.encapsulation,a):sg(f,h,aR(h)),y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let C=null;v!==null&&(C=Gb(v,a,!0));let E=dg(0,null,null,1,0,null,null,null,null,null,null),T=lg(null,E,null,y,null,null,d,f,a,null,C);T[At]=v,zp(T);let x=null;try{let P=r?["ng-version","19.1.4"]:AA(this.componentDef.selectors[0]),I=Ha(E,At,2,"#host",P),[B,V]=cC(E,I,[this.componentDef]);uC(E,T,I,B,{},V);for(let R of B)I.mergedAttrs=ws(I.mergedAttrs,R.hostAttrs);I.mergedAttrs=ws(I.mergedAttrs,P),vc(I,I.mergedAttrs,!0),v&&(nC(f,v,I),co(v,T)),n!==void 0&&lR(I,this.ngContentSelectors,n),aC(E,T,I),rg(E,I,T),Fc(E,I),x=fr(I.index,T),T[Pn]=x[Pn],mg(E,T,null)}catch(P){throw x!==null&&rp(x),rp(T),P}finally{Wp()}return new hp(this.componentType,T)}finally{Pe(o)}}},hp=class extends dp{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=Ic(n[ge],At),this.location=Ss(this._tNode,n),this.instance=fr(this._tNode.index,n)[Pn],this.hostView=this.changeDetectorRef=new ro(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;gg(o[ge],o,i,e,n),this.previousInputValues.set(e,n);let s=fr(this._tNode.index,o);Wc(s,1)}}get injector(){return new Zi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function lR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var wi=(()=>{class t{static __NG_ELEMENT_ID__=uR}return t})();function uR(){let t=xn();return TC(t,He())}var cR=wi,MC=class extends cR{_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ss(this._hostTNode,this._hostLView)}get injector(){return new Zi(this._hostTNode,this._hostLView)}get parentInjector(){let e=qp(this._hostTNode,this._hostLView);if(ib(e)){let n=oc(e,this._hostLView),r=ic(e),i=n[ge].data[r+8];return new Zi(i,n)}else return new Zi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=qy(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-rn}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=zy(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,up(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!uT(e),a;if(s)a=n;else{let v=n||{};a=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef}let l=s?e:new Oa(di(e)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let y=(s?u:this.parentInjector).get(Zt,null);y&&(o=y)}let c=di(l.componentType??{}),d=zy(this._lContainer,c?.id??null),f=d?.firstChild??null,h=l.create(u,i,f,o);return this.insertImpl(h.hostView,a,up(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(mT(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Ot],u=new MC(l,l[Zn],l[Ot]);u.detach(u.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return mC(s,i,o,r),e.attachToViewContainerRef(),Dw(kh(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=qy(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=hc(this._lContainer,n);r&&(Ju(kh(this._lContainer),n),wg(r[ge],r))}detach(e){let n=this._adjustIndex(e,-1),r=hc(this._lContainer,n);return r&&Ju(kh(this._lContainer),n)!=null?new ro(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function qy(t){return t[rc]}function kh(t){return t[rc]||(t[rc]=[])}function TC(t,e){let n,r=e[t.index];return pr(r)?n=r:(n=dC(r,e,null,t),e[t.index]=n,pg(e,n)),IC(n,e,t,r),new MC(n,t,e)}function dR(t,e){let n=t[Ke],r=n.createComment(""),i=Vn(e,t),o=n.parentNode(i);return fc(n,o,r,n.nextSibling(i),!1),r}var IC=AC,Eg=()=>!1;function fR(t,e,n){return Eg(t,e,n)}function AC(t,e,n,r){if(t[Or])return;let i;n.type&8?i=Qn(r):i=dR(e,n),t[Or]=i}function hR(t,e,n){if(t[Or]&&t[Ki])return!0;let r=n[dr],i=e.index-At;if(!r||mI(e)||ja(r,i))return!1;let s=sp(r,i),a=r.data[Kp]?.[i],[l,u]=nR(s,a);return t[Or]=l,t[Ki]=u,!0}function pR(t,e,n,r){Eg(t,n,e)||AC(t,e,n,r)}function gR(){IC=pR,Eg=hR}var pp=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},gp=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Dg(e,n).matches!==null&&this.queries[n].setDirty()}},mp=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=DR(e):this.predicate=e}},vp=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},yp=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,n,mR(n,o)),this.matchTNodeWithReadOption(e,n,Wu(n,e,o,!1,!1))}else r===io?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Wu(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Gt||i===wi||i===io&&n.type&4)this.addMatch(n.index,-2);else{let o=Wu(n,e,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function mR(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function vR(t,e){return t.type&11?Ss(t,e):t.type&4?qc(t,e):null}function yR(t,e,n,r){return n===-1?vR(e,t):n===-2?wR(t,e,r):ka(t,t[ge],n,e)}function wR(t,e,n){if(n===Gt)return Ss(e,t);if(n===io)return qc(e,t);if(n===wi)return TC(e,t)}function NC(t,e,n,r){let i=e[kr].queries[r];if(i.matches===null){let o=t.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let u=s[l];if(u<0)a.push(null);else{let c=o[u];a.push(yR(e,c,s[l+1],n.metadata.read))}}i.matches=a}return i.matches}function wp(t,e,n,r){let i=t.queries.getByIndex(n),o=i.matches;if(o!==null){let s=NC(t,e,i,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)r.push(s[a/2]);else{let u=o[a+1],c=e[-l];for(let d=rn;d<c.length;d++){let f=c[d];f[Xi]===f[Ot]&&wp(f[ge],f,u,r)}if(c[vs]!==null){let d=c[vs];for(let f=0;f<d.length;f++){let h=d[f];wp(h[ge],h,u,r)}}}}}return r}function bR(t,e){return t[kr].queries[e].queryList}function CR(t,e,n){let r=new np((n&4)===4);return wT(t,e,r,r.destroy),(e[kr]??=new gp).queries.push(new pp(r))-1}function ER(t,e,n){let r=Ft();return r.firstCreatePass&&(xR(r,new mp(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),CR(r,He(),e)}function DR(t){return t.split(",").map(e=>e.trim())}function xR(t,e,n){t.queries===null&&(t.queries=new vp),t.queries.track(new yp(e,n))}function Dg(t,e){return t.queries.getByIndex(e)}function _R(t,e){let n=t[ge],r=Dg(n,e);return r.crossesNgTemplate?wp(n,t,e,[]):NC(n,t,r,e)}var pi=class{},Fa=class{};var bp=class extends pi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new yc(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let o=Sw(e);this._bootstrapComponents=Zb(o.bootstrap),this._r3Injector=hb(e,n,[{provide:pi,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver},...r],Qt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Cp=class extends Fa{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new bp(this.moduleType,e,[])}};var wc=class extends pi{injector;componentFactoryResolver=new yc(this);instance=null;constructor(e){super();let n=new Aa([...e.providers,{provide:pi,useValue:this},{provide:Cs,useValue:this.componentFactoryResolver}],e.parent||Up(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Zc(t,e,n=null){return new wc({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var SR=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Lp(!1,n.type),i=r.length>0?Zc([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=re({token:t,providedIn:"environment",factory:()=>new t(me(Zt))})}return t})();function Ve(t){return La(()=>{let e=RC(t),n=Ie(U({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Db.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(SR).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||hr.Emulated,styles:t.styles||On,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&vr("NgStandalone"),kC(n);let r=t.dependencies;return n.directiveDefs=Qy(r,!1),n.pipeDefs=Qy(r,!0),n.id=IR(n),n})}function MR(t){return di(t)||Fp(t)}function TR(t){return t!==null}function jr(t){return La(()=>({type:t.type,bootstrap:t.bootstrap||On,declarations:t.declarations||On,imports:t.imports||On,exports:t.exports||On,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Yy(t,e){if(t==null)return gs;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=hi.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==hi.None?[r,a]:r,e[o]=s):n[o]=r}return n}function at(t){return La(()=>{let e=RC(t);return kC(e),e})}function RC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||gs,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||On,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Yy(t.inputs,e),outputs:Yy(t.outputs),debugInfo:null}}function kC(t){t.features?.forEach(e=>e(t))}function Qy(t,e){if(!t)return null;let n=e?Pp:MR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(TR)}function IR(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function AR(t){return Object.getPrototypeOf(t.prototype).constructor}function an(t){let e=AR(t.type),n=!0,r=[t];for(;e;){let i;if(Fr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Bu(t.inputs),s.inputTransforms=Bu(t.inputTransforms),s.declaredInputs=Bu(t.declaredInputs),s.outputs=Bu(t.outputs);let a=i.hostBindings;a&&FR(t,a);let l=i.viewQuery,u=i.contentQueries;if(l&&kR(t,l),u&&OR(t,u),NR(t,i),SM(t.outputs,i.outputs),Fr(i)&&i.data.animation){let c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===an&&(n=!1)}}e=Object.getPrototypeOf(e)}RR(r)}function NR(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function RR(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ws(i.hostAttrs,n=ws(n,i.hostAttrs))}}function Bu(t){return t===gs?{}:t===On?[]:t}function kR(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function OR(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function FR(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function OC(t){return LR(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function PR(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function LR(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function oo(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function VR(t,e,n,r){let i=oo(t,e,n);return oo(t,e+1,r)||i}function UR(t,e,n,r,i,o,s,a,l){let u=e.consts,c=Ha(e,t,4,s||null,a||null);hg(e,n,c,ys(u,l)),Fc(e,c);let d=c.tView=dg(2,c,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,c),d.queries=e.queries.embeddedTView(c)),c}function BR(t,e,n,r,i,o,s,a,l,u){let c=n+At,d=e.firstCreatePass?UR(c,e,t,r,i,o,s,a,l):e.data[c];lo(d,!1);let f=FC(e,t,d,n);Oc()&&$c(e,t,f,d),co(f,t);let h=dC(f,t,f,d);return t[c]=h,pg(t,h),fR(h,d,t),Tc(d)&&ug(e,t,d),l!=null&&cg(t,d,u),d}function Je(t,e,n,r,i,o,s,a){let l=He(),u=Ft(),c=ys(u.consts,o);return BR(l,u,t,e,n,r,i,c,s,a),Je}var FC=PC;function PC(t,e,n,r){return vi(!0),e[Ke].createComment("")}function jR(t,e,n,r){let i=e[dr],o=!i||Ua()||Ts(n)||ja(i,r);if(vi(o),o)return PC(t,e,n,r);let s=i.data[SI]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Yc(i,t,e,n);jc(i,r,a);let l=ng(i,r);return Qc(l,a)}function HR(){FC=jR}var GR=(()=>{class t{cachedInjectors=new Map;getOrCreateInjector(n,r,i,o){if(!this.cachedInjectors.has(n)){let s=i.length>0?Zc(i,r,o):null;this.cachedInjectors.set(n,s)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=re({token:t,providedIn:"environment",factory:()=>new t})}return t})();var $R=new Y("");function Oh(t,e,n){return t.get(GR).getOrCreateInjector(e,t,n,"")}function zR(t,e,n){if(t instanceof ds){let i=t.injector,o=t.parentInjector,s=Oh(o,e,n);return new ds(i,s)}let r=t.get(Zt);if(r!==t){let i=Oh(r,e,n);return new ds(t,i)}return Oh(t,e,n)}function ls(t,e,n,r=!1){let i=n[Ot],o=i[ge];if(_s(i))return;let s=Vc(i,e),a=s[tg],l=s[HI];if(!(l!==null&&t<l)&&Zy(a,t)&&Zy(s[UI]??-1,t)){let u=Uc(o,e),d=!r&&!0&&(qI(u)!==null||Vy(u,kt.Loading)!==null||Vy(u,kt.Placeholder))?YR:qR;try{d(t,s,n,e,i)}catch(f){Gc(i,f)}}}function WR(t,e){return t[Ki]?.find(n=>n.data[AI]===e[tg])??null}function qR(t,e,n,r,i){let o=WI(t,i,r);if(o!==null){e[tg]=t;let s=i[ge],a=o+At,l=Ic(s,a),u=0;xN(n,u);let c;if(t===kt.Complete){let h=Uc(s,r),v=h.providers;v&&v.length>0&&(c=zR(i[fi],h,v))}let d=WR(n,e);n[Ki]=null;let f=gC(i,l,null,{injector:c,dehydratedView:d});if(mC(n,f,u,up(l,d)),Wc(f,2),(t===kt.Complete||t===kt.Error)&&Array.isArray(e[fs])){for(let h of e[fs])h();e[fs]=null}}}function Zy(t,e){return t<e}function Xy(t,e,n){t.loadingPromise.then(()=>{t.loadingState===wn.COMPLETE?ls(kt.Complete,e,n):t.loadingState===wn.FAILED&&ls(kt.Error,e,n)})}var YR=null;var xg=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var LC=new Y("");function ho(t){return!!t&&typeof t.then=="function"}function VC(t){return!!t&&typeof t.subscribe=="function"}var UC=new Y("");var BC=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=A(UC,{optional:!0})??[];injector=A(on);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=Dn(this.injector,i);if(ho(o))n.push(o);else if(VC(o)){let s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),QR=(()=>{class t{static \u0275prov=re({token:t,providedIn:"root",factory:()=>new Ep})}return t})(),Ep=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},po=new Y("");function ZR(){x0(()=>{throw new Q(600,!1)})}function XR(t){return t.isBoundToModule}var KR=10;function JR(t,e,n){try{let r=n();return ho(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var sn=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=A(aI);afterRenderManager=A(Pb);zonelessEnabled=A(Pc);rootEffectScheduler=A(QR);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Mt;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=A(mr).hasPendingTasks.pipe(we(n=>!n));constructor(){A(Ms,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=A(Zt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let i=n instanceof mc;if(!this._injector.get(BC).done){let f=!i&&Mw(n),h=!1;throw new Q(405,h)}let s;i?s=n:s=this._injector.get(Cs).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=XR(s)?void 0:this._injector.get(pi),l=r||s.selector,u=s.create(on.NULL,[],l,a),c=u.location.nativeElement,d=u.injector.get(LC,null);return d?.registerApplication(c),u.onDestroy(()=>{this.detachView(u.hostView),Yu(this.components,u),d?.unregisterApplication(c)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(Jp.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new Q(101,!1);let n=Pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Pe(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Es,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<KR;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)ek(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Ac(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Yu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(po,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Yu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Q(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Yu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ek(t,e,n,r){if(!n&&!Ac(t))return;bC(t,e,n&&!r?0:1)}function tk(t,e,n){let r=e[fi],i=e[ge];if(t.loadingState!==wn.NOT_STARTED)return t.loadingPromise??Promise.resolve();let o=Vc(e,n),s=YI(i,t);t.loadingState=wn.IN_PROGRESS,qu(1,o);let a=t.dependencyResolverFn,l=r.get(mr),u=l.add();return a?(t.loadingPromise=Promise.allSettled(a()).then(c=>{let d=!1,f=[],h=[];for(let v of c)if(v.status==="fulfilled"){let y=v.value,C=di(y)||Fp(y);if(C)f.push(C);else{let E=Pp(y);E&&h.push(E)}}else{d=!0;break}if(t.loadingPromise=null,l.remove(u),d){if(t.loadingState=wn.FAILED,t.errorTmplIndex===null){let v="",y=new Q(-750,!1);Gc(e,y)}}else{t.loadingState=wn.COMPLETE;let v=s.tView;if(f.length>0){v.directiveRegistry=Uy(v.directiveRegistry,f);let y=f.map(E=>E.type),C=Lp(!1,...y);t.providers=C}h.length>0&&(v.pipeRegistry=Uy(v.pipeRegistry,h))}}),t.loadingPromise):(t.loadingPromise=Promise.resolve().then(()=>{t.loadingPromise=null,t.loadingState=wn.COMPLETE,l.remove(u)}),t.loadingPromise)}function nk(t,e){return e[fi].get($R,null,{optional:!0})?.behavior!==Lb.Manual}function rk(t,e,n){let r=e[ge],i=e[n.index];if(!nk(t,e))return;let o=Vc(e,n),s=Uc(r,n);switch($I(o),s.loadingState){case wn.NOT_STARTED:ls(kt.Loading,n,i),tk(s,e,n),s.loadingState===wn.IN_PROGRESS&&Xy(s,n,i);break;case wn.IN_PROGRESS:ls(kt.Loading,n,i),Xy(s,n,i);break;case wn.COMPLETE:ls(kt.Complete,n,i);break;case wn.FAILED:ls(kt.Error,n,i);break;default:}}function ik(t,e,n){return ba(this,null,function*(){let r=t.get(Bb),i=r.hydrating;if(i.has(e))return;let{parentBlockPromise:o,hydrationQueue:s}=dA(e,t);ok(r,s);let a=t.get(mr),l=a.add();o!==null&&(yield o);for(let u of s)yield ak(u,r),yield sk(t),i.get(u).resolve();yield i.get(e)?.promise,a.remove(l),n&&n(s),tR(r.get(e),s,r,t.get(sn))})}function ok(t,e){for(let n of e)t.hydrating.set(n,Promise.withResolvers())}function sk(t){return new Promise(e=>eg(e,{injector:t}))}function ak(t,e){return ba(this,null,function*(){let n=e.get(t);if(n===null)return;let{tNode:r,lView:i}=n,o=Vc(i,r);return new Promise(s=>{lk(o,s),rk(2,i,r)})})}function lk(t,e){Array.isArray(t[fs])||(t[fs]=[]),t[fs].push(e)}function _n(t,e,n,r){let i=He(),o=Rc();if(oo(i,o,e)){let s=Ft(),a=kc();nN(a,i,t,e,n,r)}return _n}function jC(t,e,n,r){return oo(t,Rc(),n)?e+hs(n)+r:Br}function uk(t,e,n,r,i,o){let s=TT(),a=VR(t,s,n,i);return Yw(2),a?e+hs(n)+r+hs(i)+o:Br}function ju(t,e){return t<<17|e<<2}function so(t){return t>>17&32767}function ck(t){return(t&2)==2}function dk(t,e){return t&131071|e<<17}function Dp(t){return t|2}function Ds(t){return(t&131068)>>2}function Fh(t,e){return t&-131069|e<<2}function fk(t){return(t&1)===1}function xp(t){return t|1}function hk(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=so(s),l=Ds(s);t[r]=n;let u=!1,c;if(Array.isArray(n)){let d=n;c=d[1],(c===null||Va(d,c)>0)&&(u=!0)}else c=n;if(i)if(l!==0){let f=so(t[a+1]);t[r+1]=ju(f,a),f!==0&&(t[f+1]=Fh(t[f+1],r)),t[a+1]=dk(t[a+1],r)}else t[r+1]=ju(a,0),a!==0&&(t[a+1]=Fh(t[a+1],r)),a=r;else t[r+1]=ju(l,0),a===0?a=r:t[l+1]=Fh(t[l+1],r),l=r;u&&(t[r+1]=Dp(t[r+1])),Ky(t,c,r,!0),Ky(t,c,r,!1),pk(e,c,t,r,o),s=ju(a,l),o?e.classBindings=s:e.styleBindings=s}function pk(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Va(o,e)>=0&&(n[r+1]=xp(n[r+1]))}function Ky(t,e,n,r){let i=t[n+1],o=e===null,s=r?so(i):Ds(i),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],u=t[s+1];gk(l,e)&&(a=!0,t[s+1]=r?xp(u):Dp(u)),s=r?so(u):Ds(u)}a&&(t[n+1]=r?Dp(i):xp(i))}function gk(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Va(t,e)>=0:!1}function se(t,e,n){let r=He(),i=Rc();if(oo(r,i,e)){let o=Ft(),s=kc();fg(o,s,r,t,e,r[Ke],n,!1)}return se}function Jy(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";gg(t,n,o[s],s,r)}function Xc(t,e,n){return HC(t,e,n,!1),Xc}function Et(t,e){return HC(t,e,null,!0),Et}function HC(t,e,n,r){let i=He(),o=Ft(),s=Yw(2);if(o.firstUpdatePass&&vk(o,t,s,r),e!==Br&&oo(i,s,e)){let a=o.data[uo()];Ek(o,a,i,i[Ke],t,i[s+1]=Dk(e,n),r,s)}}function mk(t,e){return e>=t.expandoStartIndex}function vk(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[uo()],s=mk(t,n);xk(o,r)&&e===null&&!s&&(e=!1),e=yk(i,o,e,r),hk(i,o,e,n,s,r)}}function yk(t,e,n,r){let i=kT(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Ph(null,t,e,n,r),n=Pa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Ph(i,t,e,n,r),o===null){let l=wk(t,e,r);l!==void 0&&Array.isArray(l)&&(l=Ph(null,t,e,l[1],r),l=Pa(l,e.attrs,r),bk(t,e,r,l))}else o=Ck(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function wk(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ds(r)!==0)return t[so(r)]}function bk(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[so(i)]=r}function Ck(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Pa(r,s,n)}return Pa(r,e.attrs,n)}function Ph(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Pa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Pa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),QM(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Ek(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let l=t.data,u=l[a+1],c=fk(u)?ew(l,e,n,i,Ds(u),s):void 0;if(!bc(c)){bc(o)||ck(u)&&(o=ew(l,null,n,i,a,s));let d=Uw(uo(),n);DN(r,s,d,i,o)}}function ew(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let l=t[i],u=Array.isArray(l),c=u?l[1]:l,d=c===null,f=n[i+1];f===Br&&(f=d?On:void 0);let h=d?xh(f,r):c===r?f:void 0;if(u&&!bc(h)&&(h=xh(l,r)),bc(h)&&(a=h,s))return a;let v=t[i+1];i=s?so(v):Ds(v)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=xh(l,r))}return a}function bc(t){return t!==void 0}function Dk(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Qt(Hc(t)))),t}function xk(t,e){return(t.flags&(e?8:16))!==0}function _k(t,e,n,r,i,o){let s=e.consts,a=ys(s,i),l=Ha(e,t,2,r,a);return hg(e,n,l,ys(s,o)),l.attrs!==null&&vc(l,l.attrs,!1),l.mergedAttrs!==null&&vc(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function _(t,e,n,r){let i=He(),o=Ft(),s=At+t,a=i[Ke],l=o.firstCreatePass?_k(s,o,i,e,n,r):o.data[s],u=GC(o,i,l,a,e,t);i[s]=u;let c=Tc(l);return lo(l,!0),nC(a,u,l),!Ts(l)&&Oc()&&$c(o,i,u,l),bT()===0&&co(u,i),CT(),c&&(ug(o,i,l),rg(o,l,i)),r!==null&&cg(i,l),_}function S(){let t=xn();Gp()?Ww():(t=t.parent,lo(t,!1));let e=t;DT(e)&&_T(),ET();let n=Ft();return n.firstCreatePass&&(Fc(n,t),Bp(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&BT(e)&&Jy(n,e,He(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&jT(e)&&Jy(n,e,He(),e.stylesWithoutHost,!1),S}function te(t,e,n,r){return _(t,e,n,r),S(),te}var GC=(t,e,n,r,i,o)=>(vi(!0),sg(r,i,tb()));function Sk(t,e,n,r,i,o){let s=e[dr],a=!s||Ua()||Ts(n)||ja(s,o);if(vi(a),a)return sg(r,i,tb());let l=Yc(s,t,e,n);return $b(s,o)&&jc(s,o,l.nextSibling),s&&(Cb(n)||Eb(l))&&mi(n)&&(xT(n),tC(l)),l}function Mk(){GC=Sk}function Tk(t,e,n,r,i){let o=e.consts,s=ys(o,r),a=Ha(e,t,8,"ng-container",s);s!==null&&vc(a,s,!0);let l=ys(o,i);return hg(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function go(t,e,n){let r=He(),i=Ft(),o=t+At,s=i.firstCreatePass?Tk(o,i,r,e,n):i.data[o];lo(s,!0);let a=$C(i,r,s,t);return r[o]=a,Oc()&&$c(i,r,a,s),co(a,r),Tc(s)&&(ug(i,r,s),rg(i,s,r)),n!=null&&cg(r,s),go}function mo(){let t=xn(),e=Ft();return Gp()?Ww():(t=t.parent,lo(t,!1)),e.firstCreatePass&&(Fc(e,t),Bp(t)&&e.queries.elementEnd(t)),mo}var $C=(t,e,n,r)=>(vi(!0),Jb(e[Ke],""));function Ik(t,e,n,r){let i,o=e[dr],s=!o||Ua()||ja(o,r)||Ts(n);if(vi(s),s)return Jb(e[Ke],"");let a=Yc(o,t,e,n),l=uA(o,r);return jc(o,r,a),i=Qc(l,a),i}function Ak(){$C=Ik}function lt(){return He()}var Cc="en-US";var Nk=Cc;function Rk(t){typeof t=="string"&&(Nk=t.toLowerCase().replace(/_/g,"-"))}var zC=(t,e,n)=>{};function tw(t){zC=t}function z(t,e,n,r){let i=He(),o=Ft(),s=xn();return WC(o,i,i[Ke],s,t,e,r),z}function kk(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[tc],l=i[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function WC(t,e,n,r,i,o,s){let a=Tc(r),u=t.firstCreatePass&&Gw(t),c=e[Pn],d=Hw(e),f=!0;if(r.type&3||s){let y=Vn(r,e),C=s?s(y):y,E=d.length,T=s?P=>s(Qn(P[r.index])):r.index,x=null;if(!s&&a&&(x=kk(t,e,i,r.index)),x!==null){let P=x.__ngLastListenerFn__||x;P.__ngNextListenerFn__=o,x.__ngLastListenerFn__=o,f=!1}else{o=rw(r,e,c,o),zC(y,i,o);let P=n.listen(C,i,o);d.push(o,P),u&&u.push(i,T,E,E+1)}}else o=rw(r,e,c,o);let h=r.outputs,v;if(f&&h!==null&&(v=h[i])){let y=v.length;if(y)for(let C=0;C<y;C+=2){let E=v[C],T=v[C+1],I=e[E][T].subscribe(o),B=d.length;d.push(o,I),u&&u.push(i,r.index,B,-(B+1))}}}function nw(t,e,n,r){let i=Pe(null);try{return Fn(6,e,n),n(r)!==!1}catch(o){return Gc(t,o),!1}finally{Fn(7,e,n),Pe(i)}}function rw(t,e,n,r){return function i(o){if(o===Function)return r;let s=mi(t)?fr(t.index,e):e;Wc(s,5);let a=nw(e,n,r,o),l=i.__ngNextListenerFn__;for(;l;)a=nw(e,n,l,o)&&a,l=l.__ngNextListenerFn__;return a}}function xe(t=1){return FT(t)}function _g(t,e,n,r,i){let o=He(),s=jC(o,e,n,r);if(s!==Br){let a=Ft(),l=kc();fg(a,l,o,t,s,o[Ke],i,!1)}return _g}function Dt(t,e,n){ER(t,e,n)}function ft(t){let e=He(),n=Ft(),r=Qw();$p(r+1);let i=Dg(n,r);if(t.dirty&&gT(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let o=_R(e,r);t.reset(o,cI),t.notifyOnChanges()}return!0}return!1}function ht(){return bR(He(),Qw())}function qC(t){let e=MT();return pT(e,At+t)}function F(t,e=""){let n=He(),r=Ft(),i=t+At,o=r.firstCreatePass?Ha(r,i,1,e,null):r.data[i],s=YC(r,n,o,e,t);n[i]=s,Oc()&&$c(r,n,s,o),lo(o,!1)}var YC=(t,e,n,r,i)=>(vi(!0),Kb(e[Ke],r));function Ok(t,e,n,r,i){let o=e[dr],s=!o||Ua()||Ts(n)||ja(o,i);return vi(s),s?Kb(e[Ke],r):Yc(o,t,e,n)}function Fk(){YC=Ok}function Nt(t){return Is("",t,""),Nt}function Is(t,e,n){let r=He(),i=jC(r,t,e,n);return i!==Br&&QC(r,uo(),i),Is}function Ga(t,e,n,r,i){let o=He(),s=uk(o,t,e,n,r,i);return s!==Br&&QC(o,uo(),s),Ga}function QC(t,e,n){let r=Uw(e,t);NA(t[Ke],r,n)}function et(t,e,n){bb(e)&&(e=e());let r=He(),i=Rc();if(oo(r,i,e)){let o=Ft(),s=kc();fg(o,s,r,t,e,r[Ke],n,!1)}return et}function rt(t,e){let n=bb(t);return n&&t.set(e),n}function tt(t,e){let n=He(),r=Ft(),i=xn();return WC(r,n,n[Ke],i,t,e),tt}function Pk(t,e,n){let r=Ft();if(r.firstCreatePass){let i=Fr(t);_p(n,r.data,r.blueprint,i,!0),_p(e,r.data,r.blueprint,i,!1)}}function _p(t,e,n,r,i){if(t=Yt(t),Array.isArray(t))for(let o=0;o<t.length;o++)_p(t[o],e,n,r,i);else{let o=Ft(),s=He(),a=xn(),l=ms(t)?t:Yt(t.provide),u=Aw(t),c=a.providerIndexes&1048575,d=a.directiveStart,f=a.providerIndexes>>20;if(ms(t)||!t.multi){let h=new to(u,i,Ae),v=Vh(l,e,i?c:c+f,d);v===-1?(Zh(sc(a,s),o,l),Lh(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(h),s.push(h)):(n[v]=h,s[v]=h)}else{let h=Vh(l,e,c+f,d),v=Vh(l,e,c,c+f),y=h>=0&&n[h],C=v>=0&&n[v];if(i&&!C||!i&&!y){Zh(sc(a,s),o,l);let E=Uk(i?Vk:Lk,n.length,i,r,u);!i&&C&&(n[v].providerFactory=E),Lh(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),s.push(E)}else{let E=ZC(n[i?v:h],u,!i&&r);Lh(o,t,h>-1?h:v,E)}!i&&r&&C&&n[v].componentProviders++}}}function Lh(t,e,n,r){let i=ms(e),o=tT(e);if(i||o){let l=(o?Yt(e.useClass):e).prototype.ngOnDestroy;if(l){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let c=u.indexOf(n);c===-1?u.push(n,[r,l]):u[c+1].push(r,l)}else u.push(n,l)}}}function ZC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Vh(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Lk(t,e,n,r){return Sp(this.multi,[])}function Vk(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ka(n,n[ge],this.providerFactory.index,r);o=a.slice(0,s),Sp(i,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Sp(i,o);return o}function Sp(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Uk(t,e,n,r,i){let o=new to(t,n,Ae);return o.multi=[],o.index=e,o.componentProviders=0,ZC(o,i,r&&!n),o}function Xn(t,e=[]){return n=>{n.providersResolver=(r,i)=>Pk(r,i?i(t):t,e)}}function XC(t,e){return qc(t,e)}var Mp=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Sg=(()=>{class t{compileModuleSync(n){return new Cp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=Sw(n),o=Zb(i.declarations).reduce((s,a)=>{let l=di(a);return l&&s.push(new Oa(l)),s},[]);return new Mp(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Bk=(()=>{class t{zone=A(Ct);changeDetectionScheduler=A(bs);applicationRef=A(sn);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),jk=new Y("",{factory:()=>!1});function KC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ct(Ie(U({},eE()),{scheduleInRootZone:n})),[{provide:Ct,useFactory:t},{provide:ci,multi:!0,useFactory:()=>{let r=A(Bk,{optional:!0});return()=>r.initialize()}},{provide:ci,multi:!0,useFactory:()=>{let r=A(Hk);return()=>{r.initialize()}}},e===!0?{provide:gb,useValue:!0}:[],{provide:mb,useValue:n??pb}]}function JC(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=KC({ngZoneFactory:()=>{let i=eE(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&vr("NgZone_CoalesceEvent"),new Ct(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return gi([{provide:jk,useValue:!0},{provide:Pc,useValue:!1},r])}function eE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Hk=(()=>{class t{subscription=new yt;initialized=!1;zone=A(Ct);pendingTasks=A(mr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ct.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ct.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Gk=(()=>{class t{appRef=A(sn);taskService=A(mr);ngZone=A(Ct);zonelessEnabled=A(Pc);tracing=A(Ms,{optional:!0});disableScheduling=A(gb,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new yt;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(lc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(A(mb,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof tp||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Ay:vb;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(lc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Ay(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function $k(){return typeof $localize<"u"&&$localize.locale||Cc}var Mg=new Y("",{providedIn:"root",factory:()=>A(Mg,Re.Optional|Re.SkipSelf)||$k()});var Tp=new Y(""),zk=new Y("");function _a(t){return!t.moduleRef}function Wk(t){let e=_a(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ct);return n.run(()=>{_a(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Pr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),_a(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Tp);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(Tp);s.add(o),t.moduleRef.onDestroy(()=>{Yu(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return JR(r,n,()=>{let o=e.get(BC);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Mg,Cc);if(Rk(s||Cc),!e.get(zk,!0))return _a(t)?e.get(sn):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(_a(t)){let l=e.get(sn);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return qk(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function qk(t,e){let n=t.injector.get(sn);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new Q(-403,!1);e.push(t)}var Qu=null;function Yk(t=[],e){return on.create({name:e,providers:[{provide:Sc,useValue:"platform"},{provide:Tp,useValue:new Set([()=>Qu=null])},...t]})}function Qk(t=[]){if(Qu)return Qu;let e=Yk(t);return Qu=e,ZR(),Zk(e),e}function Zk(t){let e=t.get(Zp,null);Dn(t,()=>{e?.forEach(n=>n())})}var Hr=(()=>{class t{static __NG_ELEMENT_ID__=Xk}return t})();function Xk(t){return Kk(xn(),He(),(t&16)===16)}function Kk(t,e,n){if(mi(t)&&!n){let r=fr(t.index,e);return new ro(r,r)}else if(t.type&175){let r=e[Ln];return new ro(r,e)}return null}var Ip=class{constructor(){}supports(e){return OC(e)}create(e){return new Ap(e)}},Jk=(t,e)=>e,Ap=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Jk}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<iw(r,i,o)?n:r,a=iw(s,i,o),l=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let u=a-i,c=l-i;if(u!=c){for(let f=0;f<u;f++){let h=f<o.length?o[f]:o[f]=0,v=h+f;c<=v&&v<u&&(o[f]=h+1)}let d=s.previousIndex;o[d]=c-u}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!OC(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,PR(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Np(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ec),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ec),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Np=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Rp=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ec=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Rp,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function iw(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function ow(){return new Tg([new Ip])}var Tg=(()=>{class t{factories;static \u0275prov=re({token:t,providedIn:"root",factory:ow});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||ow()),deps:[[t,new zM,new Ew]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new Q(901,!1)}}return t})();function tE(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Qk(r),o=[KC({}),{provide:bs,useExisting:Gk},...n||[]],s=new wc({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Wk({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var Hu=new WeakSet,sw="",Zu=[];function aw(t){return t.get(Fb,RI)}function nE(){let t=[{provide:Fb,useFactory:()=>{let e=!0;{let n=A(no);e=!!window._ejsas?.[n]}return e&&vr("NgEventReplay"),e}}];return t.push({provide:ci,useValue:()=>{let e=A(on),n=e.get(sn);if(!Hu.has(n)){let r=A(Py);aw(e)&&tw((i,o,s)=>{QI(i,o,s),ZI(i,r)})}},multi:!0},{provide:po,useFactory:()=>{let e=A(no),n=A(on),r=A(sn);return()=>{!aw(n)||Hu.has(r)||(Hu.add(r),r.onDestroy(()=>{Hu.delete(r),Dh(e),tw(()=>{})}),r.whenStable().then(()=>{let i=n.get(KI);eO(i,n);let o=n.get(Py);o.get(sw)?.forEach(XI),o.delete(sw);let s=i.instance;lA(n)?r.onDestroy(()=>s.cleanUp()):s.cleanUp()}))}},multi:!0}),t}var eO=(t,e)=>{let n=e.get(no),r=window._ejsas[n],i=t.instance=new hy(new Pu(r.c));for(let a of r.et)i.addEvent(a);for(let a of r.etc)i.addEvent(a);let o=py(n);i.replayEarlyEventInfos(o),Dh(n);let s=new Lu(a=>{tO(e,a,a.currentTarget)});fy(i,s)};function tO(t,e,n){let r=(n&&n.getAttribute(Bc))??"";/d\d+/.test(r)?nO(r,t,e,n):e.eventPhase===Eh.REPLAY&&Ub(e,n)}function nO(t,e,n,r){Zu.push({event:n,currentTarget:r}),ik(e,t,rO)}function rO(t){let e=[...Zu],n=new Set(t);Zu=[];for(let{event:r,currentTarget:i}of e){let o=i.getAttribute(Bc);n.has(o)?Ub(r,i):Zu.push({event:r,currentTarget:i})}}var lw=!1;function iO(){lw||(lw=!0,iA(),Mk(),Fk(),Ak(),HR(),gR(),iR(),UA())}function oO(t){return t.whenStable()}function rE(){let t=[{provide:Uu,useFactory:()=>{let e=!0;return e=!!A(fo,{optional:!0})?.get(jb,null),e&&vr("NgHydration"),e}},{provide:ci,useValue:()=>{XN(!1),A(Uu)&&(sO(),iO())},multi:!0}];return t.push({provide:Ob,useFactory:()=>A(Uu)},{provide:po,useFactory:()=>{if(A(Uu)){let e=A(sn);return()=>{oO(e).then(()=>{e.destroyed||_C(e)})}}return()=>{}},multi:!0}),gi(t)}function sO(){let t=Lc(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===nA){e=n;break}if(!e)throw new Q(-507,!1)}function Kc(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Jc(t,e){vr("NgSignals");let n=C0(t);return e?.equal&&(n[pn].equal=e.equal),n}function bi(t){let e=Pe(null);try{return t()}finally{Pe(e)}}var uw=class{[pn];constructor(e){this[pn]=e}destroy(){this[pn].destroy()}};var lE=null;function Gr(){return lE}function uE(t){lE??=t}var ed=class{};var ln=new Y(""),cE=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:()=>A(uO),providedIn:"platform"})}return t})();var uO=(()=>{class t extends cE{_location;_history;_doc=A(ln);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gr().getBaseHref(this._doc)}onPopState(n){let r=Gr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Gr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function dE(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function iE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function vo(t){return t&&t[0]!=="?"?"?"+t:t}var td=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:()=>A(fE),providedIn:"root"})}return t})(),cO=new Y(""),fE=(()=>{class t extends td{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??A(ln).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return dE(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+vo(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+vo(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+vo(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(me(cE),me(cO,8))};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var $a=(()=>{class t{_subject=new Mt;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=hO(iE(oE(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+vo(r))}normalize(n){return t.stripTrailingSlash(fO(this._basePath,oE(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vo(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+vo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=vo;static joinWithSlash=dE;static stripTrailingSlash=iE;static \u0275fac=function(r){return new(r||t)(me(td))};static \u0275prov=re({token:t,factory:()=>dO(),providedIn:"root"})}return t})();function dO(){return new $a(me(td))}function fO(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function oE(t){return t.replace(/\/index.html$/,"")}function hO(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function nd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Ig=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},yr=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Ig(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),sE(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);sE(o,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Ae(wi),Ae(io),Ae(Tg))};static \u0275dir=at({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function sE(t,e){t.context.$implicit=e.item}var wr=(()=>{class t{_viewContainer;_context=new Ag;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){aE("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){aE("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(Ae(wi),Ae(io))};static \u0275dir=at({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Ag=class{$implicit=null;ngIf=null};function aE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Qt(e)}'.`)}var pt=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jr({type:t});static \u0275inj=Vr({})}return t})(),hE="browser",pO="server";function Rg(t){return t===pO}var As=class{};var Wa=class{},od=class{},Ei=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Og=class{encodeKey(e){return pE(e)}encodeValue(e){return pE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function gO(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var mO=/%(\d[a-f0-9])/gi,vO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function pE(t){return encodeURIComponent(t).replace(mO,(e,n)=>vO[n]??e)}function rd(t){return`${t}`}var Ci=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new Og,e.fromString){if(e.fromObject)throw new Q(2805,!1);this.map=gO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(rd):[rd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(rd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(rd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Fg=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function yO(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function gE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function mE(t){return typeof Blob<"u"&&t instanceof Blob}function vE(t){return typeof FormData<"u"&&t instanceof FormData}function wO(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var yE="Content-Type",wE="Accept",DE="X-Request-URL",xE="text/plain",_E="application/json",bO=`${_E}, ${xE}, */*`,za=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let o;if(yO(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Ei,this.context??=new Fg,!this.params)this.params=new Ci,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||gE(this.body)||mE(this.body)||vE(this.body)||wO(this.body)?this.body:this.body instanceof Ci?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||vE(this.body)?null:mE(this.body)?this.body.type||null:gE(this.body)?null:typeof this.body=="string"?xE:this.body instanceof Ci?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?_E:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,u=e.headers||this.headers,c=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((f,h)=>f.set(h,e.setHeaders[h]),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((f,h)=>f.set(h,e.setParams[h]),c)),new t(n,r,s,{params:c,headers:u,context:d,reportProgress:l,responseType:i,withCredentials:a,transferCache:o})}},Ns=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ns||{}),qa=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new Ei,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Pg=class t extends qa{constructor(e={}){super(e)}type=Ns.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Rs=class t extends qa{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Ns.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},sd=class extends qa{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},CO=200,EO=204;function kg(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var Lg=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof za)o=n;else{let l;i.headers instanceof Ei?l=i.headers:l=new Ei(i.headers);let u;i.params&&(i.params instanceof Ci?u=i.params:u=new Ci({fromObject:i.params})),o=new za(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let s=pe(o).pipe(oi(l=>this.handler.handle(l)));if(n instanceof za||i.observe==="events")return s;let a=s.pipe(mn(l=>l instanceof Rs));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(we(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Q(2806,!1);return l.body}));case"blob":return a.pipe(we(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Q(2807,!1);return l.body}));case"text":return a.pipe(we(l=>{if(l.body!==null&&typeof l.body!="string")throw new Q(2808,!1);return l.body}));case"json":default:return a.pipe(we(l=>l.body))}case"response":return a;default:throw new Q(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Ci().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,kg(i,r))}post(n,r,i={}){return this.request("POST",n,kg(i,r))}put(n,r,i={}){return this.request("PUT",n,kg(i,r))}static \u0275fac=function(r){return new(r||t)(me(Wa))};static \u0275prov=re({token:t,factory:t.\u0275fac})}return t})();var DO=new Y("");function xO(t,e){return e(t)}function _O(t,e,n){return(r,i)=>Dn(n,()=>e(r,o=>t(o,i)))}var SE=new Y(""),ME=new Y(""),SO=new Y("",{providedIn:"root",factory:()=>!0});var bE=(()=>{class t extends Wa{backend;injector;chain=null;pendingTasks=A(mr);contributeToStability=A(SO);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(SE),...this.injector.get(ME,[])]));this.chain=r.reduceRight((i,o)=>_O(i,o,this.injector),xO)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Yi(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(me(od),me(Zt))};static \u0275prov=re({token:t,factory:t.\u0275fac})}return t})();var MO=/^\)\]\}',?\n/,TO=RegExp(`^${DE}:`,"m");function IO(t){return"responseURL"in t&&t.responseURL?t.responseURL:TO.test(t.getAllResponseHeaders())?t.getResponseHeader(DE):null}var CE=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new Q(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?it(r.\u0275loadImpl()):pe(null)).pipe(vn(()=>new Be(o=>{let s=r.build();if(s.open(n.method,n.urlWithParams),n.withCredentials&&(s.withCredentials=!0),n.headers.forEach((y,C)=>s.setRequestHeader(y,C.join(","))),n.headers.has(wE)||s.setRequestHeader(wE,bO),!n.headers.has(yE)){let y=n.detectContentTypeHeader();y!==null&&s.setRequestHeader(yE,y)}if(n.responseType){let y=n.responseType.toLowerCase();s.responseType=y!=="json"?y:"text"}let a=n.serializeBody(),l=null,u=()=>{if(l!==null)return l;let y=s.statusText||"OK",C=new Ei(s.getAllResponseHeaders()),E=IO(s)||n.url;return l=new Pg({headers:C,status:s.status,statusText:y,url:E}),l},c=()=>{let{headers:y,status:C,statusText:E,url:T}=u(),x=null;C!==EO&&(x=typeof s.response>"u"?s.responseText:s.response),C===0&&(C=x?CO:0);let P=C>=200&&C<300;if(n.responseType==="json"&&typeof x=="string"){let I=x;x=x.replace(MO,"");try{x=x!==""?JSON.parse(x):null}catch(B){x=I,P&&(P=!1,x={error:B,text:x})}}P?(o.next(new Rs({body:x,headers:y,status:C,statusText:E,url:T||void 0})),o.complete()):o.error(new sd({error:x,headers:y,status:C,statusText:E,url:T||void 0}))},d=y=>{let{url:C}=u(),E=new sd({error:y,status:s.status||0,statusText:s.statusText||"Unknown Error",url:C||void 0});o.error(E)},f=!1,h=y=>{f||(o.next(u()),f=!0);let C={type:Ns.DownloadProgress,loaded:y.loaded};y.lengthComputable&&(C.total=y.total),n.responseType==="text"&&s.responseText&&(C.partialText=s.responseText),o.next(C)},v=y=>{let C={type:Ns.UploadProgress,loaded:y.loaded};y.lengthComputable&&(C.total=y.total),o.next(C)};return s.addEventListener("load",c),s.addEventListener("error",d),s.addEventListener("timeout",d),s.addEventListener("abort",d),n.reportProgress&&(s.addEventListener("progress",h),a!==null&&s.upload&&s.upload.addEventListener("progress",v)),s.send(a),o.next({type:Ns.Sent}),()=>{s.removeEventListener("error",d),s.removeEventListener("abort",d),s.removeEventListener("load",c),s.removeEventListener("timeout",d),n.reportProgress&&(s.removeEventListener("progress",h),a!==null&&s.upload&&s.upload.removeEventListener("progress",v)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||t)(me(As))};static \u0275prov=re({token:t,factory:t.\u0275fac})}return t})(),TE=new Y(""),AO="XSRF-TOKEN",NO=new Y("",{providedIn:"root",factory:()=>AO}),RO="X-XSRF-TOKEN",kO=new Y("",{providedIn:"root",factory:()=>RO}),ad=class{},OO=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=nd(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(me(ln),me(Ur),me(NO))};static \u0275prov=re({token:t,factory:t.\u0275fac})}return t})();function FO(t,e){let n=t.url.toLowerCase();if(!A(TE)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=A(ad).getToken(),i=A(kO);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function IE(...t){let e=[Lg,CE,bE,{provide:Wa,useExisting:bE},{provide:od,useFactory:()=>A(DO,{optional:!0})??A(CE)},{provide:SE,useValue:FO,multi:!0},{provide:TE,useValue:!0},{provide:ad,useClass:OO}];for(let n of t)e.push(...n.\u0275providers);return gi(e)}var PO=new Y(""),LO="b",VO="h",UO="s",BO="st",jO="u",HO="rt",id=new Y(""),GO=["GET","HEAD"];function $O(t,e){let f=A(id),{isCacheActive:n}=f,r=d0(f,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||i===!1||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!GO.includes(o)||!r.includeRequestsWithAuthHeaders&&zO(t)||r.filter?.(t)===!1)return e(t);let s=A(fo);if(A(PO,{optional:!0}))throw new Q(2803,!1);let l=t.url,u=WO(t,l),c=s.get(u,null),d=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(d=i.includeHeaders),c){let{[LO]:h,[HO]:v,[VO]:y,[UO]:C,[BO]:E,[jO]:T}=c,x=h;switch(v){case"arraybuffer":x=new TextEncoder().encode(h).buffer;break;case"blob":x=new Blob([h]);break}let P=new Ei(y);return pe(new Rs({body:x,headers:P,status:C,statusText:E,url:T}))}return e(t).pipe(It(h=>{h instanceof Rs}))}function zO(t){return t.headers.has("authorization")||t.headers.has("proxy-authorization")}function EE(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function WO(t,e){let{params:n,method:r,responseType:i}=t,o=EE(n),s=t.serializeBody();s instanceof URLSearchParams?s=EE(s):typeof s!="string"&&(s="");let a=[r,i,e,s,o].join("|"),l=qO(a);return l}function qO(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function AE(t){return[{provide:id,useFactory:()=>(vr("NgHttpTransferCache"),U({isCacheActive:!0},t))},{provide:ME,useValue:$O,multi:!0,deps:[fo,id]},{provide:po,multi:!0,useFactory:()=>{let e=A(sn),n=A(id);return()=>{e.whenStable().then(()=>{n.isCacheActive=!1})}}}]}var Ug=class extends ed{supportsDOMEvents=!0},Bg=class t extends Ug{static makeCurrent(){uE(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=QO();return n==null?null:ZO(n)}resetBaseElement(){Ya=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return nd(document.cookie,e)}},Ya=null;function QO(){return Ya=Ya||document.querySelector("base"),Ya?Ya.getAttribute("href"):null}function ZO(t){return new URL(t,document.baseURI).pathname}var XO=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:t.\u0275fac})}return t})(),jg=new Y(""),PE=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(me(jg),me(Ct))};static \u0275prov=re({token:t,factory:t.\u0275fac})}return t})(),ud=class{_doc;constructor(e){this._doc=e}manager},ld="ng-app-id";function NE(t){for(let e of t)e.remove()}function RE(t,e){let n=e.createElement("style");return n.textContent=t,n}function KO(t,e,n,r){let i=t.head?.querySelectorAll(`style[${ld}="${e}"],link[${ld}="${e}"]`);if(i)for(let o of i)o.removeAttribute(ld),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Hg(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var LE=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Rg(o),KO(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,RE);r?.forEach(i=>this.addUsage(i,this.external,Hg))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(NE(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])NE(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,RE(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Hg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(ld,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(me(ln),me(no),me(Xp,8),me(Ur))};static \u0275prov=re({token:t,factory:t.\u0275fac})}return t})(),Vg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},$g=/%COMP%/g;var VE="%COMP%",JO=`_nghost-${VE}`,eF=`_ngcontent-${VE}`,tF=!0,nF=new Y("",{providedIn:"root",factory:()=>tF});function rF(t){return eF.replace($g,t)}function iF(t){return JO.replace($g,t)}function UE(t,e){return e.map(n=>n.replace($g,t))}var kE=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,s,a,l,u=null,c=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=u,this.tracingService=c,this.platformIsServer=Rg(a),this.defaultRenderer=new Qa(n,s,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===hr.ShadowDom&&(r=Ie(U({},r),{encapsulation:hr.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof cd?i.applyToHost(n):i instanceof Za&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,d=this.platformIsServer,f=this.tracingService;switch(r.encapsulation){case hr.Emulated:o=new cd(l,u,r,this.appId,c,s,a,d,f);break;case hr.ShadowDom:return new Gg(l,u,n,r,s,a,this.nonce,d,f);default:o=new Za(l,u,r,c,s,a,d,f);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(me(PE),me(LE),me(no),me(nF),me(ln),me(Ur),me(Ct),me(Xp),me(Ms,8))};static \u0275prov=re({token:t,factory:t.\u0275fac})}return t})(),Qa=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,o){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(Vg[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(OE(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(OE(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Vg[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Vg[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Lr.DashCase|Lr.Important)?e.style.setProperty(n,r,i&Lr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Lr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Gr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);let o=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,n,o)),this.eventManager.addEventListener(e,n,o,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function OE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Gg=class extends Qa{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,o,s,a,l,u){super(e,o,s,l,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=i.styles;c=UE(i.id,c);for(let f of c){let h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=f,this.shadowRoot.appendChild(h)}let d=i.getExternalStyles?.();if(d)for(let f of d){let h=Hg(f,o);a&&h.setAttribute("nonce",a),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Za=class extends Qa{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,o,s,a,l,u){super(e,o,s,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let c=r.styles;this.styles=u?UE(u,c):c,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},cd=class extends Za{contentAttr;hostAttr;constructor(e,n,r,i,o,s,a,l,u){let c=i+"-"+r.id;super(e,n,r,o,s,a,l,u,c),this.contentAttr=rF(c),this.hostAttr=iF(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},oF=(()=>{class t extends ud{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||t)(me(ln))};static \u0275prov=re({token:t,factory:t.\u0275fac})}return t})(),FE=["alt","control","meta","shift"],sF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},lF=(()=>{class t extends ud{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,o){let s=t.parseEventName(r),a=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gr().onAndCancel(n,s.domEventName,a,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),FE.forEach(u=>{let c=r.indexOf(u);c>-1&&(r.splice(c,1),s+=u+".")}),s+=o,r.length!=0||o.length===0)return null;let l={};return l.domEventName=i,l.fullKey=s,l}static matchEventFullKeyCode(n,r){let i=sF[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),FE.forEach(s=>{if(s!==i){let a=aF[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(me(ln))};static \u0275prov=re({token:t,factory:t.\u0275fac})}return t})();function BE(t,e){return tE(U({rootComponent:t},uF(e)))}function uF(t){return{appProviders:[...pF,...t?.providers??[]],platformProviders:hF}}function cF(){Bg.makeCurrent()}function dF(){return new Pr}function fF(){return Tb(document),document}var hF=[{provide:Ur,useValue:hE},{provide:Zp,useValue:cF,multi:!0},{provide:ln,useFactory:fF,deps:[]}];var pF=[{provide:Sc,useValue:"root"},{provide:Pr,useFactory:dF,deps:[]},{provide:jg,useClass:oF,multi:!0,deps:[ln,Ct,Ur]},{provide:jg,useClass:lF,multi:!0,deps:[ln]},kE,LE,PE,{provide:Es,useExisting:kE},{provide:As,useClass:XO,deps:[]},[]];var jE=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(me(ln))};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var dd=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t[t.I18nSupport=2]="I18nSupport",t[t.EventReplay=3]="EventReplay",t[t.IncrementalHydration=4]="IncrementalHydration",t}(dd||{});function gF(t,e=[],n={}){return{\u0275kind:t,\u0275providers:e}}function HE(){return gF(dd.EventReplay,nE())}function GE(...t){let e=[],n=new Set,r=n.has(dd.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return gi([[],rE(),n.has(dd.NoHttpTransferCache)||r?[]:AE({}),e])}var Te="primary",fl=Symbol("RouteTitle"),Qg=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Vs(t){return new Qg(t)}function vF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function yF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!br(t[n],e[n]))return!1;return!0}function br(t,e){let n=t?Zg(t):void 0,r=e?Zg(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!XE(t[i],e[i]))return!1;return!0}function Zg(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function XE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function KE(t){return t.length>0?t[t.length-1]:null}function Di(t){return ah(t)?t:ho(t)?it(Promise.resolve(t)):pe(t)}var wF={exact:eD,subset:tD},JE={exact:bF,subset:CF,ignored:()=>!0};function $E(t,e,n){return wF[n.paths](t.root,e.root,n.matrixParams)&&JE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function bF(t,e){return br(t,e)}function eD(t,e,n){if(!wo(t.segments,e.segments)||!pd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!eD(t.children[r],e.children[r],n))return!1;return!0}function CF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>XE(t[n],e[n]))}function tD(t,e,n){return nD(t,e,e.segments,n)}function nD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!wo(i,n)||e.hasChildren()||!pd(i,n,r))}else if(t.segments.length===n.length){if(!wo(t.segments,n)||!pd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!tD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!wo(t.segments,i)||!pd(t.segments,i,r)||!t.children[Te]?!1:nD(t.children[Te],e,o,r)}}function pd(t,e,n){return e.every((r,i)=>JE[n](t[i].parameters,r.parameters))}var Wr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Ge([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Vs(this.queryParams),this._queryParamMap}toString(){return xF.serialize(this)}},Ge=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gd(this)}},yo=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Vs(this.parameters),this._parameterMap}toString(){return iD(this)}};function EF(t,e){return wo(t,e)&&t.every((n,r)=>br(n.parameters,e[r].parameters))}function wo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function DF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Te&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Te&&(n=n.concat(e(i,r)))}),n}var Em=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:()=>new nl,providedIn:"root"})}return t})(),nl=class{parse(e){let n=new Kg(e);return new Wr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Xa(e.root,!0)}`,r=MF(e.queryParams),i=typeof e.fragment=="string"?`#${_F(e.fragment)}`:"";return`${n}${r}${i}`}},xF=new nl;function gd(t){return t.segments.map(e=>iD(e)).join("/")}function Xa(t,e){if(!t.hasChildren())return gd(t);if(e){let n=t.children[Te]?Xa(t.children[Te],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==Te&&r.push(`${i}:${Xa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=DF(t,(r,i)=>i===Te?[Xa(t.children[Te],!1)]:[`${i}:${Xa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[Te]!=null?`${gd(t)}/${n[0]}`:`${gd(t)}/(${n.join("//")})`}}function rD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fd(t){return rD(t).replace(/%3B/gi,";")}function _F(t){return encodeURI(t)}function Xg(t){return rD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function md(t){return decodeURIComponent(t)}function zE(t){return md(t.replace(/\+/g,"%20"))}function iD(t){return`${Xg(t.path)}${SF(t.parameters)}`}function SF(t){return Object.entries(t).map(([e,n])=>`;${Xg(e)}=${Xg(n)}`).join("")}function MF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${fd(n)}=${fd(i)}`).join("&"):`${fd(n)}=${fd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var TF=/^[^\/()?;#]+/;function zg(t){let e=t.match(TF);return e?e[0]:""}var IF=/^[^\/()?;=#]+/;function AF(t){let e=t.match(IF);return e?e[0]:""}var NF=/^[^=?&#]+/;function RF(t){let e=t.match(NF);return e?e[0]:""}var kF=/^[^&#]+/;function OF(t){let e=t.match(kF);return e?e[0]:""}var Kg=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ge([],{}):new Ge([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Te]=new Ge(e,n)),r}parseSegment(){let e=zg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new yo(md(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=AF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=zg(this.remaining);i&&(r=i,this.capture(r))}e[md(n)]=md(r)}parseQueryParam(e){let n=RF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=OF(this.remaining);s&&(r=s,this.capture(r))}let i=zE(n),o=zE(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=zg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Te);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Te]:new Ge([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function oD(t){return t.segments.length>0?new Ge([],{[Te]:t}):t}function sD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=sD(i);if(r===Te&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Ge(t.segments,e);return FF(n)}function FF(t){if(t.numberOfChildren===1&&t.children[Te]){let e=t.children[Te];return new Ge(t.segments.concat(e.segments),e.children)}return t}function rl(t){return t instanceof Wr}function PF(t,e,n=null,r=null){let i=aD(t);return lD(i,e,n,r)}function aD(t){let e;function n(o){let s={};for(let l of o.children){let u=n(l);s[l.outlet]=u}let a=new Ge(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=oD(r);return e??i}function lD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Wg(i,i,i,n,r);let o=LF(e);if(o.toRoot())return Wg(i,i,new Ge([],{}),n,r);let s=VF(o,i,t),a=s.processChildren?Ja(s.segmentGroup,s.index,o.commands):cD(s.segmentGroup,s.index,o.commands);return Wg(i,s.segmentGroup,a,n,r)}function vd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function il(t){return typeof t=="object"&&t!=null&&t.outlets}function Wg(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([l,u])=>{o[l]=Array.isArray(u)?u.map(c=>`${c}`):`${u}`});let s;t===e?s=n:s=uD(t,e,n);let a=oD(sD(s));return new Wr(a,o,i)}function uD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=uD(o,e,n)}),new Ge(t.segments,r)}var yd=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&vd(r[0]))throw new Q(4003,!1);let i=r.find(il);if(i&&i!==KE(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function LF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new yd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new yd(n,e,r)}var Fs=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function VF(t,e,n){if(t.isAbsolute)return new Fs(e,!0,0);if(!n)return new Fs(e,!1,NaN);if(n.parent===null)return new Fs(n,!0,0);let r=vd(t.commands[0])?0:1,i=n.segments.length-1+r;return UF(n,i,t.numberOfDoubleDots)}function UF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new Fs(r,!1,i-o)}function BF(t){return il(t[0])?t[0].outlets:{[Te]:t}}function cD(t,e,n){if(t??=new Ge([],{}),t.segments.length===0&&t.hasChildren())return Ja(t,e,n);let r=jF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Ge(t.segments.slice(0,r.pathIndex),{});return o.children[Te]=new Ge(t.segments.slice(r.pathIndex),t.children),Ja(o,0,i)}else return r.match&&i.length===0?new Ge(t.segments,{}):r.match&&!t.hasChildren()?Jg(t,e,n):r.match?Ja(t,0,i):Jg(t,e,n)}function Ja(t,e,n){if(n.length===0)return new Ge(t.segments,{});{let r=BF(n),i={};if(Object.keys(r).some(o=>o!==Te)&&t.children[Te]&&t.numberOfChildren===1&&t.children[Te].segments.length===0){let o=Ja(t.children[Te],e,n);return new Ge(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=cD(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Ge(t.segments,i)}}function jF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(il(a))break;let l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!qE(l,u,s))return o;r+=2}else{if(!qE(l,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Jg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(il(o)){let l=HF(o.outlets);return new Ge(r,l)}if(i===0&&vd(n[0])){let l=t.segments[e];r.push(new yo(l.path,WE(n[0]))),i++;continue}let s=il(o)?o.outlets[Te]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&vd(a)?(r.push(new yo(s,WE(a))),i+=2):(r.push(new yo(s,{})),i++)}return new Ge(r,{})}function HF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Jg(new Ge([],{}),0,r))}),e}function WE(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function qE(t,e,n){return t==n.path&&br(e,n.parameters)}var el="imperative",Vt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Vt||{}),Bn=class{id;url;constructor(e,n){this.id=e,this.url=n}},ol=class extends Bn{type=Vt.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},bo=class extends Bn{urlAfterRedirects;type=Vt.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Mn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Mn||{}),em=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(em||{}),zr=class extends Bn{reason;code;type=Vt.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Co=class extends Bn{reason;code;type=Vt.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},sl=class extends Bn{error;target;type=Vt.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wd=class extends Bn{urlAfterRedirects;state;type=Vt.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tm=class extends Bn{urlAfterRedirects;state;type=Vt.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},nm=class extends Bn{urlAfterRedirects;state;shouldActivate;type=Vt.GuardsCheckEnd;constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},rm=class extends Bn{urlAfterRedirects;state;type=Vt.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},im=class extends Bn{urlAfterRedirects;state;type=Vt.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},om=class{route;type=Vt.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},sm=class{route;type=Vt.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},am=class{snapshot;type=Vt.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lm=class{snapshot;type=Vt.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},um=class{snapshot;type=Vt.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},cm=class{snapshot;type=Vt.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var al=class{},Us=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function GF(t,e){return t.providers&&!t._injector&&(t._injector=Zc(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Kn(t){return t.outlet||Te}function $F(t,e){let n=t.filter(r=>Kn(r)===e);return n.push(...t.filter(r=>Kn(r)!==e)),n}function hl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var dm=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return hl(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Sd(this.rootInjector)}},Sd=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new dm(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(me(Zt))};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),bd=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=fm(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=fm(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=hm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return hm(e,this._root).map(n=>n.value)}};function fm(t,e){if(t===e.value)return e;for(let n of e.children){let r=fm(t,n);if(r)return r}return null}function hm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=hm(t,n);if(r.length)return r.unshift(e),r}return[]}var Sn=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Os(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Cd=class extends bd{snapshot;constructor(e,n){super(e),this.snapshot=n,Dm(this,e)}toString(){return this.snapshot.toString()}};function dD(t){let e=zF(t),n=new Lt([new yo("",{})]),r=new Lt({}),i=new Lt({}),o=new Lt({}),s=new Lt(""),a=new Bs(n,r,o,s,i,Te,t,e.root);return a.snapshot=e.root,new Cd(new Sn(a,[]),e)}function zF(t){let e={},n={},r={},i="",o=new Ps([],e,r,i,n,Te,t,null,{});return new Dd("",new Sn(o,[]))}var Bs=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(we(u=>u[fl]))??pe(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(we(e=>Vs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(we(e=>Vs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ed(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:U(U({},e.params),t.params),data:U(U({},e.data),t.data),resolve:U(U(U(U({},t.data),e.data),i?.data),t._resolvedData)}:r={params:U({},t.params),data:U({},t.data),resolve:U(U({},t.data),t._resolvedData??{})},i&&hD(i)&&(r.resolve[fl]=i.title),r}var Ps=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[fl]}constructor(e,n,r,i,o,s,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Dd=class extends bd{url;constructor(e,n){super(n),this.url=e,Dm(this,n)}toString(){return fD(this._root)}};function Dm(t,e){e.value._routerState=t,e.children.forEach(n=>Dm(t,n))}function fD(t){let e=t.children.length>0?` { ${t.children.map(fD).join(", ")} } `:"";return`${t.value}${e}`}function qg(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,br(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),br(e.params,n.params)||t.paramsSubject.next(n.params),yF(e.url,n.url)||t.urlSubject.next(n.url),br(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function pm(t,e){let n=br(t.params,e.params)&&EF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||pm(t.parent,e.parent))}function hD(t){return typeof t.title=="string"||t.title===null}var WF=new Y(""),qF=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Te;activateEvents=new bt;deactivateEvents=new bt;attachEvents=new bt;detachEvents=new bt;routerOutletData=wb(void 0);parentContexts=A(Sd);location=A(wi);changeDetector=A(Hr);inputBinder=A(xm,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new gm(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=at({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ao]})}return t})(),gm=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Bs?this.route:e===Sd?this.childContexts:e===WF?this.outletData:this.parent.get(e,n)}},xm=new Y("");function YF(t,e,n){let r=ll(t,e._root,n?n._root:void 0);return new Cd(r,e)}function ll(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=QF(t,e,n);return new Sn(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ll(t,a)),s}}let r=ZF(e.value),i=e.children.map(o=>ll(t,o));return new Sn(r,i)}}function QF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return ll(t,r,i);return ll(t,r)})}function ZF(t){return new Bs(new Lt(t.url),new Lt(t.params),new Lt(t.queryParams),new Lt(t.fragment),new Lt(t.data),t.outlet,t.component,t)}var ul=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},pD="ngNavigationCancelingError";function xd(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=rl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=gD(!1,Mn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function gD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[pD]=!0,n.cancellationCode=e,n}function XF(t){return mD(t)&&rl(t.url)}function mD(t){return!!t&&t[pD]}var KF=(t,e,n,r)=>we(i=>(new mm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),mm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),qg(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Os(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Os(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Os(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Os(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new cm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new lm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(qg(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),qg(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},_d=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ls=class{component;route;constructor(e,n){this.component=e,this.route=n}};function JF(t,e,n){let r=t._root,i=e?e._root:null;return Ka(r,i,n,[r.value])}function eP(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Hs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!gw(t)?t:e.get(t):r}function Ka(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Os(e);return t.children.forEach(s=>{tP(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>tl(a,n.getContext(s),i)),i}function tP(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=nP(s,o,o.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new _d(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ka(t,e,a?a.children:null,r,i):Ka(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ls(a.outlet.component,s))}else s&&tl(e,a,i),i.canActivateChecks.push(new _d(r)),o.component?Ka(t,null,a?a.children:null,r,i):Ka(t,null,n,r,i);return i}function nP(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!wo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wo(t.url,e.url)||!br(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!pm(t,e)||!br(t.queryParams,e.queryParams);case"paramsChange":default:return!pm(t,e)}}function tl(t,e,n){let r=Os(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?tl(s,e.children.getContext(o),n):tl(s,null,n):tl(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ls(e.outlet.component,i)):n.canDeactivateChecks.push(new Ls(null,i)):n.canDeactivateChecks.push(new Ls(null,i))}function pl(t){return typeof t=="function"}function rP(t){return typeof t=="boolean"}function iP(t){return t&&pl(t.canLoad)}function oP(t){return t&&pl(t.canActivate)}function sP(t){return t&&pl(t.canActivateChild)}function aP(t){return t&&pl(t.canDeactivate)}function lP(t){return t&&pl(t.canMatch)}function vD(t){return t instanceof Ir||t?.name==="EmptyError"}var hd=Symbol("INITIAL_VALUE");function js(){return vn(t=>Au(t.map(e=>e.pipe(Ar(1),fh(hd)))).pipe(we(e=>{for(let n of e)if(n!==!0){if(n===hd)return hd;if(n===!1||uP(n))return n}return!0}),mn(e=>e!==hd),Ar(1)))}function uP(t){return rl(t)||t instanceof ul}function cP(t,e){return Tt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?pe(Ie(U({},n),{guardsResult:!0})):dP(s,r,i,t).pipe(Tt(a=>a&&rP(a)?fP(r,o,t,e):pe(a)),we(a=>Ie(U({},n),{guardsResult:a})))})}function dP(t,e,n,r){return it(t).pipe(Tt(i=>vP(i.component,i.route,n,e,r)),Nr(i=>i!==!0,!0))}function fP(t,e,n,r){return it(e).pipe(oi(i=>ns(pP(i.route.parent,r),hP(i.route,r),mP(t,i.path,n),gP(t,i.route,n))),Nr(i=>i!==!0,!0))}function hP(t,e){return t!==null&&e&&e(new um(t)),pe(!0)}function pP(t,e){return t!==null&&e&&e(new am(t)),pe(!0)}function gP(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return pe(!0);let i=r.map(o=>Nu(()=>{let s=hl(e)??n,a=Hs(o,s),l=oP(a)?a.canActivate(e,t):Dn(s,()=>a(e,t));return Di(l).pipe(Nr())}));return pe(i).pipe(js())}function mP(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>eP(s)).filter(s=>s!==null).map(s=>Nu(()=>{let a=s.guards.map(l=>{let u=hl(s.node)??n,c=Hs(l,u),d=sP(c)?c.canActivateChild(r,t):Dn(u,()=>c(r,t));return Di(d).pipe(Nr())});return pe(a).pipe(js())}));return pe(o).pipe(js())}function vP(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return pe(!0);let s=o.map(a=>{let l=hl(e)??i,u=Hs(a,l),c=aP(u)?u.canDeactivate(t,e,n,r):Dn(l,()=>u(t,e,n,r));return Di(c).pipe(Nr())});return pe(s).pipe(js())}function yP(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return pe(!0);let o=i.map(s=>{let a=Hs(s,t),l=iP(a)?a.canLoad(e,n):Dn(t,()=>a(e,n));return Di(l)});return pe(o).pipe(js(),yD(r))}function yD(t){return rh(It(e=>{if(typeof e!="boolean")throw xd(t,e)}),we(e=>e===!0))}function wP(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return pe(!0);let o=i.map(s=>{let a=Hs(s,t),l=lP(a)?a.canMatch(e,n):Dn(t,()=>a(e,n));return Di(l)});return pe(o).pipe(js(),yD(r))}var cl=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},dl=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function ks(t){return ts(new cl(t))}function bP(t){return ts(new Q(4e3,!1))}function CP(t){return ts(gD(!1,Mn.GuardRejected))}var vm=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return pe(r);if(i.numberOfChildren>1||!i.children[Te])return bP(`${e.redirectTo}`);i=i.children[Te]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:l,fragment:u,routeConfig:c,url:d,outlet:f,params:h,data:v,title:y}=i,C=Dn(o,()=>a({params:h,data:v,queryParams:l,fragment:u,routeConfig:c,url:d,outlet:f,title:y}));if(C instanceof Wr)throw new dl(C);n=C}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new dl(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Wr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,r,i)}),new Ge(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},ym={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function EP(t,e,n,r,i){let o=wD(t,e,n);return o.matched?(r=GF(e,r),wP(r,e,n,i).pipe(we(s=>s===!0?o:U({},ym)))):pe(o)}function wD(t,e,n){if(e.path==="**")return DP(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?U({},ym):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||vF)(n,t,e);if(!i)return U({},ym);let o={};Object.entries(i.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=i.consumed.length>0?U(U({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function DP(t){return{matched:!0,parameters:t.length>0?KE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function YE(t,e,n,r){return n.length>0&&SP(t,n,r)?{segmentGroup:new Ge(e,_P(r,new Ge(n,t.children))),slicedSegments:[]}:n.length===0&&MP(t,n,r)?{segmentGroup:new Ge(t.segments,xP(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Ge(t.segments,t.children),slicedSegments:n}}function xP(t,e,n,r){let i={};for(let o of n)if(Md(t,e,o)&&!r[Kn(o)]){let s=new Ge([],{});i[Kn(o)]=s}return U(U({},r),i)}function _P(t,e){let n={};n[Te]=e;for(let r of t)if(r.path===""&&Kn(r)!==Te){let i=new Ge([],{});n[Kn(r)]=i}return n}function SP(t,e,n){return n.some(r=>Md(t,e,r)&&Kn(r)!==Te)}function MP(t,e,n){return n.some(r=>Md(t,e,r))}function Md(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function TP(t,e,n){return e.length===0&&!t.children[n]}var wm=class{};function IP(t,e,n,r,i,o,s="emptyOnly"){return new bm(t,e,n,r,i,s,o).recognize()}var AP=31,bm=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new vm(this.urlSerializer,this.urlTree)}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=YE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(we(({children:n,rootSnapshot:r})=>{let i=new Sn(r,n),o=new Dd("",i),s=PF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Ps([],Object.freeze({}),Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Te,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Te,n).pipe(we(r=>({children:r,rootSnapshot:n})),ii(r=>{if(r instanceof dl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof cl?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(we(s=>s instanceof Sn?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return it(o).pipe(oi(s=>{let a=r.children[s],l=$F(n,s);return this.processSegmentGroup(e,l,a,s,i)}),dh((s,a)=>(s.push(...a),s)),si(null),ch(),Tt(s=>{if(s===null)return ks(r);let a=bD(s);return NP(a),pe(a)}))}processSegment(e,n,r,i,o,s,a){return it(n).pipe(oi(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,o,s,a).pipe(ii(u=>{if(u instanceof cl)return pe(null);throw u}))),Nr(l=>!!l),ii(l=>{if(vD(l))return TP(r,i,o)?pe(new wm):ks(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,l){return Kn(r)!==s&&(s===Te||!Md(i,o,r))?ks(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,l):ks(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:l,parameters:u,consumedSegments:c,positionalParamSegments:d,remainingSegments:f}=wD(n,i,o);if(!l)return ks(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>AP&&(this.allowRedirects=!1));let h=new Ps(o,u,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,QE(i),Kn(i),i.component??i._loadedComponent??null,i,ZE(i)),v=Ed(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(v.params),h.data=Object.freeze(v.data);let y=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,d,h,e);return this.applyRedirects.lineralizeSegments(i,y).pipe(Tt(C=>this.processSegment(e,r,n,C.concat(f),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=EP(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(vn(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(vn(({routes:u})=>{let c=r._loadedInjector??e,{parameters:d,consumedSegments:f,remainingSegments:h}=l,v=new Ps(f,d,Object.freeze(U({},this.urlTree.queryParams)),this.urlTree.fragment,QE(r),Kn(r),r.component??r._loadedComponent??null,r,ZE(r)),y=Ed(v,s,this.paramsInheritanceStrategy);v.params=Object.freeze(y.params),v.data=Object.freeze(y.data);let{segmentGroup:C,slicedSegments:E}=YE(n,f,h,u);if(E.length===0&&C.hasChildren())return this.processChildren(c,u,C,v).pipe(we(x=>new Sn(v,x)));if(u.length===0&&E.length===0)return pe(new Sn(v,[]));let T=Kn(r)===o;return this.processSegment(c,u,C,E,T?Te:o,!0,v).pipe(we(x=>new Sn(v,x instanceof Sn?[x]:[])))}))):ks(n)))}getChildConfig(e,n,r){return n.children?pe({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?pe({routes:n._loadedRoutes,injector:n._loadedInjector}):yP(e,n,r,this.urlSerializer).pipe(Tt(i=>i?this.configLoader.loadChildren(e,n).pipe(It(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):CP(n))):pe({routes:[],injector:e})}};function NP(t){t.sort((e,n)=>e.value.outlet===Te?-1:n.value.outlet===Te?1:e.value.outlet.localeCompare(n.value.outlet))}function RP(t){let e=t.value.routeConfig;return e&&e.path===""}function bD(t){let e=[],n=new Set;for(let r of t){if(!RP(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=bD(r.children);e.push(new Sn(r.value,i))}return e.filter(r=>!n.has(r))}function QE(t){return t.data||{}}function ZE(t){return t.resolve||{}}function kP(t,e,n,r,i,o){return Tt(s=>IP(t,e,n,r,s.extractedUrl,i,o).pipe(we(({state:a,tree:l})=>Ie(U({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function OP(t,e){return Tt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return pe(n);let o=new Set(i.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let u of CD(l))s.add(u);let a=0;return it(s).pipe(oi(l=>o.has(l)?FP(l,r,t,e):(l.data=Ed(l,l.parent,t).resolve,pe(void 0))),It(()=>a++),rs(1),Tt(l=>a===s.size?pe(n):tn))})}function CD(t){let e=t.children.map(n=>CD(n)).flat();return[t,...e]}function FP(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!hD(i)&&(o[fl]=i.title),PP(o,t,e,r).pipe(we(s=>(t._resolvedData=s,t.data=Ed(t,t.parent,n).resolve,null)))}function PP(t,e,n,r){let i=Zg(t);if(i.length===0)return pe({});let o={};return it(i).pipe(Tt(s=>LP(t[s],e,n,r).pipe(Nr(),It(a=>{if(a instanceof ul)throw xd(new nl,a);o[s]=a}))),rs(1),we(()=>o),ii(s=>vD(s)?tn:ts(s)))}function LP(t,e,n,r){let i=hl(e)??r,o=Hs(t,i),s=o.resolve?o.resolve(e,n):Dn(i,()=>o(e,n));return Di(s)}function Yg(t){return vn(e=>{let n=t(e);return n?it(n).pipe(we(()=>e)):pe(e)})}var ED=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Te);return r}getResolvedTitleForRoute(n){return n.data[fl]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:()=>A(VP),providedIn:"root"})}return t})(),VP=(()=>{class t extends ED{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(me(jE))};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_m=new Y("",{providedIn:"root",factory:()=>({})}),UP=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=Ve({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&te(0,"router-outlet")},dependencies:[qF],encapsulation:2})}return t})();function Sm(t){let e=t.children&&t.children.map(Sm),n=e?Ie(U({},t),{children:e}):U({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Te&&(n.component=UP),n}var Mm=new Y(""),BP=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=A(Sg);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return pe(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Di(n.loadComponent()).pipe(we(DD),It(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),Yi(()=>{this.componentLoaders.delete(n)})),i=new es(r,()=>new Mt).pipe(Jo());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pe({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=jP(r,this.compiler,n,this.onLoadEndListener).pipe(Yi(()=>{this.childrenLoaders.delete(r)})),s=new es(o,()=>new Mt).pipe(Jo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function jP(t,e,n,r){return Di(t.loadChildren()).pipe(we(DD),Tt(i=>i instanceof Fa||Array.isArray(i)?pe(i):it(e.compileModuleAsync(i))),we(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Mm,[],{optional:!0,self:!0}).flat()),{routes:s.map(Sm),injector:o}}))}function HP(t){return t&&typeof t=="object"&&"default"in t}function DD(t){return HP(t)?t.default:t}var Tm=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:()=>A(GP),providedIn:"root"})}return t})(),GP=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),$P=new Y("");var zP=new Y(""),WP=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Mt;transitionAbortSubject=new Mt;configLoader=A(BP);environmentInjector=A(Zt);destroyRef=A(Ba);urlSerializer=A(Em);rootContexts=A(Sd);location=A($a);inputBindingEnabled=A(xm,{optional:!0})!==null;titleStrategy=A(ED);options=A(_m,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=A(Tm);createViewTransition=A($P,{optional:!0});navigationErrorHandler=A(zP,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>pe(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new om(i)),r=i=>this.events.next(new sm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(Ie(U(U({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Lt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:el,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mn(o=>o.id!==0),we(o=>Ie(U({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),vn(o=>{let s=!1,a=!1;return pe(o).pipe(vn(l=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",Mn.SupersededByNewNavigation),tn;this.currentTransition=o,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ie(U({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),c=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&c!=="reload"){let d="";return this.events.next(new Co(l.id,this.urlSerializer.serialize(l.rawUrl),d,em.IgnoredSameUrlNavigation)),l.resolve(!1),tn}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return pe(l).pipe(vn(d=>{let f=this.transitions?.getValue();return this.events.next(new ol(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),f!==this.transitions?.getValue()?tn:Promise.resolve(d)}),kP(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),It(d=>{o.targetSnapshot=d.targetSnapshot,o.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation=Ie(U({},this.currentNavigation),{finalUrl:d.urlAfterRedirects});let f=new wd(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:d,extractedUrl:f,source:h,restoredState:v,extras:y}=l,C=new ol(d,this.urlSerializer.serialize(f),h,v);this.events.next(C);let E=dD(this.rootComponentType).snapshot;return this.currentTransition=o=Ie(U({},l),{targetSnapshot:E,urlAfterRedirects:f,extras:Ie(U({},y),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,pe(o)}else{let d="";return this.events.next(new Co(l.id,this.urlSerializer.serialize(l.extractedUrl),d,em.IgnoredByUrlHandlingStrategy)),l.resolve(!1),tn}}),It(l=>{let u=new tm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),we(l=>(this.currentTransition=o=Ie(U({},l),{guards:JF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),o)),cP(this.environmentInjector,l=>this.events.next(l)),It(l=>{if(o.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw xd(this.urlSerializer,l.guardsResult);let u=new nm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),mn(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Mn.GuardRejected),!1)),Yg(l=>{if(l.guards.canActivateChecks.length)return pe(l).pipe(It(u=>{let c=new rm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),vn(u=>{let c=!1;return pe(u).pipe(OP(this.paramsInheritanceStrategy,this.environmentInjector),It({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(u,"",Mn.NoDataFromResolver)}}))}),It(u=>{let c=new im(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}))}),Yg(l=>{let u=c=>{let d=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(c.routeConfig).pipe(It(f=>{c.component=f}),we(()=>{})));for(let f of c.children)d.push(...u(f));return d};return Au(u(l.targetSnapshot.root)).pipe(si(null),Ar(1))}),Yg(()=>this.afterPreactivation()),vn(()=>{let{currentSnapshot:l,targetSnapshot:u}=o,c=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return c?it(c).pipe(we(()=>o)):pe(o)}),we(l=>{let u=YF(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o=Ie(U({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),It(()=>{this.events.next(new al)}),KF(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ar(1),It({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new bo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),hh(this.transitionAbortSubject.pipe(It(l=>{throw l}))),Yi(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",Mn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ii(l=>{if(this.destroyed)return o.resolve(!1),tn;if(a=!0,mD(l))this.events.next(new zr(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),XF(l)?this.events.next(new Us(l.url,l.navigationBehaviorOptions)):o.resolve(!1);else{let u=new sl(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0);try{let c=Dn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(c instanceof ul){let{message:d,cancellationCode:f}=xd(this.urlSerializer,c);this.events.next(new zr(o.id,this.urlSerializer.serialize(o.extractedUrl),d,f)),this.events.next(new Us(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(u),l}catch(c){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(c)}}return tn}))}))}cancelNavigationTransition(n,r,i){let o=new zr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qP(t){return t!==el}var YP=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:()=>A(QP),providedIn:"root"})}return t})(),Cm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},QP=(()=>{class t extends Cm{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),xD=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:()=>A(ZP),providedIn:"root"})}return t})(),ZP=(()=>{class t extends xD{location=A($a);urlSerializer=A(Em);options=A(_m,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=A(Tm);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Wr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=dD(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof ol)this.stateMemento=this.createStateMemento();else if(n instanceof Co)this.rawUrlTree=r.initialUrl;else if(n instanceof wd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof al?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof zr&&(n.code===Mn.GuardRejected||n.code===Mn.NoDataFromResolver)?this.restoreHistory(r):n instanceof sl?this.restoreHistory(r,!0):n instanceof bo&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Wr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=U(U({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=U(U({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function XP(t,e){t.events.pipe(mn(n=>n instanceof bo||n instanceof zr||n instanceof sl||n instanceof Co),we(n=>n instanceof bo||n instanceof Co?0:(n instanceof zr?n.code===Mn.Redirect||n.code===Mn.SupersededByNewNavigation:!1)?2:1),mn(n=>n!==2),Ar(1)).subscribe(()=>{e()})}var KP={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},JP={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},_D=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=A(xg);stateManager=A(xD);options=A(_m,{optional:!0})||{};pendingTasks=A(mr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=A(WP);urlSerializer=A(Em);location=A($a);urlHandlingStrategy=A(Tm);_events=new Mt;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=A(YP);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=A(Mm,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!A(xm,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new yt;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof zr&&r.code!==Mn.Redirect&&r.code!==Mn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof bo)this.navigated=!0;else if(r instanceof Us){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=U({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||qP(i.source)},s);this.scheduleNavigation(a,el,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}t2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),el,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let l=U({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(o.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Sm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:s,c=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":c=U(U({},this.currentUrlTree.queryParams),o);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=o||null}c!==null&&(c=this.removeEmptyProps(c));let d;try{let f=i?i.snapshot:this.routerState.snapshot.root;d=aD(f)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),d=this.currentUrlTree.root}return lD(d,n,c,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=rl(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,el,null,r)}navigate(n,r={skipLocationChange:!1}){return e2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=U({},KP):r===!1?i=U({},JP):i=r,rl(n))return $E(this.currentUrlTree,n,i);let o=this.parseUrl(n);return $E(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,u;s?(a=s.resolve,l=s.reject,u=s.promise):u=new Promise((d,f)=>{a=d,l=f});let c=this.pendingTasks.add();return XP(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function e2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function t2(t){return!(t instanceof al)&&!(t instanceof Us)}var n2=new Y("");function SD(t,...e){return gi([{provide:Mm,multi:!0,useValue:t},[],{provide:Bs,useFactory:r2,deps:[_D]},{provide:po,multi:!0,useFactory:i2},e.map(n=>n.\u0275providers)])}function r2(t){return t.routerState.root}function i2(){let t=A(on);return e=>{let n=t.get(sn);if(e!==n.components[0])return;let r=t.get(_D),i=t.get(o2);t.get(s2)===1&&r.initialNavigation(),t.get(a2,null,Re.Optional)?.setUpPreloading(),t.get(n2,null,Re.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var o2=new Y("",{factory:()=>new Mt}),s2=new Y("",{providedIn:"root",factory:()=>1});var a2=new Y("");var MD=[];var TD={providers:[JC({eventCoalescing:!0}),SD(MD),GE(HE()),IE()]};var Td=class t{modeChange=new bt;activeMode;mode=$t("archive");switchMode(e){this.mode.set(e),this.modeChange.emit(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ve({type:t,selectors:[["app-mode-switch"]],inputs:{activeMode:"activeMode"},outputs:{modeChange:"modeChange"},decls:5,vars:4,consts:[["id","mode-switch",1,"nav"],[3,"click"]],template:function(n,r){n&1&&(_(0,"div",0)(1,"button",1),z("click",function(){return r.switchMode("archive")}),F(2,"Archive"),S(),_(3,"button",1),z("click",function(){return r.switchMode("create")}),F(4,"Create"),S()()),n&2&&(N(),Et("active",r.mode()==="archive"),N(2),Et("active",r.mode()==="create"))},encapsulation:2})};var Id=class t{constructor(e){this.http=e}archiveUrl="assets/archive.json";getArchiveItems(){return this.http.get(this.archiveUrl)}getItemsByTag(e){return this.getArchiveItems().pipe(we(n=>n.filter(r=>r.tags?.includes(e)??!1)))}static \u0275fac=function(n){return new(n||t)(me(Lg))};static \u0275prov=re({token:t,factory:t.\u0275fac,providedIn:"root"})};var VD=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(Ae(yi),Ae(Gt))};static \u0275dir=at({type:t})}return t})(),Ws=(()=>{class t extends VD{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275dir=at({type:t,features:[an]})}return t})(),xi=new Y(""),l2={provide:xi,useExisting:En(()=>Do),multi:!0},Do=(()=>{class t extends Ws{writeValue(n){this.setProperty("checked",n)}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275dir=at({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&z("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Xn([l2]),an]})}return t})(),u2={provide:xi,useExisting:En(()=>un),multi:!0};function c2(){let t=Gr()?Gr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var d2=new Y(""),un=(()=>{class t extends VD{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!c2())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(Ae(yi),Ae(Gt),Ae(d2,8))};static \u0275dir=at({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&z("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[Xn([u2]),an]})}return t})();function Nd(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}var Vd=new Y(""),UD=new Y("");function f2(t){return e=>{if(Nd(e.value)||Nd(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function h2(t){return e=>{if(Nd(e.value)||Nd(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function ID(t){return null}function BD(t){return t!=null}function jD(t){return ho(t)?it(t):t}function HD(t){let e={};return t.forEach(n=>{e=n!=null?U(U({},e),n):e}),Object.keys(e).length===0?null:e}function GD(t,e){return e.map(n=>n(t))}function p2(t){return!t.validate}function $D(t){return t.map(e=>p2(e)?e:n=>e.validate(n))}function g2(t){if(!t)return null;let e=t.filter(BD);return e.length==0?null:function(n){return HD(GD(n,e))}}function zD(t){return t!=null?g2($D(t)):null}function m2(t){if(!t)return null;let e=t.filter(BD);return e.length==0?null:function(n){let r=GD(n,e).map(jD);return uh(r).pipe(we(HD))}}function WD(t){return t!=null?m2($D(t)):null}function AD(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function qD(t){return t._rawValidators}function YD(t){return t._rawAsyncValidators}function Im(t){return t?Array.isArray(t)?t:[t]:[]}function Rd(t,e){return Array.isArray(t)?t.includes(e):t===e}function ND(t,e){let n=Im(e);return Im(t).forEach(i=>{Rd(n,i)||n.push(i)}),n}function RD(t,e){return Im(e).filter(n=>!Rd(t,n))}var kd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=zD(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=WD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Am=class extends kd{name;get formDirective(){return null}get path(){return null}},Eo=class extends kd{_parent=null;name=null;valueAccessor=null},Nm=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},v2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},bq=Ie(U({},v2),{"[class.ng-submitted]":"isSubmitted"}),cn=(()=>{class t extends Nm{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(Ae(Eo,2))};static \u0275dir=at({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Et("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[an]})}return t})();var gl="VALID",Ad="INVALID",Gs="PENDING",ml="DISABLED",zs=class{},Od=class extends zs{value;source;constructor(e,n){super(),this.value=e,this.source=n}},vl=class extends zs{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},yl=class extends zs{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},$s=class extends zs{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function QD(t){return(Ud(t)?t.validators:t)||null}function y2(t){return Array.isArray(t)?zD(t):t||null}function ZD(t,e){return(Ud(e)?e.asyncValidators:t)||null}function w2(t){return Array.isArray(t)?WD(t):t||null}function Ud(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function b2(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[n])throw new Q(1001,"")}function C2(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Q(1002,"")})}var Fd=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return bi(this.statusReactive)}set status(e){bi(()=>this.statusReactive.set(e))}_status=Jc(()=>this.statusReactive());statusReactive=$t(void 0);get valid(){return this.status===gl}get invalid(){return this.status===Ad}get pending(){return this.status==Gs}get disabled(){return this.status===ml}get enabled(){return this.status!==ml}errors;get pristine(){return bi(this.pristineReactive)}set pristine(e){bi(()=>this.pristineReactive.set(e))}_pristine=Jc(()=>this.pristineReactive());pristineReactive=$t(!0);get dirty(){return!this.pristine}get touched(){return bi(this.touchedReactive)}set touched(e){bi(()=>this.touchedReactive.set(e))}_touched=Jc(()=>this.touchedReactive());touchedReactive=$t(!1);get untouched(){return!this.touched}_events=new Mt;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ND(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ND(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RD(e,this._rawAsyncValidators))}hasValidator(e){return Rd(this._rawValidators,e)}hasAsyncValidator(e){return Rd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(Ie(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new yl(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new yl(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(Ie(U({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new vl(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new vl(!0,r))}markAsPending(e={}){this.status=Gs;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new $s(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(Ie(U({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ml,this.errors=null,this._forEachChild(i=>{i.disable(Ie(U({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Od(this.value,r)),this._events.next(new $s(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ie(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=gl,this._forEachChild(r=>{r.enable(Ie(U({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Ie(U({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gl||this.status===Gs)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Od(this.value,n)),this._events.next(new $s(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(Ie(U({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ml:gl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Gs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=jD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new $s(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new bt,this.statusChanges=new bt}_calculateStatus(){return this._allControlsDisabled()?ml:this.errors?Ad:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gs)?Gs:this._anyControlsHaveStatus(Ad)?Ad:gl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new vl(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new yl(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Ud(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=y2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=w2(this._rawAsyncValidators)}},Pd=class extends Fd{constructor(e,n,r){super(QD(n),ZD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){C2(this,!0,e),Object.keys(e).forEach(r=>{b2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Bd=new Y("",{providedIn:"root",factory:()=>jd}),jd="always";function E2(t,e){return[...e.path,t]}function XD(t,e,n=jd){x2(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),S2(t,e),T2(t,e),M2(t,e),D2(t,e)}function kD(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),_2(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Ld(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function D2(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function x2(t,e){let n=qD(t);e.validator!==null?t.setValidators(AD(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=YD(t);e.asyncValidator!==null?t.setAsyncValidators(AD(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Ld(e._rawValidators,i),Ld(e._rawAsyncValidators,i)}function _2(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=qD(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=YD(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Ld(e._rawValidators,r),Ld(e._rawAsyncValidators,r),n}function S2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&KD(t,e)})}function M2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&KD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function KD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function T2(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function JD(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function I2(t){return Object.getPrototypeOf(t.constructor)===Ws}function ex(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===un?n=o:I2(o)?r=o:i=o}),i||r||n||null}function OD(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function FD(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var _i=class extends Fd{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(QD(n),ZD(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ud(n)&&(n.nonNullable||n.initialValueIsDefault)&&(FD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){OD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){OD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){FD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var A2={provide:Eo,useExisting:En(()=>Tn)},PD=Promise.resolve(),Tn=(()=>{class t extends Eo{_changeDetectorRef;callSetDisabledState;control=new _i;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new bt;constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=ex(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),JD(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){XD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){PD.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Kc(r);PD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?E2(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(Ae(Am,9),Ae(Vd,10),Ae(UD,10),Ae(xi,10),Ae(Hr,8),Ae(Bd,8))};static \u0275dir=at({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[Xn([A2]),an,ao]})}return t})();var N2={provide:xi,useExisting:En(()=>wl),multi:!0},wl=(()=>{class t extends Ws{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275dir=at({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&z("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Xn([N2]),an]})}return t})();var R2={provide:xi,useExisting:En(()=>qr),multi:!0},qr=(()=>{class t extends Ws{writeValue(n){this.setProperty("value",parseFloat(n))}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275dir=at({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(r,i){r&1&&z("change",function(s){return i.onChange(s.target.value)})("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[Xn([R2]),an]})}return t})(),tx=new Y(""),k2={provide:Eo,useExisting:En(()=>Rm)},Rm=(()=>{class t extends Eo{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(n){}model;update=new bt;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=ex(this,i)}ngOnChanges(n){if(this._isControlChanged(n)){let r=n.form.previousValue;r&&kD(r,this,!1),XD(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}JD(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&kD(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||t)(Ae(Vd,10),Ae(UD,10),Ae(xi,10),Ae(tx,8),Ae(Bd,8))};static \u0275dir=at({type:t,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[Xn([k2]),an,ao]})}return t})();var O2={provide:xi,useExisting:En(()=>Si),multi:!0};function nx(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function F2(t){return t.split(":")[0]}var Si=(()=>{class t extends Ws{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r=this._getOptionId(n),i=nx(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=F2(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275dir=at({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&z("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Xn([O2]),an]})}return t})(),qs=(()=>{class t{_element;_renderer;_select;id;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(nx(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(Ae(Gt),Ae(yi),Ae(Si,9))};static \u0275dir=at({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})(),P2={provide:xi,useExisting:En(()=>rx),multi:!0};function LD(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function L2(t){return t.split(":")[0]}var rx=(()=>{class t extends Ws{value;_optionMap=new Map;_idCounter=0;set compareWith(n){this._compareWith=n}_compareWith=Object.is;writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let l=s[a],u=this._getOptionValue(l.value);i.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let l=s[a];if(l.selected){let u=this._getOptionValue(l.value);i.push(u)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=L2(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275dir=at({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&z("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[Xn([P2]),an]})}return t})(),Ys=(()=>{class t{_element;_renderer;_select;id;_value;constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(LD(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(LD(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(r){return new(r||t)(Ae(Gt),Ae(yi),Ae(rx,9))};static \u0275dir=at({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return t})();function ix(t){return typeof t=="number"?t:parseFloat(t)}var ox=(()=>{class t{_validator=ID;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):ID,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||t)};static \u0275dir=at({type:t,features:[ao]})}return t})(),V2={provide:Vd,useExisting:En(()=>km),multi:!0},km=(()=>{class t extends ox{max;inputName="max";normalizeInput=n=>ix(n);createValidator=n=>h2(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275dir=at({type:t,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&_n("max",i._enabled?i.max:null)},inputs:{max:"max"},standalone:!1,features:[Xn([V2]),an]})}return t})(),U2={provide:Vd,useExisting:En(()=>Om),multi:!0},Om=(()=>{class t extends ox{min;inputName="min";normalizeInput=n=>ix(n);createValidator=n=>f2(n);static \u0275fac=(()=>{let n;return function(i){return(n||(n=Un(t)))(i||t)}})();static \u0275dir=at({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&_n("min",i._enabled?i.min:null)},inputs:{min:"min"},standalone:!1,features:[Xn([U2]),an]})}return t})();var sx=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=jr({type:t});static \u0275inj=Vr({})}return t})();var dn=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:Bd,useValue:n.callSetDisabledState??jd}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=jr({type:t});static \u0275inj=Vr({imports:[sx]})}return t})(),ax=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:tx,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Bd,useValue:n.callSetDisabledState??jd}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=jr({type:t});static \u0275inj=Vr({imports:[sx]})}return t})();var Hd=class t{font;sampleText="Schreibe hier...";fontSize=100;downloadFont(){let e=document.createElement("a");e.href=this.font.filePath,e.download=`${this.font.name}.ttf`,e.click()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ve({type:t,selectors:[["app-font-item"]],inputs:{font:"font"},decls:13,vars:8,consts:[[1,"font-item"],[1,"font-header"],[1,"font-name"],[1,"title"],[1,"author"],["type","range","min","20","max","200",1,"font-slider",3,"ngModelChange","ngModel"],[1,"download-btn",3,"click"],[1,"typetester"],["type","text",1,"font-preview",3,"ngModelChange","ngModel"]],template:function(n,r){n&1&&(_(0,"div",0)(1,"div",1)(2,"p",2)(3,"span",3),F(4),S(),F(5," \u2013 "),_(6,"span",4),F(7),S()(),_(8,"input",5),tt("ngModelChange",function(o){return rt(r.fontSize,o)||(r.fontSize=o),o}),S(),_(9,"button",6),z("click",function(){return r.downloadFont()}),F(10,"\u2B07"),S()(),_(11,"div",7)(12,"input",8),tt("ngModelChange",function(o){return rt(r.sampleText,o)||(r.sampleText=o),o}),S()()()),n&2&&(N(4),Nt(r.font.name),N(3),Is("Created by ",r.font.createdBy,""),N(),et("ngModel",r.fontSize),N(4),Xc("font-family",r.font.name)("font-size",r.fontSize,"px"),et("ngModel",r.sampleText))},dependencies:[dn,un,qr,cn,Tn],styles:['@charset "UTF-8";.font-item[_ngcontent-%COMP%]{width:95vw;padding:10px;border:2px solid var(--secondary-color);background-color:var(--primary-color);display:flex;flex-direction:column;align-items:center;gap:10px}.font-header[_ngcontent-%COMP%]{width:90vw;display:flex;align-items:baseline;font-size:1.2rem;color:var(--secondary-color);border-bottom:2px solid var(--secondary-color);padding-bottom:2px}.typetester[_ngcontent-%COMP%]{display:flex}.font-name[_ngcontent-%COMP%]{flex-grow:1}.font-name[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase}.font-name[_ngcontent-%COMP%]   .author[_ngcontent-%COMP%]{font-weight:400;opacity:.8}.font-preview[_ngcontent-%COMP%]{width:100%;height:10vh;font-size:7rem;text-align:left;border:none;outline:none;background:transparent;color:var(--secondary-color)}.download-btn[_ngcontent-%COMP%]{margin-left:50px;height:2rem;background:var(--secondary-color);color:#fff;border:none;padding:5px 15px;font-size:1rem;cursor:pointer;border-radius:15px;transition:.3s ease-in-out}.download-btn[_ngcontent-%COMP%]:hover{position:fixed;color:var(--secondary-color);border:1px solid var(--secondary-color)}']})};var Gd=class t{constructor(e){this.elementRef=e}pattern;ngAfterViewInit(){fetch(this.pattern.filePath).then(e=>e.text()).then(e=>{this.elementRef.nativeElement.querySelector(".pattern-container").innerHTML=e}).catch(e=>console.error("SVG konnte nicht geladen werden:",e))}static \u0275fac=function(n){return new(n||t)(Ae(Gt))};static \u0275cmp=Ve({type:t,selectors:[["app-pattern-item"]],inputs:{pattern:"pattern"},decls:4,vars:2,consts:[[1,"pattern-item"],[1,"pattern-container"]],template:function(n,r){n&1&&(_(0,"div",0),te(1,"div",1),_(2,"p"),F(3),S()()),n&2&&(N(3),Ga("",r.pattern.name," \u2013 Created by ",r.pattern.createdBy,""))},styles:[".pattern-item[_ngcontent-%COMP%]{background-color:var(--primary-transparent)}@keyframes _ngcontent-%COMP%_draw{0%{stroke-dasharray:var(--path-length);stroke-dashoffset:var(--path-length)}to{stroke-dashoffset:0}}"]})};var $d=class t{project;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ve({type:t,selectors:[["app-project-item"]],inputs:{project:"project"},decls:4,vars:4,consts:[[1,"project-item"],[3,"src","alt"]],template:function(n,r){n&1&&(_(0,"div",0),te(1,"img",1),_(2,"p"),F(3),S()()),n&2&&(N(),se("src",r.project.filePath,Yb)("alt",r.project.name),N(2),Ga("",r.project.name," \u2013 Created by ",r.project.createdBy,""))},styles:[".project-item[_ngcontent-%COMP%]{background-color:var(--primary-transparent);padding:50px}"]})};function B2(t,e){if(t&1){let n=lt();_(0,"button",1),z("click",function(){let i=G(n).$implicit,o=xe();return $(o.setTag(i))}),F(1),S()}if(t&2){let n=e.$implicit,r=xe();Et("active",r.selectedTag()===n),N(),Is(" ",n," ")}}function j2(t,e){if(t&1&&te(0,"app-font-item",8),t&2){let n=xe().$implicit;se("font",n)}}function H2(t,e){if(t&1&&te(0,"app-pattern-item",9),t&2){let n=xe().$implicit;se("pattern",n)}}function G2(t,e){if(t&1&&te(0,"app-project-item",10),t&2){let n=xe().$implicit;se("project",n)}}function $2(t,e){if(t&1&&(go(0),Je(1,j2,1,1,"app-font-item",5)(2,H2,1,1,"app-pattern-item",6)(3,G2,1,1,"app-project-item",7),mo()),t&2){let n=e.$implicit;N(),se("ngIf",n.type==="font"),N(),se("ngIf",n.type==="pattern"),N(),se("ngIf",n.type==="project")}}var zd=class t{archiveService=A(Id);archiveItems=$t([]);selectedTag=$t(null);filteredItems=$t([]);ngOnInit(){this.archiveService.getArchiveItems().subscribe(e=>{this.archiveItems.set(e),this.updateFilteredItems()})}setTag(e){this.selectedTag.set(e),this.updateFilteredItems()}getUniqueTags(){return[...new Set(this.archiveItems().flatMap(e=>e.tags??[]))]}updateFilteredItems(){let e=this.selectedTag();this.filteredItems.set(e?this.archiveItems().filter(n=>n.tags?.includes(e)??!1):this.archiveItems())}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ve({type:t,selectors:[["app-archive"]],decls:6,vars:4,consts:[[1,"nav"],[3,"click"],[3,"active","click",4,"ngFor","ngForOf"],[1,"archive-list"],[4,"ngFor","ngForOf"],[3,"font",4,"ngIf"],[3,"pattern",4,"ngIf"],[3,"project",4,"ngIf"],[3,"font"],[3,"pattern"],[3,"project"]],template:function(n,r){n&1&&(_(0,"div",0)(1,"button",1),z("click",function(){return r.setTag(null)}),F(2,"Alle"),S(),Je(3,B2,2,3,"button",2),S(),_(4,"div",3),Je(5,$2,4,3,"ng-container",4),S()),n&2&&(N(),Et("active",!r.selectedTag()),N(2),se("ngForOf",r.getUniqueTags()),N(2),se("ngForOf",r.filteredItems()))},dependencies:[pt,yr,wr,Hd,Gd,$d],styles:['@charset "UTF-8";[_nghost-%COMP%]{width:100vw;height:100vh}.archive-list[_ngcontent-%COMP%]{width:100vw;height:100vh;overflow-y:scroll;overflow-x:hidden;display:flex;flex-wrap:wrap;gap:5px;justify-content:center;align-items:center;animation:spin-animation 1s ease-in-out;animation-fill-mode:forwards}@keyframes _ngcontent-%COMP%_fadeInSlide{0%{opacity:0;transform:translateY(30px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.archive-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{opacity:0;animation:_ngcontent-%COMP%_fadeInSlide .6s ease-out forwards}.archive-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.archive-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.archive-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.archive-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.archive-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}']})};String.prototype.codePointAt||function(){var t=function(){try{var n={},r=Object.defineProperty,i=r(n,n,n)&&r}catch{}return i}(),e=function(n){if(this==null)throw TypeError();var r=String(this),i=r.length,o=n?Number(n):0;if(o!=o&&(o=0),!(o<0||o>=i)){var s=r.charCodeAt(o),a;return s>=55296&&s<=56319&&i>o+1&&(a=r.charCodeAt(o+1),a>=56320&&a<=57343)?(s-55296)*1024+a-56320+65536:s}};t?t(String.prototype,"codePointAt",{value:e,configurable:!0,writable:!0}):String.prototype.codePointAt=e}();var Jm=0,qx=-3;function El(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function z2(t,e){this.source=t,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=e,this.destLen=0,this.ltree=new El,this.dtree=new El}var Yx=new El,Qx=new El,ev=new Uint8Array(30),tv=new Uint16Array(30),Zx=new Uint8Array(30),Xx=new Uint16Array(30),W2=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),lx=new El,Cr=new Uint8Array(320);function Kx(t,e,n,r){var i,o;for(i=0;i<n;++i)t[i]=0;for(i=0;i<30-n;++i)t[i+n]=i/n|0;for(o=r,i=0;i<30;++i)e[i]=o,o+=1<<t[i]}function q2(t,e){var n;for(n=0;n<7;++n)t.table[n]=0;for(t.table[7]=24,t.table[8]=152,t.table[9]=112,n=0;n<24;++n)t.trans[n]=256+n;for(n=0;n<144;++n)t.trans[24+n]=n;for(n=0;n<8;++n)t.trans[168+n]=280+n;for(n=0;n<112;++n)t.trans[176+n]=144+n;for(n=0;n<5;++n)e.table[n]=0;for(e.table[5]=32,n=0;n<32;++n)e.trans[n]=n}var ux=new Uint16Array(16);function Fm(t,e,n,r){var i,o;for(i=0;i<16;++i)t.table[i]=0;for(i=0;i<r;++i)t.table[e[n+i]]++;for(t.table[0]=0,o=0,i=0;i<16;++i)ux[i]=o,o+=t.table[i];for(i=0;i<r;++i)e[n+i]&&(t.trans[ux[e[n+i]]++]=i)}function Y2(t){t.bitcount--||(t.tag=t.source[t.sourceIndex++],t.bitcount=7);var e=t.tag&1;return t.tag>>>=1,e}function Er(t,e,n){if(!e)return n;for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var r=t.tag&65535>>>16-e;return t.tag>>>=e,t.bitcount-=e,r+n}function $m(t,e){for(;t.bitcount<24;)t.tag|=t.source[t.sourceIndex++]<<t.bitcount,t.bitcount+=8;var n=0,r=0,i=0,o=t.tag;do r=2*r+(o&1),o>>>=1,++i,n+=e.table[i],r-=e.table[i];while(r>=0);return t.tag=o,t.bitcount-=i,e.trans[n+r]}function Q2(t,e,n){var r,i,o,s,a,l;for(r=Er(t,5,257),i=Er(t,5,1),o=Er(t,4,4),s=0;s<19;++s)Cr[s]=0;for(s=0;s<o;++s){var u=Er(t,3,0);Cr[W2[s]]=u}for(Fm(lx,Cr,0,19),a=0;a<r+i;){var c=$m(t,lx);switch(c){case 16:var d=Cr[a-1];for(l=Er(t,2,3);l;--l)Cr[a++]=d;break;case 17:for(l=Er(t,3,3);l;--l)Cr[a++]=0;break;case 18:for(l=Er(t,7,11);l;--l)Cr[a++]=0;break;default:Cr[a++]=c;break}}Fm(e,Cr,0,r),Fm(n,Cr,r,i)}function cx(t,e,n){for(;;){var r=$m(t,e);if(r===256)return Jm;if(r<256)t.dest[t.destLen++]=r;else{var i,o,s,a;for(r-=257,i=Er(t,ev[r],tv[r]),o=$m(t,n),s=t.destLen-Er(t,Zx[o],Xx[o]),a=s;a<s+i;++a)t.dest[t.destLen++]=t.dest[a]}}}function Z2(t){for(var e,n,r;t.bitcount>8;)t.sourceIndex--,t.bitcount-=8;if(e=t.source[t.sourceIndex+1],e=256*e+t.source[t.sourceIndex],n=t.source[t.sourceIndex+3],n=256*n+t.source[t.sourceIndex+2],e!==(~n&65535))return qx;for(t.sourceIndex+=4,r=e;r;--r)t.dest[t.destLen++]=t.source[t.sourceIndex++];return t.bitcount=0,Jm}function X2(t,e){var n=new z2(t,e),r,i,o;do{switch(r=Y2(n),i=Er(n,2,0),i){case 0:o=Z2(n);break;case 1:o=cx(n,Yx,Qx);break;case 2:Q2(n,n.ltree,n.dtree),o=cx(n,n.ltree,n.dtree);break;default:o=qx}if(o!==Jm)throw new Error("Data error")}while(!r);return n.destLen<n.dest.length?typeof n.dest.slice=="function"?n.dest.slice(0,n.destLen):n.dest.subarray(0,n.destLen):n.dest}q2(Yx,Qx);Kx(ev,tv,4,3);Kx(Zx,Xx,2,1);ev[28]=0;tv[28]=258;var K2=X2;function Qs(t,e,n,r,i){return Math.pow(1-i,3)*t+3*Math.pow(1-i,2)*i*e+3*(1-i)*Math.pow(i,2)*n+Math.pow(i,3)*r}function Zr(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}Zr.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)};Zr.prototype.addPoint=function(t,e){typeof t=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),typeof e=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))};Zr.prototype.addX=function(t){this.addPoint(t,null)};Zr.prototype.addY=function(t){this.addPoint(null,t)};Zr.prototype.addBezier=function(t,e,n,r,i,o,s,a){var l=[t,e],u=[n,r],c=[i,o],d=[s,a];this.addPoint(t,e),this.addPoint(s,a);for(var f=0;f<=1;f++){var h=6*l[f]-12*u[f]+6*c[f],v=-3*l[f]+9*u[f]-9*c[f]+3*d[f],y=3*u[f]-3*l[f];if(v===0){if(h===0)continue;var C=-y/h;0<C&&C<1&&(f===0&&this.addX(Qs(l[f],u[f],c[f],d[f],C)),f===1&&this.addY(Qs(l[f],u[f],c[f],d[f],C)));continue}var E=Math.pow(h,2)-4*y*v;if(!(E<0)){var T=(-h+Math.sqrt(E))/(2*v);0<T&&T<1&&(f===0&&this.addX(Qs(l[f],u[f],c[f],d[f],T)),f===1&&this.addY(Qs(l[f],u[f],c[f],d[f],T)));var x=(-h-Math.sqrt(E))/(2*v);0<x&&x<1&&(f===0&&this.addX(Qs(l[f],u[f],c[f],d[f],x)),f===1&&this.addY(Qs(l[f],u[f],c[f],d[f],x)))}}};Zr.prototype.addQuad=function(t,e,n,r,i,o){var s=t+.6666666666666666*(n-t),a=e+2/3*(r-e),l=s+1/3*(i-t),u=a+1/3*(o-e);this.addBezier(t,e,s,a,l,u,i,o)};function ct(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}ct.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})};ct.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})};ct.prototype.curveTo=ct.prototype.bezierCurveTo=function(t,e,n,r,i,o){this.commands.push({type:"C",x1:t,y1:e,x2:n,y2:r,x:i,y:o})};ct.prototype.quadTo=ct.prototype.quadraticCurveTo=function(t,e,n,r){this.commands.push({type:"Q",x1:t,y1:e,x:n,y:r})};ct.prototype.close=ct.prototype.closePath=function(){this.commands.push({type:"Z"})};ct.prototype.extend=function(t){if(t.commands)t=t.commands;else if(t instanceof Zr){var e=t;this.moveTo(e.x1,e.y1),this.lineTo(e.x2,e.y1),this.lineTo(e.x2,e.y2),this.lineTo(e.x1,e.y2),this.close();return}Array.prototype.push.apply(this.commands,t)};ct.prototype.getBoundingBox=function(){for(var t=new Zr,e=0,n=0,r=0,i=0,o=0;o<this.commands.length;o++){var s=this.commands[o];switch(s.type){case"M":t.addPoint(s.x,s.y),e=r=s.x,n=i=s.y;break;case"L":t.addPoint(s.x,s.y),r=s.x,i=s.y;break;case"Q":t.addQuad(r,i,s.x1,s.y1,s.x,s.y),r=s.x,i=s.y;break;case"C":t.addBezier(r,i,s.x1,s.y1,s.x2,s.y2,s.x,s.y),r=s.x,i=s.y;break;case"Z":r=e,i=n;break;default:throw new Error("Unexpected path command "+s.type)}}return t.isEmpty()&&t.addPoint(0,0),t};ct.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var n=this.commands[e];n.type==="M"?t.moveTo(n.x,n.y):n.type==="L"?t.lineTo(n.x,n.y):n.type==="C"?t.bezierCurveTo(n.x1,n.y1,n.x2,n.y2,n.x,n.y):n.type==="Q"?t.quadraticCurveTo(n.x1,n.y1,n.x,n.y):n.type==="Z"&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())};ct.prototype.toPathData=function(t){t=t!==void 0?t:2;function e(s){return Math.round(s)===s?""+Math.round(s):s.toFixed(t)}function n(){for(var s=arguments,a="",l=0;l<arguments.length;l+=1){var u=s[l];u>=0&&l>0&&(a+=" "),a+=e(u)}return a}for(var r="",i=0;i<this.commands.length;i+=1){var o=this.commands[i];o.type==="M"?r+="M"+n(o.x,o.y):o.type==="L"?r+="L"+n(o.x,o.y):o.type==="C"?r+="C"+n(o.x1,o.y1,o.x2,o.y2,o.x,o.y):o.type==="Q"?r+="Q"+n(o.x1,o.y1,o.x,o.y):o.type==="Z"&&(r+="Z")}return r};ct.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};ct.prototype.toDOMElement=function(t){var e=this.toPathData(t),n=document.createElementNS("http://www.w3.org/2000/svg","path");return n.setAttribute("d",e),n};function Jx(t){throw new Error(t)}function dx(t,e){t||Jx(e)}var le={fail:Jx,argument:dx,assert:dx},fx=32768,hx=2147483648,Xs={},j={},de={};function nr(t){return function(){return t}}j.BYTE=function(t){return le.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]};de.BYTE=nr(1);j.CHAR=function(t){return[t.charCodeAt(0)]};de.CHAR=nr(1);j.CHARARRAY=function(t){typeof t>"u"&&(t="",console.warn("Undefined CHARARRAY encountered and treated as an empty string. This is probably caused by a missing glyph name."));for(var e=[],n=0;n<t.length;n+=1)e[n]=t.charCodeAt(n);return e};de.CHARARRAY=function(t){return typeof t>"u"?0:t.length};j.USHORT=function(t){return[t>>8&255,t&255]};de.USHORT=nr(2);j.SHORT=function(t){return t>=fx&&(t=-(2*fx-t)),[t>>8&255,t&255]};de.SHORT=nr(2);j.UINT24=function(t){return[t>>16&255,t>>8&255,t&255]};de.UINT24=nr(3);j.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]};de.ULONG=nr(4);j.LONG=function(t){return t>=hx&&(t=-(2*hx-t)),[t>>24&255,t>>16&255,t>>8&255,t&255]};de.LONG=nr(4);j.FIXED=j.ULONG;de.FIXED=de.ULONG;j.FWORD=j.SHORT;de.FWORD=de.SHORT;j.UFWORD=j.USHORT;de.UFWORD=de.USHORT;j.LONGDATETIME=function(t){return[0,0,0,0,t>>24&255,t>>16&255,t>>8&255,t&255]};de.LONGDATETIME=nr(8);j.TAG=function(t){return le.argument(t.length===4,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]};de.TAG=nr(4);j.Card8=j.BYTE;de.Card8=de.BYTE;j.Card16=j.USHORT;de.Card16=de.USHORT;j.OffSize=j.BYTE;de.OffSize=de.BYTE;j.SID=j.USHORT;de.SID=de.USHORT;j.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?(t=t-108,[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,[(t>>8)+251,t&255]):t>=-32768&&t<=32767?j.NUMBER16(t):j.NUMBER32(t)};de.NUMBER=function(t){return j.NUMBER(t).length};j.NUMBER16=function(t){return[28,t>>8&255,t&255]};de.NUMBER16=nr(3);j.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,t&255]};de.NUMBER32=nr(5);j.REAL=function(t){var e=t.toString(),n=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(n){var r=parseFloat("1e"+((n[2]?+n[2]:0)+n[1].length));e=(Math.round(t*r)/r).toString()}for(var i="",o=0,s=e.length;o<s;o+=1){var a=e[o];a==="e"?i+=e[++o]==="-"?"c":"b":a==="."?i+="a":a==="-"?i+="e":i+=a}i+=i.length&1?"f":"ff";for(var l=[30],u=0,c=i.length;u<c;u+=2)l.push(parseInt(i.substr(u,2),16));return l};de.REAL=function(t){return j.REAL(t).length};j.NAME=j.CHARARRAY;de.NAME=de.CHARARRAY;j.STRING=j.CHARARRAY;de.STRING=de.CHARARRAY;Xs.UTF8=function(t,e,n){for(var r=[],i=n,o=0;o<i;o++,e+=1)r[o]=t.getUint8(e);return String.fromCharCode.apply(null,r)};Xs.UTF16=function(t,e,n){for(var r=[],i=n/2,o=0;o<i;o++,e+=2)r[o]=t.getUint16(e);return String.fromCharCode.apply(null,r)};j.UTF16=function(t){for(var e=[],n=0;n<t.length;n+=1){var r=t.charCodeAt(n);e[e.length]=r>>8&255,e[e.length]=r&255}return e};de.UTF16=function(t){return t.length*2};var zm={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"};Xs.MACSTRING=function(t,e,n,r){var i=zm[r];if(i!==void 0){for(var o="",s=0;s<n;s++){var a=t.getUint8(e+s);a<=127?o+=String.fromCharCode(a):o+=i[a&127]}return o}};var qd=typeof WeakMap=="function"&&new WeakMap,Yd,J2=function(t){if(!Yd){Yd={};for(var e in zm)Yd[e]=new String(e)}var n=Yd[t];if(n!==void 0){if(qd){var r=qd.get(n);if(r!==void 0)return r}var i=zm[t];if(i!==void 0){for(var o={},s=0;s<i.length;s++)o[i.charCodeAt(s)]=s+128;return qd&&qd.set(n,o),o}}};j.MACSTRING=function(t,e){var n=J2(e);if(n!==void 0){for(var r=[],i=0;i<t.length;i++){var o=t.charCodeAt(i);if(o>=128&&(o=n[o],o===void 0))return;r[i]=o}return r}};de.MACSTRING=function(t,e){var n=j.MACSTRING(t,e);return n!==void 0?n.length:0};function Wm(t){return t>=-128&&t<=127}function eL(t,e,n){for(var r=0,i=t.length;e<i&&r<64&&t[e]===0;)++e,++r;return n.push(128|r-1),e}function tL(t,e,n){for(var r=0,i=t.length,o=e;o<i&&r<64;){var s=t[o];if(!Wm(s)||s===0&&o+1<i&&t[o+1]===0)break;++o,++r}n.push(r-1);for(var a=e;a<o;++a)n.push(t[a]+256&255);return o}function nL(t,e,n){for(var r=0,i=t.length,o=e;o<i&&r<64;){var s=t[o];if(s===0||Wm(s)&&o+1<i&&Wm(t[o+1]))break;++o,++r}n.push(64|r-1);for(var a=e;a<o;++a){var l=t[a];n.push(l+65536>>8&255,l+256&255)}return o}j.VARDELTAS=function(t){for(var e=0,n=[];e<t.length;){var r=t[e];r===0?e=eL(t,e,n):r>=-128&&r<=127?e=tL(t,e,n):e=nL(t,e,n)}return n};j.INDEX=function(t){for(var e=1,n=[e],r=[],i=0;i<t.length;i+=1){var o=j.OBJECT(t[i]);Array.prototype.push.apply(r,o),e+=o.length,n.push(e)}if(r.length===0)return[0,0];for(var s=[],a=1+Math.floor(Math.log(e)/Math.log(2))/8|0,l=[void 0,j.BYTE,j.USHORT,j.UINT24,j.ULONG][a],u=0;u<n.length;u+=1){var c=l(n[u]);Array.prototype.push.apply(s,c)}return Array.prototype.concat(j.Card16(t.length),j.OffSize(a),s,r)};de.INDEX=function(t){return j.INDEX(t).length};j.DICT=function(t){for(var e=[],n=Object.keys(t),r=n.length,i=0;i<r;i+=1){var o=parseInt(n[i],0),s=t[o];e=e.concat(j.OPERAND(s.value,s.type)),e=e.concat(j.OPERATOR(o))}return e};de.DICT=function(t){return j.DICT(t).length};j.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]};j.OPERAND=function(t,e){var n=[];if(Array.isArray(e))for(var r=0;r<e.length;r+=1)le.argument(t.length===e.length,"Not enough arguments given for type"+e),n=n.concat(j.OPERAND(t[r],e[r]));else if(e==="SID")n=n.concat(j.NUMBER(t));else if(e==="offset")n=n.concat(j.NUMBER32(t));else if(e==="number")n=n.concat(j.NUMBER(t));else if(e==="real")n=n.concat(j.REAL(t));else throw new Error("Unknown operand type "+e);return n};j.OP=j.BYTE;de.OP=de.BYTE;var Qd=typeof WeakMap=="function"&&new WeakMap;j.CHARSTRING=function(t){if(Qd){var e=Qd.get(t);if(e!==void 0)return e}for(var n=[],r=t.length,i=0;i<r;i+=1){var o=t[i];n=n.concat(j[o.type](o.value))}return Qd&&Qd.set(t,n),n};de.CHARSTRING=function(t){return j.CHARSTRING(t).length};j.OBJECT=function(t){var e=j[t.type];return le.argument(e!==void 0,"No encoding function for type "+t.type),e(t.value)};de.OBJECT=function(t){var e=de[t.type];return le.argument(e!==void 0,"No sizeOf function for type "+t.type),e(t.value)};j.TABLE=function(t){for(var e=[],n=t.fields.length,r=[],i=[],o=0;o<n;o+=1){var s=t.fields[o],a=j[s.type];le.argument(a!==void 0,"No encoding function for field type "+s.type+" ("+s.name+")");var l=t[s.name];l===void 0&&(l=s.value);var u=a(l);s.type==="TABLE"?(i.push(e.length),e=e.concat([0,0]),r.push(u)):e=e.concat(u)}for(var c=0;c<r.length;c+=1){var d=i[c],f=e.length;le.argument(f<65536,"Table "+t.tableName+" too big."),e[d]=f>>8,e[d+1]=f&255,e=e.concat(r[c])}return e};de.TABLE=function(t){for(var e=0,n=t.fields.length,r=0;r<n;r+=1){var i=t.fields[r],o=de[i.type];le.argument(o!==void 0,"No sizeOf function for field type "+i.type+" ("+i.name+")");var s=t[i.name];s===void 0&&(s=i.value),e+=o(s),i.type==="TABLE"&&(e+=2)}return e};j.RECORD=j.TABLE;de.RECORD=de.TABLE;j.LITERAL=function(t){return t};de.LITERAL=function(t){return t.length};function Pt(t,e,n){if(e.length&&(e[0].name!=="coverageFormat"||e[0].value===1))for(var r=0;r<e.length;r+=1){var i=e[r];this[i.name]=i.value}if(this.tableName=t,this.fields=e,n)for(var o=Object.keys(n),s=0;s<o.length;s+=1){var a=o[s],l=n[a];this[a]!==void 0&&(this[a]=l)}}Pt.prototype.encode=function(){return j.TABLE(this)};Pt.prototype.sizeOf=function(){return de.TABLE(this)};function Dl(t,e,n){n===void 0&&(n=e.length);var r=new Array(e.length+1);r[0]={name:t+"Count",type:"USHORT",value:n};for(var i=0;i<e.length;i++)r[i+1]={name:t+i,type:"USHORT",value:e[i]};return r}function qm(t,e,n){var r=e.length,i=new Array(r+1);i[0]={name:t+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i[o+1]={name:t+o,type:"TABLE",value:n(e[o],o)};return i}function xl(t,e,n){var r=e.length,i=[];i[0]={name:t+"Count",type:"USHORT",value:r};for(var o=0;o<r;o++)i=i.concat(n(e[o],o));return i}function ef(t){t.format===1?Pt.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(Dl("glyph",t.glyphs))):t.format===2?Pt.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:2}].concat(xl("rangeRecord",t.ranges,function(e){return[{name:"startGlyphID",type:"USHORT",value:e.start},{name:"endGlyphID",type:"USHORT",value:e.end},{name:"startCoverageIndex",type:"USHORT",value:e.index}]}))):le.assert(!1,"Coverage format must be 1 or 2.")}ef.prototype=Object.create(Pt.prototype);ef.prototype.constructor=ef;function tf(t){Pt.call(this,"scriptListTable",xl("scriptRecord",t,function(e,n){var r=e.script,i=r.defaultLangSys;return le.assert(!!i,"Unable to write GSUB: script "+e.tag+" has no default language system."),[{name:"scriptTag"+n,type:"TAG",value:e.tag},{name:"script"+n,type:"TABLE",value:new Pt("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new Pt("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:i.reqFeatureIndex}].concat(Dl("featureIndex",i.featureIndexes)))}].concat(xl("langSys",r.langSysRecords,function(o,s){var a=o.langSys;return[{name:"langSysTag"+s,type:"TAG",value:o.tag},{name:"langSys"+s,type:"TABLE",value:new Pt("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:a.reqFeatureIndex}].concat(Dl("featureIndex",a.featureIndexes)))}]})))}]}))}tf.prototype=Object.create(Pt.prototype);tf.prototype.constructor=tf;function nf(t){Pt.call(this,"featureListTable",xl("featureRecord",t,function(e,n){var r=e.feature;return[{name:"featureTag"+n,type:"TAG",value:e.tag},{name:"feature"+n,type:"TABLE",value:new Pt("featureTable",[{name:"featureParams",type:"USHORT",value:r.featureParams}].concat(Dl("lookupListIndex",r.lookupListIndexes)))}]}))}nf.prototype=Object.create(Pt.prototype);nf.prototype.constructor=nf;function rf(t,e){Pt.call(this,"lookupListTable",qm("lookup",t,function(n){var r=e[n.lookupType];return le.assert(!!r,"Unable to write GSUB lookup type "+n.lookupType+" tables."),new Pt("lookupTable",[{name:"lookupType",type:"USHORT",value:n.lookupType},{name:"lookupFlag",type:"USHORT",value:n.lookupFlag}].concat(qm("subtable",n.subtables,r)))}))}rf.prototype=Object.create(Pt.prototype);rf.prototype.constructor=rf;var W={Table:Pt,Record:Pt,Coverage:ef,ScriptList:tf,FeatureList:nf,LookupList:rf,ushortList:Dl,tableList:qm,recordList:xl};function px(t,e){return t.getUint8(e)}function of(t,e){return t.getUint16(e,!1)}function rL(t,e){return t.getInt16(e,!1)}function nv(t,e){return t.getUint32(e,!1)}function e_(t,e){var n=t.getInt16(e,!1),r=t.getUint16(e+2,!1);return n+r/65535}function iL(t,e){for(var n="",r=e;r<e+4;r+=1)n+=String.fromCharCode(t.getInt8(r));return n}function oL(t,e,n){for(var r=0,i=0;i<n;i+=1)r<<=8,r+=t.getUint8(e+i);return r}function sL(t,e,n){for(var r=[],i=e;i<n;i+=1)r.push(t.getUint8(i));return r}function aL(t){for(var e="",n=0;n<t.length;n+=1)e+=String.fromCharCode(t[n]);return e}var lL={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function M(t,e){this.data=t,this.offset=e,this.relativeOffset=0}M.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};M.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};M.prototype.parseCard8=M.prototype.parseByte;M.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};M.prototype.parseCard16=M.prototype.parseUShort;M.prototype.parseSID=M.prototype.parseUShort;M.prototype.parseOffset16=M.prototype.parseUShort;M.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};M.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t};M.prototype.parseULong=function(){var t=nv(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};M.prototype.parseOffset32=M.prototype.parseULong;M.prototype.parseFixed=function(){var t=e_(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};M.prototype.parseString=function(t){var e=this.data,n=this.offset+this.relativeOffset,r="";this.relativeOffset+=t;for(var i=0;i<t;i++)r+=String.fromCharCode(e.getUint8(n+i));return r};M.prototype.parseTag=function(){return this.parseString(4)};M.prototype.parseLongDateTime=function(){var t=nv(this.data,this.offset+this.relativeOffset+4);return t-=2082844800,this.relativeOffset+=8,t};M.prototype.parseVersion=function(t){var e=of(this.data,this.offset+this.relativeOffset),n=of(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t===void 0&&(t=4096),e+n/t/10};M.prototype.skip=function(t,e){e===void 0&&(e=1),this.relativeOffset+=lL[t]*e};M.prototype.parseULongList=function(t){t===void 0&&(t=this.parseULong());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint32(r),r+=4;return this.relativeOffset+=t*4,e};M.prototype.parseOffset16List=M.prototype.parseUShortList=function(t){t===void 0&&(t=this.parseUShort());for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint16(r),r+=2;return this.relativeOffset+=t*2,e};M.prototype.parseShortList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getInt16(r),r+=2;return this.relativeOffset+=t*2,e};M.prototype.parseByteList=function(t){for(var e=new Array(t),n=this.data,r=this.offset+this.relativeOffset,i=0;i<t;i++)e[i]=n.getUint8(r++);return this.relativeOffset+=t,e};M.prototype.parseList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};M.prototype.parseList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=0;r<t;r++)n[r]=e.call(this);return n};M.prototype.parseRecordList=function(t,e){e||(e=t,t=this.parseUShort());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var o={},s=0;s<r.length;s++){var a=r[s],l=e[a];o[a]=l.call(this)}n[i]=o}return n};M.prototype.parseRecordList32=function(t,e){e||(e=t,t=this.parseULong());for(var n=new Array(t),r=Object.keys(e),i=0;i<t;i++){for(var o={},s=0;s<r.length;s++){var a=r[s],l=e[a];o[a]=l.call(this)}n[i]=o}return n};M.prototype.parseStruct=function(t){if(typeof t=="function")return t.call(this);for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r],o=t[i];n[i]=o.call(this)}return n};M.prototype.parseValueRecord=function(t){if(t===void 0&&(t=this.parseUShort()),t!==0){var e={};return t&1&&(e.xPlacement=this.parseShort()),t&2&&(e.yPlacement=this.parseShort()),t&4&&(e.xAdvance=this.parseShort()),t&8&&(e.yAdvance=this.parseShort()),t&16&&(e.xPlaDevice=void 0,this.parseShort()),t&32&&(e.yPlaDevice=void 0,this.parseShort()),t&64&&(e.xAdvDevice=void 0,this.parseShort()),t&128&&(e.yAdvDevice=void 0,this.parseShort()),e}};M.prototype.parseValueRecordList=function(){for(var t=this.parseUShort(),e=this.parseUShort(),n=new Array(e),r=0;r<e;r++)n[r]=this.parseValueRecord(t);return n};M.prototype.parsePointer=function(t){var e=this.parseOffset16();if(e>0)return new M(this.data,this.offset+e).parseStruct(t)};M.prototype.parsePointer32=function(t){var e=this.parseOffset32();if(e>0)return new M(this.data,this.offset+e).parseStruct(t)};M.prototype.parseListOfLists=function(t){for(var e=this.parseOffset16List(),n=e.length,r=this.relativeOffset,i=new Array(n),o=0;o<n;o++){var s=e[o];if(s===0){i[o]=void 0;continue}if(this.relativeOffset=s,t){for(var a=this.parseOffset16List(),l=new Array(a.length),u=0;u<a.length;u++)this.relativeOffset=s+a[u],l[u]=t.call(this);i[o]=l}else i[o]=this.parseUShortList()}return this.relativeOffset=r,i};M.prototype.parseCoverage=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort(),n=this.parseUShort();if(e===1)return{format:1,glyphs:this.parseUShortList(n)};if(e===2){for(var r=new Array(n),i=0;i<n;i++)r[i]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:r}}throw new Error("0x"+t.toString(16)+": Coverage format must be 1 or 2.")};M.prototype.parseClassDef=function(){var t=this.offset+this.relativeOffset,e=this.parseUShort();if(e===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(e===2)return{format:2,ranges:this.parseRecordList({start:M.uShort,end:M.uShort,classId:M.uShort})};throw new Error("0x"+t.toString(16)+": ClassDef format must be 1 or 2.")};M.list=function(t,e){return function(){return this.parseList(t,e)}};M.list32=function(t,e){return function(){return this.parseList32(t,e)}};M.recordList=function(t,e){return function(){return this.parseRecordList(t,e)}};M.recordList32=function(t,e){return function(){return this.parseRecordList32(t,e)}};M.pointer=function(t){return function(){return this.parsePointer(t)}};M.pointer32=function(t){return function(){return this.parsePointer32(t)}};M.tag=M.prototype.parseTag;M.byte=M.prototype.parseByte;M.uShort=M.offset16=M.prototype.parseUShort;M.uShortList=M.prototype.parseUShortList;M.uLong=M.offset32=M.prototype.parseULong;M.uLongList=M.prototype.parseULongList;M.struct=M.prototype.parseStruct;M.coverage=M.prototype.parseCoverage;M.classDef=M.prototype.parseClassDef;var gx={reserved:M.uShort,reqFeatureIndex:M.uShort,featureIndexes:M.uShortList};M.prototype.parseScriptList=function(){return this.parsePointer(M.recordList({tag:M.tag,script:M.pointer({defaultLangSys:M.pointer(gx),langSysRecords:M.recordList({tag:M.tag,langSys:M.pointer(gx)})})}))||[]};M.prototype.parseFeatureList=function(){return this.parsePointer(M.recordList({tag:M.tag,feature:M.pointer({featureParams:M.offset16,lookupListIndexes:M.uShortList})}))||[]};M.prototype.parseLookupList=function(t){return this.parsePointer(M.list(M.pointer(function(){var e=this.parseUShort();le.argument(1<=e&&e<=9,"GPOS/GSUB lookup type "+e+" unknown.");var n=this.parseUShort(),r=n&16;return{lookupType:e,lookupFlag:n,subtables:this.parseList(M.pointer(t[e])),markFilteringSet:r?this.parseUShort():void 0}})))||[]};M.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var t=this.parseUShort(),e=this.parseUShort();le.argument(t===1&&e<1,"GPOS/GSUB feature variations table unknown.");var n=this.parseRecordList32({conditionSetOffset:M.offset32,featureTableSubstitutionOffset:M.offset32});return n})||[]};var K={getByte:px,getCard8:px,getUShort:of,getCard16:of,getShort:rL,getULong:nv,getFixed:e_,getTag:iL,getOffset:oL,getBytes:sL,bytesToString:aL,Parser:M};function uL(t,e){e.parseUShort(),t.length=e.parseULong(),t.language=e.parseULong();var n;t.groupCount=n=e.parseULong(),t.glyphIndexMap={};for(var r=0;r<n;r+=1)for(var i=e.parseULong(),o=e.parseULong(),s=e.parseULong(),a=i;a<=o;a+=1)t.glyphIndexMap[a]=s,s++}function cL(t,e,n,r,i){t.length=e.parseUShort(),t.language=e.parseUShort();var o;t.segCount=o=e.parseUShort()>>1,e.skip("uShort",3),t.glyphIndexMap={};for(var s=new K.Parser(n,r+i+14),a=new K.Parser(n,r+i+16+o*2),l=new K.Parser(n,r+i+16+o*4),u=new K.Parser(n,r+i+16+o*6),c=r+i+16+o*8,d=0;d<o-1;d+=1)for(var f=void 0,h=s.parseUShort(),v=a.parseUShort(),y=l.parseShort(),C=u.parseUShort(),E=v;E<=h;E+=1)C!==0?(c=u.offset+u.relativeOffset-2,c+=C,c+=(E-v)*2,f=K.getUShort(n,c),f!==0&&(f=f+y&65535)):f=E+y&65535,t.glyphIndexMap[E]=f}function dL(t,e){var n={};n.version=K.getUShort(t,e),le.argument(n.version===0,"cmap table version should be 0."),n.numTables=K.getUShort(t,e+2);for(var r=-1,i=n.numTables-1;i>=0;i-=1){var o=K.getUShort(t,e+4+i*8),s=K.getUShort(t,e+4+i*8+2);if(o===3&&(s===0||s===1||s===10)||o===0&&(s===0||s===1||s===2||s===3||s===4)){r=K.getULong(t,e+4+i*8+4);break}}if(r===-1)throw new Error("No valid cmap sub-tables found.");var a=new K.Parser(t,e+r);if(n.format=a.parseUShort(),n.format===12)uL(n,a);else if(n.format===4)cL(n,a,t,e,r);else throw new Error("Only format 4 and 12 cmap tables are supported (found format "+n.format+").");return n}function fL(t,e,n){t.segments.push({end:e,start:e,delta:-(e-n),offset:0,glyphIndex:n})}function hL(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function pL(t){var e=!0,n;for(n=t.length-1;n>0;n-=1){var r=t.get(n);if(r.unicode>65535){console.log("Adding CMAP format 12 (needed!)"),e=!1;break}}var i=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:e?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:e?12:20}];e||(i=i.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])),i=i.concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);var o=new W.Table("cmap",i);for(o.segments=[],n=0;n<t.length;n+=1){for(var s=t.get(n),a=0;a<s.unicodes.length;a+=1)fL(o,s.unicodes[a],n);o.segments=o.segments.sort(function(T,x){return T.start-x.start})}hL(o);var l=o.segments.length,u=0,c=[],d=[],f=[],h=[],v=[],y=[];for(n=0;n<l;n+=1){var C=o.segments[n];C.end<=65535&&C.start<=65535?(c=c.concat({name:"end_"+n,type:"USHORT",value:C.end}),d=d.concat({name:"start_"+n,type:"USHORT",value:C.start}),f=f.concat({name:"idDelta_"+n,type:"SHORT",value:C.delta}),h=h.concat({name:"idRangeOffset_"+n,type:"USHORT",value:C.offset}),C.glyphId!==void 0&&(v=v.concat({name:"glyph_"+n,type:"USHORT",value:C.glyphId}))):u+=1,!e&&C.glyphIndex!==void 0&&(y=y.concat({name:"cmap12Start_"+n,type:"ULONG",value:C.start}),y=y.concat({name:"cmap12End_"+n,type:"ULONG",value:C.end}),y=y.concat({name:"cmap12Glyph_"+n,type:"ULONG",value:C.glyphIndex}))}if(o.segCountX2=(l-u)*2,o.searchRange=Math.pow(2,Math.floor(Math.log(l-u)/Math.log(2)))*2,o.entrySelector=Math.log(o.searchRange/2)/Math.log(2),o.rangeShift=o.segCountX2-o.searchRange,o.fields=o.fields.concat(c),o.fields.push({name:"reservedPad",type:"USHORT",value:0}),o.fields=o.fields.concat(d),o.fields=o.fields.concat(f),o.fields=o.fields.concat(h),o.fields=o.fields.concat(v),o.cmap4Length=14+c.length*2+2+d.length*2+f.length*2+h.length*2+v.length*2,!e){var E=16+y.length*4;o.cmap12Offset=12+2*2+4+o.cmap4Length,o.fields=o.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:E},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:y.length/3}]),o.fields=o.fields.concat(y)}return o}var t_={parse:dL,make:pL},Kd=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],gL=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],mL=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],So=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function n_(t){this.font=t}n_.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.font.glyphs;if(n){for(var r=0;r<n.length;r+=1)for(var i=n.get(r),o=0;o<i.unicodes.length;o+=1)if(i.unicodes[o]===e)return r}return null};function r_(t){this.cmap=t}r_.prototype.charToGlyphIndex=function(t){return this.cmap.glyphIndexMap[t.codePointAt(0)]||0};function sf(t,e){this.encoding=t,this.charset=e}sf.prototype.charToGlyphIndex=function(t){var e=t.codePointAt(0),n=this.encoding[e];return this.charset.indexOf(n)};function rv(t){switch(t.version){case 1:this.names=So.slice();break;case 2:this.names=new Array(t.numberOfGlyphs);for(var e=0;e<t.numberOfGlyphs;e++)t.glyphNameIndex[e]<So.length?this.names[e]=So[t.glyphNameIndex[e]]:this.names[e]=t.names[t.glyphNameIndex[e]-So.length];break;case 2.5:this.names=new Array(t.numberOfGlyphs);for(var n=0;n<t.numberOfGlyphs;n++)this.names[n]=So[n+t.glyphNameIndex[n]];break;case 3:this.names=[];break;default:this.names=[];break}}rv.prototype.nameToGlyphIndex=function(t){return this.names.indexOf(t)};rv.prototype.glyphIndexToName=function(t){return this.names[t]};function vL(t){for(var e,n=t.tables.cmap.glyphIndexMap,r=Object.keys(n),i=0;i<r.length;i+=1){var o=r[i],s=n[o];e=t.glyphs.get(s),e.addUnicode(parseInt(o))}for(var a=0;a<t.glyphs.length;a+=1)e=t.glyphs.get(a),t.cffEncoding?t.isCIDFont?e.name="gid"+a:e.name=t.cffEncoding.charset[a]:t.glyphNames.names&&(e.name=t.glyphNames.glyphIndexToName(a))}function yL(t){t._IndexToUnicodeMap={};for(var e=t.tables.cmap.glyphIndexMap,n=Object.keys(e),r=0;r<n.length;r+=1){var i=n[r],o=e[i];t._IndexToUnicodeMap[o]===void 0?t._IndexToUnicodeMap[o]={unicodes:[parseInt(i)]}:t._IndexToUnicodeMap[o].unicodes.push(parseInt(i))}}function wL(t,e){e.lowMemory?yL(t):vL(t)}function bL(t,e,n,r,i){t.beginPath(),t.moveTo(e,n),t.lineTo(r,i),t.stroke()}var _o={line:bL};function CL(t,e){var n=e||new ct;return{configurable:!0,get:function(){return typeof n=="function"&&(n=n()),n},set:function(r){n=r}}}function Kt(t){this.bindConstructorValues(t)}Kt.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||t.unicode!==void 0?[t.unicode]:[],"xMin"in t&&(this.xMin=t.xMin),"yMin"in t&&(this.yMin=t.yMin),"xMax"in t&&(this.xMax=t.xMax),"yMax"in t&&(this.yMax=t.yMax),"advanceWidth"in t&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",CL(this,t.path))};Kt.prototype.addUnicode=function(t){this.unicodes.length===0&&(this.unicode=t),this.unicodes.push(t)};Kt.prototype.getBoundingBox=function(){return this.path.getBoundingBox()};Kt.prototype.getPath=function(t,e,n,r,i){t=t!==void 0?t:0,e=e!==void 0?e:0,n=n!==void 0?n:72;var o,s;r||(r={});var a=r.xScale,l=r.yScale;if(r.hinting&&i&&i.hinting&&(s=this.path&&i.hinting.exec(this,n)),s)o=i.hinting.getCommands(s),t=Math.round(t),e=Math.round(e),a=l=1;else{o=this.path.commands;var u=1/(this.path.unitsPerEm||1e3)*n;a===void 0&&(a=u),l===void 0&&(l=u)}for(var c=new ct,d=0;d<o.length;d+=1){var f=o[d];f.type==="M"?c.moveTo(t+f.x*a,e+-f.y*l):f.type==="L"?c.lineTo(t+f.x*a,e+-f.y*l):f.type==="Q"?c.quadraticCurveTo(t+f.x1*a,e+-f.y1*l,t+f.x*a,e+-f.y*l):f.type==="C"?c.curveTo(t+f.x1*a,e+-f.y1*l,t+f.x2*a,e+-f.y2*l,t+f.x*a,e+-f.y*l):f.type==="Z"&&c.closePath()}return c};Kt.prototype.getContours=function(){if(this.points===void 0)return[];for(var t=[],e=[],n=0;n<this.points.length;n+=1){var r=this.points[n];e.push(r),r.lastPointOfContour&&(t.push(e),e=[])}return le.argument(e.length===0,"There are still points left in the current contour."),t};Kt.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];i.type!=="Z"&&(e.push(i.x),n.push(i.y)),(i.type==="Q"||i.type==="C")&&(e.push(i.x1),n.push(i.y1)),i.type==="C"&&(e.push(i.x2),n.push(i.y2))}var o={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,n),leftSideBearing:this.leftSideBearing};return isFinite(o.xMin)||(o.xMin=0),isFinite(o.xMax)||(o.xMax=this.advanceWidth),isFinite(o.yMin)||(o.yMin=0),isFinite(o.yMax)||(o.yMax=0),o.rightSideBearing=this.advanceWidth-o.leftSideBearing-(o.xMax-o.xMin),o};Kt.prototype.draw=function(t,e,n,r,i){this.getPath(e,n,r,i).draw(t)};Kt.prototype.drawPoints=function(t,e,n,r){function i(d,f,h,v){t.beginPath();for(var y=0;y<d.length;y+=1)t.moveTo(f+d[y].x*v,h+d[y].y*v),t.arc(f+d[y].x*v,h+d[y].y*v,2,0,Math.PI*2,!1);t.closePath(),t.fill()}e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24;for(var o=1/this.path.unitsPerEm*r,s=[],a=[],l=this.path,u=0;u<l.commands.length;u+=1){var c=l.commands[u];c.x!==void 0&&s.push({x:c.x,y:-c.y}),c.x1!==void 0&&a.push({x:c.x1,y:-c.y1}),c.x2!==void 0&&a.push({x:c.x2,y:-c.y2})}t.fillStyle="blue",i(s,e,n,o),t.fillStyle="red",i(a,e,n,o)};Kt.prototype.drawMetrics=function(t,e,n,r){var i;e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:24,i=1/this.path.unitsPerEm*r,t.lineWidth=1,t.strokeStyle="black",_o.line(t,e,-1e4,e,1e4),_o.line(t,-1e4,n,1e4,n);var o=this.xMin||0,s=this.yMin||0,a=this.xMax||0,l=this.yMax||0,u=this.advanceWidth||0;t.strokeStyle="blue",_o.line(t,e+o*i,-1e4,e+o*i,1e4),_o.line(t,e+a*i,-1e4,e+a*i,1e4),_o.line(t,-1e4,n+-s*i,1e4,n+-s*i),_o.line(t,-1e4,n+-l*i,1e4,n+-l*i),t.strokeStyle="green",_o.line(t,e+u*i,-1e4,e+u*i,1e4)};function Zd(t,e,n){Object.defineProperty(t,e,{get:function(){return t.path,t[n]},set:function(r){t[n]=r},enumerable:!0,configurable:!0})}function iv(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];r.path.unitsPerEm=t.unitsPerEm,this.glyphs[n]=r}this.length=e&&e.length||0}iv.prototype.get=function(t){if(this.glyphs[t]===void 0){this.font._push(t),typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());var e=this.glyphs[t],n=this.font._IndexToUnicodeMap[t];if(n)for(var r=0;r<n.unicodes.length;r++)e.addUnicode(n.unicodes[r]);this.font.cffEncoding?this.font.isCIDFont?e.name="gid"+t:e.name=this.font.cffEncoding.charset[t]:this.font.glyphNames.names&&(e.name=this.font.glyphNames.glyphIndexToName(t)),this.glyphs[t].advanceWidth=this.font._hmtxTableData[t].advanceWidth,this.glyphs[t].leftSideBearing=this.font._hmtxTableData[t].leftSideBearing}else typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]());return this.glyphs[t]};iv.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};function EL(t,e){return new Kt({index:e,font:t})}function DL(t,e,n,r,i,o){return function(){var s=new Kt({index:e,font:t});return s.path=function(){n(s,r,i);var a=o(t.glyphs,s);return a.unitsPerEm=t.unitsPerEm,a},Zd(s,"xMin","_xMin"),Zd(s,"xMax","_xMax"),Zd(s,"yMin","_yMin"),Zd(s,"yMax","_yMax"),s}}function xL(t,e,n,r){return function(){var i=new Kt({index:e,font:t});return i.path=function(){var o=n(t,i,r);return o.unitsPerEm=t.unitsPerEm,o},i}}var xr={GlyphSet:iv,glyphLoader:EL,ttfGlyphLoader:DL,cffGlyphLoader:xL};function i_(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n+=1)if(!i_(t[n],e[n]))return!1;return!0}else return!1}function Ym(t){var e;return t.length<1240?e=107:t.length<33900?e=1131:e=32768,e}function Ii(t,e,n){var r=[],i=[],o=K.getCard16(t,e),s,a;if(o!==0){var l=K.getByte(t,e+2);s=e+(o+1)*l+2;for(var u=e+3,c=0;c<o+1;c+=1)r.push(K.getOffset(t,u,l)),u+=l;a=s+r[o]}else a=e+2;for(var d=0;d<r.length-1;d+=1){var f=K.getBytes(t,s+r[d],s+r[d+1]);n&&(f=n(f)),i.push(f)}return{objects:i,startOffset:e,endOffset:a}}function _L(t,e){var n=[],r=K.getCard16(t,e),i,o;if(r!==0){var s=K.getByte(t,e+2);i=e+(r+1)*s+2;for(var a=e+3,l=0;l<r+1;l+=1)n.push(K.getOffset(t,a,s)),a+=s;o=i+n[r]}else o=e+2;return{offsets:n,startOffset:e,endOffset:o}}function SL(t,e,n,r,i){var o=K.getCard16(n,r),s=0;if(o!==0){var a=K.getByte(n,r+2);s=r+(o+1)*a+2}var l=K.getBytes(n,s+e[t],s+e[t+1]);return i&&(l=i(l)),l}function ML(t){for(var e="",n=15,r=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var i=t.parseByte(),o=i>>4,s=i&15;if(o===n||(e+=r[o],s===n))break;e+=r[s]}return parseFloat(e)}function TL(t,e){var n,r,i,o;if(e===28)return n=t.parseByte(),r=t.parseByte(),n<<8|r;if(e===29)return n=t.parseByte(),r=t.parseByte(),i=t.parseByte(),o=t.parseByte(),n<<24|r<<16|i<<8|o;if(e===30)return ML(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return n=t.parseByte(),(e-247)*256+n+108;if(e>=251&&e<=254)return n=t.parseByte(),-(e-251)*256-n-108;throw new Error("Invalid b0 "+e)}function IL(t){for(var e={},n=0;n<t.length;n+=1){var r=t[n][0],i=t[n][1],o=void 0;if(i.length===1?o=i[0]:o=i,e.hasOwnProperty(r)&&!isNaN(e[r]))throw new Error("Object "+e+" already has key "+r);e[r]=o}return e}function o_(t,e,n){e=e!==void 0?e:0;var r=new K.Parser(t,e),i=[],o=[];for(n=n!==void 0?n:t.length;r.relativeOffset<n;){var s=r.parseByte();s<=21?(s===12&&(s=1200+r.parseByte()),i.push([s,o]),o=[]):o.push(TL(r,s))}return IL(i)}function Cl(t,e){return e<=390?e=Kd[e]:e=t[e-391],e}function s_(t,e,n){for(var r={},i,o=0;o<e.length;o+=1){var s=e[o];if(Array.isArray(s.type)){var a=[];a.length=s.type.length;for(var l=0;l<s.type.length;l++)i=t[s.op]!==void 0?t[s.op][l]:void 0,i===void 0&&(i=s.value!==void 0&&s.value[l]!==void 0?s.value[l]:null),s.type[l]==="SID"&&(i=Cl(n,i)),a[l]=i;r[s.name]=a}else i=t[s.op],i===void 0&&(i=s.value!==void 0?s.value:null),s.type==="SID"&&(i=Cl(n,i)),r[s.name]=i}return r}function AL(t,e){var n={};return n.formatMajor=K.getCard8(t,e),n.formatMinor=K.getCard8(t,e+1),n.size=K.getCard8(t,e+2),n.offsetSize=K.getCard8(t,e+3),n.startOffset=e,n.endOffset=e+4,n}var a_=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],l_=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function NL(t,e){var n=o_(t,0,t.byteLength);return s_(n,a_,e)}function u_(t,e,n,r){var i=o_(t,e,n);return s_(i,l_,r)}function mx(t,e,n,r){for(var i=[],o=0;o<n.length;o+=1){var s=new DataView(new Uint8Array(n[o]).buffer),a=NL(s,r);a._subrs=[],a._subrsBias=0,a._defaultWidthX=0,a._nominalWidthX=0;var l=a.private[0],u=a.private[1];if(l!==0&&u!==0){var c=u_(t,u+e,l,r);if(a._defaultWidthX=c.defaultWidthX,a._nominalWidthX=c.nominalWidthX,c.subrs!==0){var d=u+c.subrs,f=Ii(t,d+e);a._subrs=f.objects,a._subrsBias=Ym(a._subrs)}a._privateDict=c}i.push(a)}return i}function RL(t,e,n,r){var i,o,s=new K.Parser(t,e);n-=1;var a=[".notdef"],l=s.parseCard8();if(l===0)for(var u=0;u<n;u+=1)i=s.parseSID(),a.push(Cl(r,i));else if(l===1)for(;a.length<=n;){i=s.parseSID(),o=s.parseCard8();for(var c=0;c<=o;c+=1)a.push(Cl(r,i)),i+=1}else if(l===2)for(;a.length<=n;){i=s.parseSID(),o=s.parseCard16();for(var d=0;d<=o;d+=1)a.push(Cl(r,i)),i+=1}else throw new Error("Unknown charset format "+l);return a}function kL(t,e,n){var r,i={},o=new K.Parser(t,e),s=o.parseCard8();if(s===0)for(var a=o.parseCard8(),l=0;l<a;l+=1)r=o.parseCard8(),i[r]=l;else if(s===1){var u=o.parseCard8();r=1;for(var c=0;c<u;c+=1)for(var d=o.parseCard8(),f=o.parseCard8(),h=d;h<=d+f;h+=1)i[h]=r,r+=1}else throw new Error("Unknown encoding format "+s);return new sf(i,n)}function vx(t,e,n){var r,i,o,s,a=new ct,l=[],u=0,c=!1,d=!1,f=0,h=0,v,y,C,E;if(t.isCIDFont){var T=t.tables.cff.topDict._fdSelect[e.index],x=t.tables.cff.topDict._fdArray[T];v=x._subrs,y=x._subrsBias,C=x._defaultWidthX,E=x._nominalWidthX}else v=t.tables.cff.topDict._subrs,y=t.tables.cff.topDict._subrsBias,C=t.tables.cff.topDict._defaultWidthX,E=t.tables.cff.topDict._nominalWidthX;var P=C;function I(R,L){d&&a.closePath(),a.moveTo(R,L),d=!0}function B(){var R;R=l.length%2!==0,R&&!c&&(P=l.shift()+E),u+=l.length>>1,l.length=0,c=!0}function V(R){for(var L,ee,J,ie,Ee,he,_e,Z,ve,Fe,Se,qe,Me=0;Me<R.length;){var je=R[Me];switch(Me+=1,je){case 1:B();break;case 3:B();break;case 4:l.length>1&&!c&&(P=l.shift()+E,c=!0),h+=l.pop(),I(f,h);break;case 5:for(;l.length>0;)f+=l.shift(),h+=l.shift(),a.lineTo(f,h);break;case 6:for(;l.length>0&&(f+=l.shift(),a.lineTo(f,h),l.length!==0);)h+=l.shift(),a.lineTo(f,h);break;case 7:for(;l.length>0&&(h+=l.shift(),a.lineTo(f,h),l.length!==0);)f+=l.shift(),a.lineTo(f,h);break;case 8:for(;l.length>0;)r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s+l.shift(),a.curveTo(r,i,o,s,f,h);break;case 10:Ee=l.pop()+y,he=v[Ee],he&&V(he);break;case 11:return;case 12:switch(je=R[Me],Me+=1,je){case 35:r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),_e=o+l.shift(),Z=s+l.shift(),ve=_e+l.shift(),Fe=Z+l.shift(),Se=ve+l.shift(),qe=Fe+l.shift(),f=Se+l.shift(),h=qe+l.shift(),l.shift(),a.curveTo(r,i,o,s,_e,Z),a.curveTo(ve,Fe,Se,qe,f,h);break;case 34:r=f+l.shift(),i=h,o=r+l.shift(),s=i+l.shift(),_e=o+l.shift(),Z=s,ve=_e+l.shift(),Fe=s,Se=ve+l.shift(),qe=h,f=Se+l.shift(),a.curveTo(r,i,o,s,_e,Z),a.curveTo(ve,Fe,Se,qe,f,h);break;case 36:r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),_e=o+l.shift(),Z=s,ve=_e+l.shift(),Fe=s,Se=ve+l.shift(),qe=Fe+l.shift(),f=Se+l.shift(),a.curveTo(r,i,o,s,_e,Z),a.curveTo(ve,Fe,Se,qe,f,h);break;case 37:r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),_e=o+l.shift(),Z=s+l.shift(),ve=_e+l.shift(),Fe=Z+l.shift(),Se=ve+l.shift(),qe=Fe+l.shift(),Math.abs(Se-f)>Math.abs(qe-h)?f=Se+l.shift():h=qe+l.shift(),a.curveTo(r,i,o,s,_e,Z),a.curveTo(ve,Fe,Se,qe,f,h);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+je),l.length=0}break;case 14:l.length>0&&!c&&(P=l.shift()+E,c=!0),d&&(a.closePath(),d=!1);break;case 18:B();break;case 19:case 20:B(),Me+=u+7>>3;break;case 21:l.length>2&&!c&&(P=l.shift()+E,c=!0),h+=l.pop(),f+=l.pop(),I(f,h);break;case 22:l.length>1&&!c&&(P=l.shift()+E,c=!0),f+=l.pop(),I(f,h);break;case 23:B();break;case 24:for(;l.length>2;)r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s+l.shift(),a.curveTo(r,i,o,s,f,h);f+=l.shift(),h+=l.shift(),a.lineTo(f,h);break;case 25:for(;l.length>6;)f+=l.shift(),h+=l.shift(),a.lineTo(f,h);r=f+l.shift(),i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s+l.shift(),a.curveTo(r,i,o,s,f,h);break;case 26:for(l.length%2&&(f+=l.shift());l.length>0;)r=f,i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o,h=s+l.shift(),a.curveTo(r,i,o,s,f,h);break;case 27:for(l.length%2&&(h+=l.shift());l.length>0;)r=f+l.shift(),i=h,o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s,a.curveTo(r,i,o,s,f,h);break;case 28:L=R[Me],ee=R[Me+1],l.push((L<<24|ee<<16)>>16),Me+=2;break;case 29:Ee=l.pop()+t.gsubrsBias,he=t.gsubrs[Ee],he&&V(he);break;case 30:for(;l.length>0&&(r=f,i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s+(l.length===1?l.shift():0),a.curveTo(r,i,o,s,f,h),l.length!==0);)r=f+l.shift(),i=h,o=r+l.shift(),s=i+l.shift(),h=s+l.shift(),f=o+(l.length===1?l.shift():0),a.curveTo(r,i,o,s,f,h);break;case 31:for(;l.length>0&&(r=f+l.shift(),i=h,o=r+l.shift(),s=i+l.shift(),h=s+l.shift(),f=o+(l.length===1?l.shift():0),a.curveTo(r,i,o,s,f,h),l.length!==0);)r=f,i=h+l.shift(),o=r+l.shift(),s=i+l.shift(),f=o+l.shift(),h=s+(l.length===1?l.shift():0),a.curveTo(r,i,o,s,f,h);break;default:je<32?console.log("Glyph "+e.index+": unknown operator "+je):je<247?l.push(je-139):je<251?(L=R[Me],Me+=1,l.push((je-247)*256+L+108)):je<255?(L=R[Me],Me+=1,l.push(-(je-251)*256-L-108)):(L=R[Me],ee=R[Me+1],J=R[Me+2],ie=R[Me+3],Me+=4,l.push((L<<24|ee<<16|J<<8|ie)/65536))}}}return V(n),e.advanceWidth=P,a}function OL(t,e,n,r){var i=[],o,s=new K.Parser(t,e),a=s.parseCard8();if(a===0)for(var l=0;l<n;l++){if(o=s.parseCard8(),o>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+r+")");i.push(o)}else if(a===3){var u=s.parseCard16(),c=s.parseCard16();if(c!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+c);for(var d,f=0;f<u;f++){if(o=s.parseCard8(),d=s.parseCard16(),o>=r)throw new Error("CFF table CID Font FDSelect has bad FD index value "+o+" (FD count "+r+")");if(d>n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+d);for(;c<d;c++)i.push(o);c=d}if(d!==n)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+d)}else throw new Error("CFF Table CID Font FDSelect table has unsupported format "+a);return i}function FL(t,e,n,r){n.tables.cff={};var i=AL(t,e),o=Ii(t,i.endOffset,K.bytesToString),s=Ii(t,o.endOffset),a=Ii(t,s.endOffset,K.bytesToString),l=Ii(t,a.endOffset);n.gsubrs=l.objects,n.gsubrsBias=Ym(n.gsubrs);var u=mx(t,e,s.objects,a.objects);if(u.length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+u.length);var c=u[0];if(n.tables.cff.topDict=c,c._privateDict&&(n.defaultWidthX=c._privateDict.defaultWidthX,n.nominalWidthX=c._privateDict.nominalWidthX),c.ros[0]!==void 0&&c.ros[1]!==void 0&&(n.isCIDFont=!0),n.isCIDFont){var d=c.fdArray,f=c.fdSelect;if(d===0||f===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");d+=e;var h=Ii(t,d),v=mx(t,e,h.objects,a.objects);c._fdArray=v,f+=e,c._fdSelect=OL(t,f,n.numGlyphs,v.length)}var y=e+c.private[1],C=u_(t,y,c.private[0],a.objects);if(n.defaultWidthX=C.defaultWidthX,n.nominalWidthX=C.nominalWidthX,C.subrs!==0){var E=y+C.subrs,T=Ii(t,E);n.subrs=T.objects,n.subrsBias=Ym(n.subrs)}else n.subrs=[],n.subrsBias=0;var x;r.lowMemory?(x=_L(t,e+c.charStrings),n.nGlyphs=x.offsets.length):(x=Ii(t,e+c.charStrings),n.nGlyphs=x.objects.length);var P=RL(t,e+c.charset,n.nGlyphs,a.objects);if(c.encoding===0?n.cffEncoding=new sf(gL,P):c.encoding===1?n.cffEncoding=new sf(mL,P):n.cffEncoding=kL(t,e+c.encoding,P),n.encoding=n.encoding||n.cffEncoding,n.glyphs=new xr.GlyphSet(n),r.lowMemory)n._push=function(V){var R=SL(V,x.offsets,t,e+c.charStrings);n.glyphs.push(V,xr.cffGlyphLoader(n,V,vx,R))};else for(var I=0;I<n.nGlyphs;I+=1){var B=x.objects[I];n.glyphs.push(I,xr.cffGlyphLoader(n,I,vx,B))}}function c_(t,e){var n,r=Kd.indexOf(t);return r>=0&&(n=r),r=e.indexOf(t),r>=0?n=r+Kd.length:(n=Kd.length+e.length,e.push(t)),n}function PL(){return new W.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function LL(t){var e=new W.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var n=0;n<t.length;n+=1)e.names.push({name:"name_"+n,type:"NAME",value:t[n]});return e}function d_(t,e,n){for(var r={},i=0;i<t.length;i+=1){var o=t[i],s=e[o.name];s!==void 0&&!i_(s,o.value)&&(o.type==="SID"&&(s=c_(s,n)),r[o.op]={name:o.name,type:o.type,value:s})}return r}function yx(t,e){var n=new W.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=d_(a_,t,e),n}function wx(t){var e=new W.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function VL(t){var e=new W.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var n=0;n<t.length;n+=1)e.strings.push({name:"string_"+n,type:"STRING",value:t[n]});return e}function UL(){return new W.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function BL(t,e){for(var n=new W.Record("Charsets",[{name:"format",type:"Card8",value:0}]),r=0;r<t.length;r+=1){var i=t[r],o=c_(i,e);n.fields.push({name:"glyph_"+r,type:"SID",value:o})}return n}function jL(t){var e=[],n=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var r=0,i=0,o=0;o<n.commands.length;o+=1){var s=void 0,a=void 0,l=n.commands[o];if(l.type==="Q"){var u=.3333333333333333,c=2/3;l={type:"C",x:l.x,y:l.y,x1:Math.round(u*r+c*l.x1),y1:Math.round(u*i+c*l.y1),x2:Math.round(u*l.x+c*l.x1),y2:Math.round(u*l.y+c*l.y1)}}if(l.type==="M")s=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:s}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rmoveto",type:"OP",value:21}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="L")s=Math.round(l.x-r),a=Math.round(l.y-i),e.push({name:"dx",type:"NUMBER",value:s}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rlineto",type:"OP",value:5}),r=Math.round(l.x),i=Math.round(l.y);else if(l.type==="C"){var d=Math.round(l.x1-r),f=Math.round(l.y1-i),h=Math.round(l.x2-l.x1),v=Math.round(l.y2-l.y1);s=Math.round(l.x-l.x2),a=Math.round(l.y-l.y2),e.push({name:"dx1",type:"NUMBER",value:d}),e.push({name:"dy1",type:"NUMBER",value:f}),e.push({name:"dx2",type:"NUMBER",value:h}),e.push({name:"dy2",type:"NUMBER",value:v}),e.push({name:"dx",type:"NUMBER",value:s}),e.push({name:"dy",type:"NUMBER",value:a}),e.push({name:"rrcurveto",type:"OP",value:8}),r=Math.round(l.x),i=Math.round(l.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function HL(t){for(var e=new W.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),n=0;n<t.length;n+=1){var r=t.get(n),i=jL(r);e.charStrings.push({name:r.name,type:"CHARSTRING",value:i})}return e}function GL(t,e){var n=new W.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return n.dict=d_(l_,t,e),n}function $L(t,e){for(var n=new W.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),r=1/e.unitsPerEm,i={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontBBox:e.fontBBox||[0,0,0,0],fontMatrix:[r,0,0,r,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},o={},s=[],a,l=1;l<t.length;l+=1)a=t.get(l),s.push(a.name);var u=[];n.header=PL(),n.nameIndex=LL([e.postScriptName]);var c=yx(i,u);n.topDictIndex=wx(c),n.globalSubrIndex=UL(),n.charsets=BL(s,u),n.charStringsIndex=HL(t),n.privateDict=GL(o,u),n.stringIndex=VL(u);var d=n.header.sizeOf()+n.nameIndex.sizeOf()+n.topDictIndex.sizeOf()+n.stringIndex.sizeOf()+n.globalSubrIndex.sizeOf();return i.charset=d,i.encoding=0,i.charStrings=i.charset+n.charsets.sizeOf(),i.private[1]=i.charStrings+n.charStringsIndex.sizeOf(),c=yx(i,u),n.topDictIndex=wx(c),n}var f_={parse:FL,make:$L};function zL(t,e){var n={},r=new K.Parser(t,e);return n.version=r.parseVersion(),n.fontRevision=Math.round(r.parseFixed()*1e3)/1e3,n.checkSumAdjustment=r.parseULong(),n.magicNumber=r.parseULong(),le.argument(n.magicNumber===1594834165,"Font header has wrong magic number."),n.flags=r.parseUShort(),n.unitsPerEm=r.parseUShort(),n.created=r.parseLongDateTime(),n.modified=r.parseLongDateTime(),n.xMin=r.parseShort(),n.yMin=r.parseShort(),n.xMax=r.parseShort(),n.yMax=r.parseShort(),n.macStyle=r.parseUShort(),n.lowestRecPPEM=r.parseUShort(),n.fontDirectionHint=r.parseShort(),n.indexToLocFormat=r.parseShort(),n.glyphDataFormat=r.parseShort(),n}function WL(t){var e=Math.round(new Date().getTime()/1e3)+2082844800,n=e;return t.createdTimestamp&&(n=t.createdTimestamp+2082844800),new W.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:n},{name:"modified",type:"LONGDATETIME",value:e},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}var h_={parse:zL,make:WL};function qL(t,e){var n={},r=new K.Parser(t,e);return n.version=r.parseVersion(),n.ascender=r.parseShort(),n.descender=r.parseShort(),n.lineGap=r.parseShort(),n.advanceWidthMax=r.parseUShort(),n.minLeftSideBearing=r.parseShort(),n.minRightSideBearing=r.parseShort(),n.xMaxExtent=r.parseShort(),n.caretSlopeRise=r.parseShort(),n.caretSlopeRun=r.parseShort(),n.caretOffset=r.parseShort(),r.relativeOffset+=8,n.metricDataFormat=r.parseShort(),n.numberOfHMetrics=r.parseUShort(),n}function YL(t){return new W.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}var p_={parse:qL,make:YL};function QL(t,e,n,r,i){for(var o,s,a=new K.Parser(t,e),l=0;l<r;l+=1){l<n&&(o=a.parseUShort(),s=a.parseShort());var u=i.get(l);u.advanceWidth=o,u.leftSideBearing=s}}function ZL(t,e,n,r,i){t._hmtxTableData={};for(var o,s,a=new K.Parser(e,n),l=0;l<i;l+=1)l<r&&(o=a.parseUShort(),s=a.parseShort()),t._hmtxTableData[l]={advanceWidth:o,leftSideBearing:s}}function XL(t,e,n,r,i,o,s){s.lowMemory?ZL(t,e,n,r,i):QL(e,n,r,i,o)}function KL(t){for(var e=new W.Table("hmtx",[]),n=0;n<t.length;n+=1){var r=t.get(n),i=r.advanceWidth||0,o=r.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+n,type:"USHORT",value:i}),e.fields.push({name:"leftSideBearing_"+n,type:"SHORT",value:o})}return e}var g_={parse:XL,make:KL};function JL(t){for(var e=new W.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),n="",r=12+t.length*4,i=0;i<t.length;++i){var o=n.indexOf(t[i]);o<0&&(o=n.length,n+=t[i]),e.fields.push({name:"offset "+i,type:"USHORT",value:r+o}),e.fields.push({name:"length "+i,type:"USHORT",value:t[i].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),e}function eV(t,e){var n=new K.Parser(t,e),r=n.parseULong();le.argument(r===1,"Unsupported ltag table version."),n.skip("uLong",1);for(var i=n.parseULong(),o=[],s=0;s<i;s++){for(var a="",l=e+n.parseUShort(),u=n.parseUShort(),c=l;c<l+u;++c)a+=String.fromCharCode(t.getInt8(c));o.push(a)}return o}var m_={make:JL,parse:eV};function tV(t,e){var n={},r=new K.Parser(t,e);return n.version=r.parseVersion(),n.numGlyphs=r.parseUShort(),n.version===1&&(n.maxPoints=r.parseUShort(),n.maxContours=r.parseUShort(),n.maxCompositePoints=r.parseUShort(),n.maxCompositeContours=r.parseUShort(),n.maxZones=r.parseUShort(),n.maxTwilightPoints=r.parseUShort(),n.maxStorage=r.parseUShort(),n.maxFunctionDefs=r.parseUShort(),n.maxInstructionDefs=r.parseUShort(),n.maxStackElements=r.parseUShort(),n.maxSizeOfInstructions=r.parseUShort(),n.maxComponentElements=r.parseUShort(),n.maxComponentDepth=r.parseUShort()),n}function nV(t){return new W.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}var v_={parse:tV,make:nV},y_=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],w_={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},rV={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},b_={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function iV(t,e,n){switch(t){case 0:if(e===65535)return"und";if(n)return n[e];break;case 1:return w_[e];case 3:return b_[e]}}var Qm="utf-16",oV={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},sV={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function C_(t,e,n){switch(t){case 0:return Qm;case 1:return sV[n]||oV[e];case 3:if(e===1||e===10)return Qm;break}}function aV(t,e,n){for(var r={},i=new K.Parser(t,e),o=i.parseUShort(),s=i.parseUShort(),a=i.offset+i.parseUShort(),l=0;l<s;l++){var u=i.parseUShort(),c=i.parseUShort(),d=i.parseUShort(),f=i.parseUShort(),h=y_[f]||f,v=i.parseUShort(),y=i.parseUShort(),C=iV(u,d,n),E=C_(u,c,d);if(E!==void 0&&C!==void 0){var T=void 0;if(E===Qm?T=Xs.UTF16(t,a+y,v):T=Xs.MACSTRING(t,a+y,v,E),T){var x=r[h];x===void 0&&(x=r[h]={}),x[C]=T}}}var P=0;return o===1&&(P=i.parseUShort()),r}function Pm(t){var e={};for(var n in t)e[t[n]]=parseInt(n);return e}function bx(t,e,n,r,i,o){return new W.Record("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:n},{name:"nameID",type:"USHORT",value:r},{name:"length",type:"USHORT",value:i},{name:"offset",type:"USHORT",value:o}])}function lV(t,e){var n=t.length,r=e.length-n+1;e:for(var i=0;i<r;i++)for(;i<r;i++){for(var o=0;o<n;o++)if(e[i+o]!==t[o])continue e;return i}return-1}function Cx(t,e){var n=lV(t,e);if(n<0){n=e.length;for(var r=0,i=t.length;r<i;++r)e.push(t[r])}return n}function uV(t,e){var n,r=[],i={},o=Pm(y_);for(var s in t){var a=o[s];if(a===void 0&&(a=s),n=parseInt(a),isNaN(n))throw new Error('Name table entry "'+s+'" does not exist, see nameTableNames for complete list.');i[n]=t[s],r.push(n)}for(var l=Pm(w_),u=Pm(b_),c=[],d=[],f=0;f<r.length;f++){n=r[f];var h=i[n];for(var v in h){var y=h[v],C=1,E=l[v],T=rV[E],x=C_(C,T,E),P=j.MACSTRING(y,x);P===void 0&&(C=0,E=e.indexOf(v),E<0&&(E=e.length,e.push(v)),T=4,P=j.UTF16(y));var I=Cx(P,d);c.push(bx(C,T,E,n,P.length,I));var B=u[v];if(B!==void 0){var V=j.UTF16(y),R=Cx(V,d);c.push(bx(3,1,B,n,V.length,R))}}}c.sort(function(J,ie){return J.platformID-ie.platformID||J.encodingID-ie.encodingID||J.languageID-ie.languageID||J.nameID-ie.nameID});for(var L=new W.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:c.length},{name:"stringOffset",type:"USHORT",value:6+c.length*12}]),ee=0;ee<c.length;ee++)L.fields.push({name:"record_"+ee,type:"RECORD",value:c[ee]});return L.fields.push({name:"strings",type:"LITERAL",value:d}),L}var E_={parse:aV,make:uV},Zm=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function cV(t){for(var e=0;e<Zm.length;e+=1){var n=Zm[e];if(t>=n.begin&&t<n.end)return e}return-1}function dV(t,e){var n={},r=new K.Parser(t,e);n.version=r.parseUShort(),n.xAvgCharWidth=r.parseShort(),n.usWeightClass=r.parseUShort(),n.usWidthClass=r.parseUShort(),n.fsType=r.parseUShort(),n.ySubscriptXSize=r.parseShort(),n.ySubscriptYSize=r.parseShort(),n.ySubscriptXOffset=r.parseShort(),n.ySubscriptYOffset=r.parseShort(),n.ySuperscriptXSize=r.parseShort(),n.ySuperscriptYSize=r.parseShort(),n.ySuperscriptXOffset=r.parseShort(),n.ySuperscriptYOffset=r.parseShort(),n.yStrikeoutSize=r.parseShort(),n.yStrikeoutPosition=r.parseShort(),n.sFamilyClass=r.parseShort(),n.panose=[];for(var i=0;i<10;i++)n.panose[i]=r.parseByte();return n.ulUnicodeRange1=r.parseULong(),n.ulUnicodeRange2=r.parseULong(),n.ulUnicodeRange3=r.parseULong(),n.ulUnicodeRange4=r.parseULong(),n.achVendID=String.fromCharCode(r.parseByte(),r.parseByte(),r.parseByte(),r.parseByte()),n.fsSelection=r.parseUShort(),n.usFirstCharIndex=r.parseUShort(),n.usLastCharIndex=r.parseUShort(),n.sTypoAscender=r.parseShort(),n.sTypoDescender=r.parseShort(),n.sTypoLineGap=r.parseShort(),n.usWinAscent=r.parseUShort(),n.usWinDescent=r.parseUShort(),n.version>=1&&(n.ulCodePageRange1=r.parseULong(),n.ulCodePageRange2=r.parseULong()),n.version>=2&&(n.sxHeight=r.parseShort(),n.sCapHeight=r.parseShort(),n.usDefaultChar=r.parseUShort(),n.usBreakChar=r.parseUShort(),n.usMaxContent=r.parseUShort()),n}function fV(t){return new W.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}var Xm={parse:dV,make:fV,unicodeRanges:Zm,getUnicodeRange:cV};function hV(t,e){var n={},r=new K.Parser(t,e);switch(n.version=r.parseVersion(),n.italicAngle=r.parseFixed(),n.underlinePosition=r.parseShort(),n.underlineThickness=r.parseShort(),n.isFixedPitch=r.parseULong(),n.minMemType42=r.parseULong(),n.maxMemType42=r.parseULong(),n.minMemType1=r.parseULong(),n.maxMemType1=r.parseULong(),n.version){case 1:n.names=So.slice();break;case 2:n.numberOfGlyphs=r.parseUShort(),n.glyphNameIndex=new Array(n.numberOfGlyphs);for(var i=0;i<n.numberOfGlyphs;i++)n.glyphNameIndex[i]=r.parseUShort();n.names=[];for(var o=0;o<n.numberOfGlyphs;o++)if(n.glyphNameIndex[o]>=So.length){var s=r.parseChar();n.names.push(r.parseString(s))}break;case 2.5:n.numberOfGlyphs=r.parseUShort(),n.offset=new Array(n.numberOfGlyphs);for(var a=0;a<n.numberOfGlyphs;a++)n.offset[a]=r.parseChar();break}return n}function pV(){return new W.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}var D_={parse:hV,make:pV},Jn=new Array(9);Jn[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(M.coverage),deltaGlyphId:this.parseUShort()};if(n===2)return{substFormat:2,coverage:this.parsePointer(M.coverage),substitute:this.parseOffset16List()};le.assert(!1,"0x"+e.toString(16)+": lookup type 1 format must be 1 or 2.")};Jn[2]=function(){var e=this.parseUShort();return le.argument(e===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(M.coverage),sequences:this.parseListOfLists()}};Jn[3]=function(){var e=this.parseUShort();return le.argument(e===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(M.coverage),alternateSets:this.parseListOfLists()}};Jn[4]=function(){var e=this.parseUShort();return le.argument(e===1,"GSUB ligature table identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(M.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}};var Zs={sequenceIndex:M.uShort,lookupListIndex:M.uShort};Jn[5]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:n,coverage:this.parsePointer(M.coverage),ruleSets:this.parseListOfLists(function(){var o=this.parseUShort(),s=this.parseUShort();return{input:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(s,Zs)}})};if(n===2)return{substFormat:n,coverage:this.parsePointer(M.coverage),classDef:this.parsePointer(M.classDef),classSets:this.parseListOfLists(function(){var o=this.parseUShort(),s=this.parseUShort();return{classes:this.parseUShortList(o-1),lookupRecords:this.parseRecordList(s,Zs)}})};if(n===3){var r=this.parseUShort(),i=this.parseUShort();return{substFormat:n,coverages:this.parseList(r,M.pointer(M.coverage)),lookupRecords:this.parseRecordList(i,Zs)}}le.assert(!1,"0x"+e.toString(16)+": lookup type 5 format must be 1, 2 or 3.")};Jn[6]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{substFormat:1,coverage:this.parsePointer(M.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Zs)}})};if(n===2)return{substFormat:2,coverage:this.parsePointer(M.coverage),backtrackClassDef:this.parsePointer(M.classDef),inputClassDef:this.parsePointer(M.classDef),lookaheadClassDef:this.parsePointer(M.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Zs)}})};if(n===3)return{substFormat:3,backtrackCoverage:this.parseList(M.pointer(M.coverage)),inputCoverage:this.parseList(M.pointer(M.coverage)),lookaheadCoverage:this.parseList(M.pointer(M.coverage)),lookupRecords:this.parseRecordList(Zs)};le.assert(!1,"0x"+e.toString(16)+": lookup type 6 format must be 1, 2 or 3.")};Jn[7]=function(){var e=this.parseUShort();le.argument(e===1,"GSUB Extension Substitution subtable identifier-format must be 1");var n=this.parseUShort(),r=new M(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:n,extension:Jn[n].call(r)}};Jn[8]=function(){var e=this.parseUShort();return le.argument(e===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:e,coverage:this.parsePointer(M.coverage),backtrackCoverage:this.parseList(M.pointer(M.coverage)),lookaheadCoverage:this.parseList(M.pointer(M.coverage)),substitutes:this.parseUShortList()}};function gV(t,e){e=e||0;var n=new M(t,e),r=n.parseVersion(1);return le.argument(r===1||r===1.1,"Unsupported GSUB table version."),r===1?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Jn)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(Jn),variations:n.parseFeatureVariationsList()}}var Ks=new Array(9);Ks[1]=function(e){return e.substFormat===1?new W.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new W.Coverage(e.coverage)},{name:"deltaGlyphID",type:"USHORT",value:e.deltaGlyphId}]):new W.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new W.Coverage(e.coverage)}].concat(W.ushortList("substitute",e.substitute)))};Ks[2]=function(e){return le.assert(e.substFormat===1,"Lookup type 2 substFormat must be 1."),new W.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new W.Coverage(e.coverage)}].concat(W.tableList("seqSet",e.sequences,function(n){return new W.Table("sequenceSetTable",W.ushortList("sequence",n))})))};Ks[3]=function(e){return le.assert(e.substFormat===1,"Lookup type 3 substFormat must be 1."),new W.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new W.Coverage(e.coverage)}].concat(W.tableList("altSet",e.alternateSets,function(n){return new W.Table("alternateSetTable",W.ushortList("alternate",n))})))};Ks[4]=function(e){return le.assert(e.substFormat===1,"Lookup type 4 substFormat must be 1."),new W.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new W.Coverage(e.coverage)}].concat(W.tableList("ligSet",e.ligatureSets,function(n){return new W.Table("ligatureSetTable",W.tableList("ligature",n,function(r){return new W.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:r.ligGlyph}].concat(W.ushortList("component",r.components,r.components.length+1)))}))})))};Ks[6]=function(e){if(e.substFormat===1){var n=new W.Table("chainContextTable",[{name:"substFormat",type:"USHORT",value:e.substFormat},{name:"coverage",type:"TABLE",value:new W.Coverage(e.coverage)}].concat(W.tableList("chainRuleSet",e.chainRuleSets,function(o){return new W.Table("chainRuleSetTable",W.tableList("chainRule",o,function(s){var a=W.ushortList("backtrackGlyph",s.backtrack,s.backtrack.length).concat(W.ushortList("inputGlyph",s.input,s.input.length+1)).concat(W.ushortList("lookaheadGlyph",s.lookahead,s.lookahead.length)).concat(W.ushortList("substitution",[],s.lookupRecords.length));return s.lookupRecords.forEach(function(l,u){a=a.concat({name:"sequenceIndex"+u,type:"USHORT",value:l.sequenceIndex}).concat({name:"lookupListIndex"+u,type:"USHORT",value:l.lookupListIndex})}),new W.Table("chainRuleTable",a)}))})));return n}else if(e.substFormat===2)le.assert(!1,"lookup type 6 format 2 is not yet supported.");else if(e.substFormat===3){var r=[{name:"substFormat",type:"USHORT",value:e.substFormat}];r.push({name:"backtrackGlyphCount",type:"USHORT",value:e.backtrackCoverage.length}),e.backtrackCoverage.forEach(function(o,s){r.push({name:"backtrackCoverage"+s,type:"TABLE",value:new W.Coverage(o)})}),r.push({name:"inputGlyphCount",type:"USHORT",value:e.inputCoverage.length}),e.inputCoverage.forEach(function(o,s){r.push({name:"inputCoverage"+s,type:"TABLE",value:new W.Coverage(o)})}),r.push({name:"lookaheadGlyphCount",type:"USHORT",value:e.lookaheadCoverage.length}),e.lookaheadCoverage.forEach(function(o,s){r.push({name:"lookaheadCoverage"+s,type:"TABLE",value:new W.Coverage(o)})}),r.push({name:"substitutionCount",type:"USHORT",value:e.lookupRecords.length}),e.lookupRecords.forEach(function(o,s){r=r.concat({name:"sequenceIndex"+s,type:"USHORT",value:o.sequenceIndex}).concat({name:"lookupListIndex"+s,type:"USHORT",value:o.lookupListIndex})});var i=new W.Table("chainContextTable",r);return i}le.assert(!1,"lookup type 6 format must be 1, 2 or 3.")};function mV(t){return new W.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new W.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new W.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new W.LookupList(t.lookups,Ks)}])}var x_={parse:gV,make:mV};function vV(t,e){var n=new K.Parser(t,e),r=n.parseULong();le.argument(r===1,"Unsupported META table version."),n.parseULong(),n.parseULong();for(var i=n.parseULong(),o={},s=0;s<i;s++){var a=n.parseTag(),l=n.parseULong(),u=n.parseULong(),c=Xs.UTF8(t,e+l,u);o[a]=c}return o}function yV(t){var e=Object.keys(t).length,n="",r=16+e*12,i=new W.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:r},{name:"numTags",type:"ULONG",value:e}]);for(var o in t){var s=n.length;n+=t[o],i.fields.push({name:"tag "+o,type:"TAG",value:o}),i.fields.push({name:"offset "+o,type:"ULONG",value:r+s}),i.fields.push({name:"length "+o,type:"ULONG",value:t[o].length})}return i.fields.push({name:"stringPool",type:"CHARARRAY",value:n}),i}var __={parse:vV,make:yV};function Ex(t){return Math.log(t)/Math.log(2)|0}function ov(t){for(;t.length%4!==0;)t.push(0);for(var e=0,n=0;n<t.length;n+=4)e+=(t[n]<<24)+(t[n+1]<<16)+(t[n+2]<<8)+t[n+3];return e%=Math.pow(2,32),e}function Dx(t,e,n,r){return new W.Record("Table Record",[{name:"tag",type:"TAG",value:t!==void 0?t:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:n!==void 0?n:0},{name:"length",type:"ULONG",value:r!==void 0?r:0}])}function S_(t){var e=new W.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var n=Math.pow(2,Ex(e.numTables));e.searchRange=16*n,e.entrySelector=Ex(n),e.rangeShift=e.numTables*16-e.searchRange;for(var r=[],i=[],o=e.sizeOf()+Dx().sizeOf()*e.numTables;o%4!==0;)o+=1,i.push({name:"padding",type:"BYTE",value:0});for(var s=0;s<t.length;s+=1){var a=t[s];le.argument(a.tableName.length===4,"Table name"+a.tableName+" is invalid.");var l=a.sizeOf(),u=Dx(a.tableName,ov(a.encode()),o,l);for(r.push({name:u.tag+" Table Record",type:"RECORD",value:u}),i.push({name:a.tableName+" table",type:"RECORD",value:a}),o+=l,le.argument(!isNaN(o),"Something went wrong calculating the offset.");o%4!==0;)o+=1,i.push({name:"padding",type:"BYTE",value:0})}return r.sort(function(c,d){return c.value.tag>d.value.tag?1:-1}),e.fields=e.fields.concat(r),e.fields=e.fields.concat(i),e}function xx(t,e,n){for(var r=0;r<e.length;r+=1){var i=t.charToGlyphIndex(e[r]);if(i>0){var o=t.glyphs.get(i);return o.getMetrics()}}return n}function wV(t){for(var e=0,n=0;n<t.length;n+=1)e+=t[n];return e/t.length}function bV(t){for(var e=[],n=[],r=[],i=[],o=[],s=[],a=[],l,u=0,c=0,d=0,f=0,h=0,v=0;v<t.glyphs.length;v+=1){var y=t.glyphs.get(v),C=y.unicode|0;if(isNaN(y.advanceWidth))throw new Error("Glyph "+y.name+" ("+v+"): advanceWidth is not a number.");(l>C||l===void 0)&&C>0&&(l=C),u<C&&(u=C);var E=Xm.getUnicodeRange(C);if(E<32)c|=1<<E;else if(E<64)d|=1<<E-32;else if(E<96)f|=1<<E-64;else if(E<123)h|=1<<E-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(y.name!==".notdef"){var T=y.getMetrics();e.push(T.xMin),n.push(T.yMin),r.push(T.xMax),i.push(T.yMax),s.push(T.leftSideBearing),a.push(T.rightSideBearing),o.push(y.advanceWidth)}}var x={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,n),xMax:Math.max.apply(null,r),yMax:Math.max.apply(null,i),advanceWidthMax:Math.max.apply(null,o),advanceWidthAvg:wV(o),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,a)};x.ascender=t.ascender,x.descender=t.descender;var P=h_.make({flags:3,unitsPerEm:t.unitsPerEm,xMin:x.xMin,yMin:x.yMin,xMax:x.xMax,yMax:x.yMax,lowestRecPPEM:3,createdTimestamp:t.createdTimestamp}),I=p_.make({ascender:x.ascender,descender:x.descender,advanceWidthMax:x.advanceWidthMax,minLeftSideBearing:x.minLeftSideBearing,minRightSideBearing:x.minRightSideBearing,xMaxExtent:x.maxLeftSideBearing+(x.xMax-x.xMin),numberOfHMetrics:t.glyphs.length}),B=v_.make(t.glyphs.length),V=Xm.make(Object.assign({xAvgCharWidth:Math.round(x.advanceWidthAvg),usFirstCharIndex:l,usLastCharIndex:u,ulUnicodeRange1:c,ulUnicodeRange2:d,ulUnicodeRange3:f,ulUnicodeRange4:h,sTypoAscender:x.ascender,sTypoDescender:x.descender,sTypoLineGap:0,usWinAscent:x.yMax,usWinDescent:Math.abs(x.yMin),ulCodePageRange1:1,sxHeight:xx(t,"xyvw",{yMax:Math.round(x.ascender/2)}).yMax,sCapHeight:xx(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",x).yMax,usDefaultChar:t.hasChar(" ")?32:0,usBreakChar:t.hasChar(" ")?32:0},t.tables.os2)),R=g_.make(t.glyphs),L=t_.make(t.glyphs),ee=t.getEnglishName("fontFamily"),J=t.getEnglishName("fontSubfamily"),ie=ee+" "+J,Ee=t.getEnglishName("postScriptName");Ee||(Ee=ee.replace(/\s/g,"")+"-"+J);var he={};for(var _e in t.names)he[_e]=t.names[_e];he.uniqueID||(he.uniqueID={en:t.getEnglishName("manufacturer")+":"+ie}),he.postScriptName||(he.postScriptName={en:Ee}),he.preferredFamily||(he.preferredFamily=t.names.fontFamily),he.preferredSubfamily||(he.preferredSubfamily=t.names.fontSubfamily);var Z=[],ve=E_.make(he,Z),Fe=Z.length>0?m_.make(Z):void 0,Se=D_.make(),qe=f_.make(t.glyphs,{version:t.getEnglishName("version"),fullName:ie,familyName:ee,weightName:J,postScriptName:Ee,unitsPerEm:t.unitsPerEm,fontBBox:[0,x.yMin,x.ascender,x.advanceWidthMax]}),Me=t.metas&&Object.keys(t.metas).length>0?__.make(t.metas):void 0,je=[P,I,B,V,ve,L,Se,qe,R];Fe&&je.push(Fe),t.tables.gsub&&je.push(x_.make(t.tables.gsub)),Me&&je.push(Me);for(var Rt=S_(je),ar=Rt.encode(),Gi=ov(ar),lr=Rt.fields,Yl=!1,Go=0;Go<lr.length;Go+=1)if(lr[Go].name==="head table"){lr[Go].value.checkSumAdjustment=2981146554-Gi,Yl=!0;break}if(!Yl)throw new Error("Could not find head table with checkSum to adjust.");return Rt}var CV={make:S_,fontToTable:bV,computeCheckSum:ov};function Lm(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,o=t[i].tag;if(o===e)return i;o<e?n=i+1:r=i-1}return-n-1}function _x(t,e){for(var n=0,r=t.length-1;n<=r;){var i=n+r>>>1,o=t[i];if(o===e)return i;o<e?n=i+1:r=i-1}return-n-1}function Sx(t,e){for(var n,r=0,i=t.length-1;r<=i;){var o=r+i>>>1;n=t[o];var s=n.start;if(s===e)return n;s<e?r=o+1:i=o-1}if(r>0)return n=t[r-1],e>n.end?0:n}function Sl(t,e){this.font=t,this.tableName=e}Sl.prototype={searchTag:Lm,binSearch:_x,getTable:function(t){var e=this.font.tables[this.tableName];return!e&&t&&(e=this.font.tables[this.tableName]=this.createDefaultTable()),e},getScriptNames:function(){var t=this.getTable();return t?t.scripts.map(function(e){return e.tag}):[]},getDefaultScriptName:function(){var t=this.getTable();if(t){for(var e=!1,n=0;n<t.scripts.length;n++){var r=t.scripts[n].tag;if(r==="DFLT")return r;r==="latn"&&(e=!0)}if(e)return"latn"}},getScriptTable:function(t,e){var n=this.getTable(e);if(n){t=t||"DFLT";var r=n.scripts,i=Lm(n.scripts,t);if(i>=0)return r[i].script;if(e){var o={tag:t,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}};return r.splice(-1-i,0,o),o.script}}},getLangSysTable:function(t,e,n){var r=this.getScriptTable(t,n);if(r){if(!e||e==="dflt"||e==="DFLT")return r.defaultLangSys;var i=Lm(r.langSysRecords,e);if(i>=0)return r.langSysRecords[i].langSys;if(n){var o={tag:e,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}};return r.langSysRecords.splice(-1-i,0,o),o.langSys}}},getFeatureTable:function(t,e,n,r){var i=this.getLangSysTable(t,e,r);if(i){for(var o,s=i.featureIndexes,a=this.font.tables[this.tableName].features,l=0;l<s.length;l++)if(o=a[s[l]],o.tag===n)return o.feature;if(r){var u=a.length;return le.assert(u===0||n>=a[u-1].tag,"Features must be added in alphabetical order."),o={tag:n,feature:{params:0,lookupListIndexes:[]}},a.push(o),s.push(u),o.feature}}},getLookupTables:function(t,e,n,r,i){var o=this.getFeatureTable(t,e,n,i),s=[];if(o){for(var a,l=o.lookupListIndexes,u=this.font.tables[this.tableName].lookups,c=0;c<l.length;c++)a=u[l[c]],a.lookupType===r&&s.push(a);if(s.length===0&&i){a={lookupType:r,lookupFlag:0,subtables:[],markFilteringSet:void 0};var d=u.length;return u.push(a),l.push(d),[a]}}return s},getGlyphClass:function(t,e){switch(t.format){case 1:return t.startGlyph<=e&&e<t.startGlyph+t.classes.length?t.classes[e-t.startGlyph]:0;case 2:var n=Sx(t.ranges,e);return n?n.classId:0}},getCoverageIndex:function(t,e){switch(t.format){case 1:var n=_x(t.glyphs,e);return n>=0?n:-1;case 2:var r=Sx(t.ranges,e);return r?r.index+e-r.start:-1}},expandCoverage:function(t){if(t.format===1)return t.glyphs;for(var e=[],n=t.ranges,r=0;r<n.length;r++)for(var i=n[r],o=i.start,s=i.end,a=o;a<=s;a++)e.push(a);return e}};function Ml(t){Sl.call(this,t,"gpos")}Ml.prototype=Sl.prototype;Ml.prototype.init=function(){var t=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(t)};Ml.prototype.getKerningValue=function(t,e,n){for(var r=0;r<t.length;r++)for(var i=t[r].subtables,o=0;o<i.length;o++){var s=i[o],a=this.getCoverageIndex(s.coverage,e);if(!(a<0))switch(s.posFormat){case 1:for(var l=s.pairSets[a],u=0;u<l.length;u++){var c=l[u];if(c.secondGlyph===n)return c.value1&&c.value1.xAdvance||0}break;case 2:var d=this.getGlyphClass(s.classDef1,e),f=this.getGlyphClass(s.classDef2,n),h=s.classRecords[d][f];return h.value1&&h.value1.xAdvance||0}}return 0};Ml.prototype.getKerningTables=function(t,e){if(this.font.tables.gpos)return this.getLookupTables(t,e,"kern",2)};function In(t){Sl.call(this,t,"gsub")}function EV(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function sv(t,e,n){for(var r=t.subtables,i=0;i<r.length;i++){var o=r[i];if(o.substFormat===e)return o}if(n)return r.push(n),n}In.prototype=Sl.prototype;In.prototype.createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}};In.prototype.getSingle=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,1),o=0;o<i.length;o++)for(var s=i[o].subtables,a=0;a<s.length;a++){var l=s[a],u=this.expandCoverage(l.coverage),c=void 0;if(l.substFormat===1){var d=l.deltaGlyphId;for(c=0;c<u.length;c++){var f=u[c];r.push({sub:f,by:f+d})}}else{var h=l.substitute;for(c=0;c<u.length;c++)r.push({sub:u[c],by:h[c]})}}return r};In.prototype.getMultiple=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,2),o=0;o<i.length;o++)for(var s=i[o].subtables,a=0;a<s.length;a++){var l=s[a],u=this.expandCoverage(l.coverage),c=void 0;for(c=0;c<u.length;c++){var d=u[c],f=l.sequences[c];r.push({sub:d,by:f})}}return r};In.prototype.getAlternates=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,3),o=0;o<i.length;o++)for(var s=i[o].subtables,a=0;a<s.length;a++)for(var l=s[a],u=this.expandCoverage(l.coverage),c=l.alternateSets,d=0;d<u.length;d++)r.push({sub:u[d],by:c[d]});return r};In.prototype.getLigatures=function(t,e,n){for(var r=[],i=this.getLookupTables(e,n,t,4),o=0;o<i.length;o++)for(var s=i[o].subtables,a=0;a<s.length;a++)for(var l=s[a],u=this.expandCoverage(l.coverage),c=l.ligatureSets,d=0;d<u.length;d++)for(var f=u[d],h=c[d],v=0;v<h.length;v++){var y=h[v];r.push({sub:[f].concat(y.components),by:y.ligGlyph})}return r};In.prototype.addSingle=function(t,e,n,r){var i=this.getLookupTables(n,r,t,1,!0)[0],o=sv(i,2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]});le.assert(o.coverage.format===1,"Single: unable to modify coverage table format "+o.coverage.format);var s=e.sub,a=this.binSearch(o.coverage.glyphs,s);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,s),o.substitute.splice(a,0,0)),o.substitute[a]=e.by};In.prototype.addMultiple=function(t,e,n,r){le.assert(e.by instanceof Array&&e.by.length>1,'Multiple: "by" must be an array of two or more ids');var i=this.getLookupTables(n,r,t,2,!0)[0],o=sv(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},sequences:[]});le.assert(o.coverage.format===1,"Multiple: unable to modify coverage table format "+o.coverage.format);var s=e.sub,a=this.binSearch(o.coverage.glyphs,s);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,s),o.sequences.splice(a,0,0)),o.sequences[a]=e.by};In.prototype.addAlternate=function(t,e,n,r){var i=this.getLookupTables(n,r,t,3,!0)[0],o=sv(i,1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]});le.assert(o.coverage.format===1,"Alternate: unable to modify coverage table format "+o.coverage.format);var s=e.sub,a=this.binSearch(o.coverage.glyphs,s);a<0&&(a=-1-a,o.coverage.glyphs.splice(a,0,s),o.alternateSets.splice(a,0,0)),o.alternateSets[a]=e.by};In.prototype.addLigature=function(t,e,n,r){var i=this.getLookupTables(n,r,t,4,!0)[0],o=i.subtables[0];o||(o={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]},i.subtables[0]=o),le.assert(o.coverage.format===1,"Ligature: unable to modify coverage table format "+o.coverage.format);var s=e.sub[0],a=e.sub.slice(1),l={ligGlyph:e.by,components:a},u=this.binSearch(o.coverage.glyphs,s);if(u>=0){for(var c=o.ligatureSets[u],d=0;d<c.length;d++)if(EV(c[d].components,a))return;c.push(l)}else u=-1-u,o.coverage.glyphs.splice(u,0,s),o.ligatureSets.splice(u,0,[l])};In.prototype.getFeature=function(t,e,n){if(/ss\d\d/.test(t))return this.getSingle(t,e,n);switch(t){case"aalt":case"salt":return this.getSingle(t,e,n).concat(this.getAlternates(t,e,n));case"dlig":case"liga":case"rlig":return this.getLigatures(t,e,n);case"ccmp":return this.getMultiple(t,e,n).concat(this.getLigatures(t,e,n));case"stch":return this.getMultiple(t,e,n)}};In.prototype.add=function(t,e,n,r){if(/ss\d\d/.test(t))return this.addSingle(t,e,n,r);switch(t){case"aalt":case"salt":return typeof e.by=="number"?this.addSingle(t,e,n,r):this.addAlternate(t,e,n,r);case"dlig":case"liga":case"rlig":return this.addLigature(t,e,n,r);case"ccmp":return e.by instanceof Array?this.addMultiple(t,e,n,r):this.addLigature(t,e,n,r)}};function DV(){return typeof window<"u"}function M_(t){for(var e=new ArrayBuffer(t.length),n=new Uint8Array(e),r=0;r<t.length;++r)n[r]=t[r];return e}function xV(t){for(var e=new Buffer(t.byteLength),n=new Uint8Array(t),r=0;r<e.length;++r)e[r]=n[r];return e}function bl(t,e){if(!t)throw e}function Mx(t,e,n,r,i){var o;return(e&r)>0?(o=t.parseByte(),e&i||(o=-o),o=n+o):(e&i)>0?o=n:o=n+t.parseShort(),o}function T_(t,e,n){var r=new K.Parser(e,n);t.numberOfContours=r.parseShort(),t._xMin=r.parseShort(),t._yMin=r.parseShort(),t._xMax=r.parseShort(),t._yMax=r.parseShort();var i,o;if(t.numberOfContours>0){for(var s=t.endPointIndices=[],a=0;a<t.numberOfContours;a+=1)s.push(r.parseUShort());t.instructionLength=r.parseUShort(),t.instructions=[];for(var l=0;l<t.instructionLength;l+=1)t.instructions.push(r.parseByte());var u=s[s.length-1]+1;i=[];for(var c=0;c<u;c+=1)if(o=r.parseByte(),i.push(o),(o&8)>0)for(var d=r.parseByte(),f=0;f<d;f+=1)i.push(o),c+=1;if(le.argument(i.length===u,"Bad flags."),s.length>0){var h=[],v;if(u>0){for(var y=0;y<u;y+=1)o=i[y],v={},v.onCurve=!!(o&1),v.lastPointOfContour=s.indexOf(y)>=0,h.push(v);for(var C=0,E=0;E<u;E+=1)o=i[E],v=h[E],v.x=Mx(r,o,C,2,16),C=v.x;for(var T=0,x=0;x<u;x+=1)o=i[x],v=h[x],v.y=Mx(r,o,T,4,32),T=v.y}t.points=h}else t.points=[]}else if(t.numberOfContours===0)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var P=!0;P;){i=r.parseUShort();var I={glyphIndex:r.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(i&1)>0?(i&2)>0?(I.dx=r.parseShort(),I.dy=r.parseShort()):I.matchedPoints=[r.parseUShort(),r.parseUShort()]:(i&2)>0?(I.dx=r.parseChar(),I.dy=r.parseChar()):I.matchedPoints=[r.parseByte(),r.parseByte()],(i&8)>0?I.xScale=I.yScale=r.parseF2Dot14():(i&64)>0?(I.xScale=r.parseF2Dot14(),I.yScale=r.parseF2Dot14()):(i&128)>0&&(I.xScale=r.parseF2Dot14(),I.scale01=r.parseF2Dot14(),I.scale10=r.parseF2Dot14(),I.yScale=r.parseF2Dot14()),t.components.push(I),P=!!(i&32)}if(i&256){t.instructionLength=r.parseUShort(),t.instructions=[];for(var B=0;B<t.instructionLength;B+=1)t.instructions.push(r.parseByte())}}}function Vm(t,e){for(var n=[],r=0;r<t.length;r+=1){var i=t[r],o={x:e.xScale*i.x+e.scale01*i.y+e.dx,y:e.scale10*i.x+e.yScale*i.y+e.dy,onCurve:i.onCurve,lastPointOfContour:i.lastPointOfContour};n.push(o)}return n}function _V(t){for(var e=[],n=[],r=0;r<t.length;r+=1){var i=t[r];n.push(i),i.lastPointOfContour&&(e.push(n),n=[])}return le.argument(n.length===0,"There are still points left in the current contour."),e}function I_(t){var e=new ct;if(!t)return e;for(var n=_V(t),r=0;r<n.length;++r){var i=n[r],o=null,s=i[i.length-1],a=i[0];if(s.onCurve)e.moveTo(s.x,s.y);else if(a.onCurve)e.moveTo(a.x,a.y);else{var l={x:(s.x+a.x)*.5,y:(s.y+a.y)*.5};e.moveTo(l.x,l.y)}for(var u=0;u<i.length;++u)if(o=s,s=a,a=i[(u+1)%i.length],s.onCurve)e.lineTo(s.x,s.y);else{var c=o,d=a;o.onCurve||(c={x:(s.x+o.x)*.5,y:(s.y+o.y)*.5}),a.onCurve||(d={x:(s.x+a.x)*.5,y:(s.y+a.y)*.5}),e.quadraticCurveTo(s.x,s.y,d.x,d.y)}e.closePath()}return e}function A_(t,e){if(e.isComposite)for(var n=0;n<e.components.length;n+=1){var r=e.components[n],i=t.get(r.glyphIndex);if(i.getPath(),i.points){var o=void 0;if(r.matchedPoints===void 0)o=Vm(i.points,r);else{if(r.matchedPoints[0]>e.points.length-1||r.matchedPoints[1]>i.points.length-1)throw Error("Matched points out of range in "+e.name);var s=e.points[r.matchedPoints[0]],a=i.points[r.matchedPoints[1]],l={xScale:r.xScale,scale01:r.scale01,scale10:r.scale10,yScale:r.yScale,dx:0,dy:0};a=Vm([a],l)[0],l.dx=s.x-a.x,l.dy=s.y-a.y,o=Vm(i.points,l)}e.points=e.points.concat(o)}}return I_(e.points)}function SV(t,e,n,r){for(var i=new xr.GlyphSet(r),o=0;o<n.length-1;o+=1){var s=n[o],a=n[o+1];s!==a?i.push(o,xr.ttfGlyphLoader(r,o,T_,t,e+s,A_)):i.push(o,xr.glyphLoader(r,o))}return i}function MV(t,e,n,r){var i=new xr.GlyphSet(r);return r._push=function(o){var s=n[o],a=n[o+1];s!==a?i.push(o,xr.ttfGlyphLoader(r,o,T_,t,e+s,A_)):i.push(o,xr.glyphLoader(r,o))},i}function TV(t,e,n,r,i){return i.lowMemory?MV(t,e,n,r):SV(t,e,n,r)}var N_={getPath:I_,parse:TV},R_,To,k_,Km;function O_(t){this.font=t,this.getCommands=function(e){return N_.getPath(e).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function IV(t){return t}function F_(t){return Math.sign(t)*Math.round(Math.abs(t))}function AV(t){return Math.sign(t)*Math.round(Math.abs(t*2))/2}function NV(t){return Math.sign(t)*(Math.round(Math.abs(t)+.5)-.5)}function RV(t){return Math.sign(t)*Math.ceil(Math.abs(t))}function kV(t){return Math.sign(t)*Math.floor(Math.abs(t))}var P_=function(t){var e=this.srPeriod,n=this.srPhase,r=this.srThreshold,i=1;return t<0&&(t=-t,i=-1),t+=r-n,t=Math.trunc(t/e)*e,t+=n,t<0?n*i:t*i},Dr={x:1,y:0,axis:"x",distance:function(t,e,n,r){return(n?t.xo:t.x)-(r?e.xo:e.x)},interpolate:function(t,e,n,r){var i,o,s,a,l,u,c;if(!r||r===this){if(i=t.xo-e.xo,o=t.xo-n.xo,l=e.x-e.xo,u=n.x-n.xo,s=Math.abs(i),a=Math.abs(o),c=s+a,c===0){t.x=t.xo+(l+u)/2;return}t.x=t.xo+(l*a+u*s)/c;return}if(i=r.distance(t,e,!0,!0),o=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),u=r.distance(n,n,!1,!0),s=Math.abs(i),a=Math.abs(o),c=s+a,c===0){Dr.setRelative(t,t,(l+u)/2,r,!0);return}Dr.setRelative(t,t,(l*a+u*s)/c,r,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(t,e,n,r,i){if(!r||r===this){t.x=(i?e.xo:e.x)+n;return}var o=i?e.xo:e.x,s=i?e.yo:e.y,a=o+n*r.x,l=s+n*r.y;t.x=a+(t.y-l)/r.normalSlope},slope:0,touch:function(t){t.xTouched=!0},touched:function(t){return t.xTouched},untouch:function(t){t.xTouched=!1}},Yr={x:0,y:1,axis:"y",distance:function(t,e,n,r){return(n?t.yo:t.y)-(r?e.yo:e.y)},interpolate:function(t,e,n,r){var i,o,s,a,l,u,c;if(!r||r===this){if(i=t.yo-e.yo,o=t.yo-n.yo,l=e.y-e.yo,u=n.y-n.yo,s=Math.abs(i),a=Math.abs(o),c=s+a,c===0){t.y=t.yo+(l+u)/2;return}t.y=t.yo+(l*a+u*s)/c;return}if(i=r.distance(t,e,!0,!0),o=r.distance(t,n,!0,!0),l=r.distance(e,e,!1,!0),u=r.distance(n,n,!1,!0),s=Math.abs(i),a=Math.abs(o),c=s+a,c===0){Yr.setRelative(t,t,(l+u)/2,r,!0);return}Yr.setRelative(t,t,(l*a+u*s)/c,r,!0)},normalSlope:0,setRelative:function(t,e,n,r,i){if(!r||r===this){t.y=(i?e.yo:e.y)+n;return}var o=i?e.xo:e.x,s=i?e.yo:e.y,a=o+n*r.x,l=s+n*r.y;t.y=l+r.normalSlope*(t.x-a)},slope:Number.POSITIVE_INFINITY,touch:function(t){t.yTouched=!0},touched:function(t){return t.yTouched},untouch:function(t){t.yTouched=!1}};Object.freeze(Dr);Object.freeze(Yr);function Tl(t,e){this.x=t,this.y=e,this.axis=void 0,this.slope=e/t,this.normalSlope=-t/e,Object.freeze(this)}Tl.prototype.distance=function(t,e,n,r){return this.x*Dr.distance(t,e,n,r)+this.y*Yr.distance(t,e,n,r)};Tl.prototype.interpolate=function(t,e,n,r){var i,o,s,a,l,u,c;if(s=r.distance(t,e,!0,!0),a=r.distance(t,n,!0,!0),i=r.distance(e,e,!1,!0),o=r.distance(n,n,!1,!0),l=Math.abs(s),u=Math.abs(a),c=l+u,c===0){this.setRelative(t,t,(i+o)/2,r,!0);return}this.setRelative(t,t,(i*u+o*l)/c,r,!0)};Tl.prototype.setRelative=function(t,e,n,r,i){r=r||this;var o=i?e.xo:e.x,s=i?e.yo:e.y,a=o+n*r.x,l=s+n*r.y,u=r.normalSlope,c=this.slope,d=t.x,f=t.y;t.x=(c*d-u*a+l-f)/(c-u),t.y=c*(t.x-d)+f};Tl.prototype.touch=function(t){t.xTouched=!0,t.yTouched=!0};function Il(t,e){var n=Math.sqrt(t*t+e*e);return t/=n,e/=n,t===1&&e===0?Dr:t===0&&e===1?Yr:new Tl(t,e)}function Qr(t,e,n,r){this.x=this.xo=Math.round(t*64)/64,this.y=this.yo=Math.round(e*64)/64,this.lastPointOfContour=n,this.onCurve=r,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Qr.prototype.nextTouched=function(t){for(var e=this.nextPointOnContour;!t.touched(e)&&e!==this;)e=e.nextPointOnContour;return e};Qr.prototype.prevTouched=function(t){for(var e=this.prevPointOnContour;!t.touched(e)&&e!==this;)e=e.prevPointOnContour;return e};var _l=Object.freeze(new Qr(0,0)),OV={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Ai(t,e){switch(this.env=t,this.stack=[],this.prog=e,t){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Dr,this.round=F_}}O_.prototype.exec=function(t,e){if(typeof e!="number")throw new Error("Point size is not a number!");if(!(this._errorState>2)){var n=this.font,r=this._prepState;if(!r||r.ppem!==e){var i=this._fpgmState;if(!i){Ai.prototype=OV,i=this._fpgmState=new Ai("fpgm",n.tables.fpgm),i.funcs=[],i.font=n,exports.DEBUG&&(console.log("---EXEC FPGM---"),i.step=-1);try{To(i)}catch(u){console.log("Hinting error in FPGM:"+u),this._errorState=3;return}}Ai.prototype=i,r=this._prepState=new Ai("prep",n.tables.prep),r.ppem=e;var o=n.tables.cvt;if(o)for(var s=r.cvt=new Array(o.length),a=e/n.unitsPerEm,l=0;l<o.length;l++)s[l]=o[l]*a;else r.cvt=[];exports.DEBUG&&(console.log("---EXEC PREP---"),r.step=-1);try{To(r)}catch(u){this._errorState<2&&console.log("Hinting error in PREP:"+u),this._errorState=2}}if(!(this._errorState>1))try{return k_(t,r)}catch(u){this._errorState<1&&(console.log("Hinting error:"+u),console.log("Note: further hinting errors are silenced")),this._errorState=1;return}}};k_=function(t,e){var n=e.ppem/e.font.unitsPerEm,r=n,i=t.components,o,s,a;if(Ai.prototype=e,!i)a=new Ai("glyf",t.instructions),exports.DEBUG&&(console.log("---EXEC GLYPH---"),a.step=-1),Km(t,a,n,r),s=a.gZone;else{var l=e.font;s=[],o=[];for(var u=0;u<i.length;u++){var c=i[u],d=l.glyphs.get(c.glyphIndex);a=new Ai("glyf",d.instructions),exports.DEBUG&&(console.log("---EXEC COMP "+u+"---"),a.step=-1),Km(d,a,n,r);for(var f=Math.round(c.dx*n),h=Math.round(c.dy*r),v=a.gZone,y=a.contours,C=0;C<v.length;C++){var E=v[C];E.xTouched=E.yTouched=!1,E.xo=E.x=E.x+f,E.yo=E.y=E.y+h}var T=s.length;s.push.apply(s,v);for(var x=0;x<y.length;x++)o.push(y[x]+T)}t.instructions&&!a.inhibitGridFit&&(a=new Ai("glyf",t.instructions),a.gZone=a.z0=a.z1=a.z2=s,a.contours=o,s.push(new Qr(0,0),new Qr(Math.round(t.advanceWidth*n),0)),exports.DEBUG&&(console.log("---EXEC COMPOSITE---"),a.step=-1),To(a),s.length-=2)}return s};Km=function(t,e,n,r){for(var i=t.points||[],o=i.length,s=e.gZone=e.z0=e.z1=e.z2=[],a=e.contours=[],l,u=0;u<o;u++)l=i[u],s[u]=new Qr(l.x*n,l.y*r,l.lastPointOfContour,l.onCurve);for(var c,d,f=0;f<o;f++)l=s[f],c||(c=l,a.push(f)),l.lastPointOfContour?(l.nextPointOnContour=c,c.prevPointOnContour=l,c=void 0):(d=s[f+1],l.nextPointOnContour=d,d.prevPointOnContour=l);if(!e.inhibitGridFit){if(exports.DEBUG){console.log("PROCESSING GLYPH",e.stack);for(var h=0;h<o;h++)console.log(h,s[h].x,s[h].y)}if(s.push(new Qr(0,0),new Qr(Math.round(t.advanceWidth*n),0)),To(e),s.length-=2,exports.DEBUG){console.log("FINISHED GLYPH",e.stack);for(var v=0;v<o;v++)console.log(v,s[v].x,s[v].y)}}};To=function(t){var e=t.prog;if(e){var n=e.length,r;for(t.ip=0;t.ip<n;t.ip++){if(exports.DEBUG&&t.step++,r=R_[e[t.ip]],!r)throw new Error("unknown instruction: 0x"+Number(e[t.ip]).toString(16));r(t)}}};function af(t){for(var e=t.tZone=new Array(t.gZone.length),n=0;n<e.length;n++)e[n]=new Qr(0,0)}function L_(t,e){var n=t.prog,r=t.ip,i=1,o;do if(o=n[++r],o===88)i++;else if(o===89)i--;else if(o===64)r+=n[r+1]+1;else if(o===65)r+=2*n[r+1]+1;else if(o>=176&&o<=183)r+=o-176+1;else if(o>=184&&o<=191)r+=(o-184+1)*2;else if(e&&i===1&&o===27)break;while(i>0);t.ip=r}function Tx(t,e){exports.DEBUG&&console.log(e.step,"SVTCA["+t.axis+"]"),e.fv=e.pv=e.dpv=t}function Ix(t,e){exports.DEBUG&&console.log(e.step,"SPVTCA["+t.axis+"]"),e.pv=e.dpv=t}function Ax(t,e){exports.DEBUG&&console.log(e.step,"SFVTCA["+t.axis+"]"),e.fv=t}function Nx(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z2[r],s=e.z1[i];exports.DEBUG&&console.log("SPVTL["+t+"]",r,i);var a,l;t?(a=o.y-s.y,l=s.x-o.x):(a=s.x-o.x,l=s.y-o.y),e.pv=e.dpv=Il(a,l)}function Rx(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z2[r],s=e.z1[i];exports.DEBUG&&console.log("SFVTL["+t+"]",r,i);var a,l;t?(a=o.y-s.y,l=s.x-o.x):(a=s.x-o.x,l=s.y-o.y),e.fv=Il(a,l)}function FV(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.pv=t.dpv=Il(r,n)}function PV(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SPVFS[]",n,r),t.fv=Il(r,n)}function LV(t){var e=t.stack,n=t.pv;exports.DEBUG&&console.log(t.step,"GPV[]"),e.push(n.x*16384),e.push(n.y*16384)}function VV(t){var e=t.stack,n=t.fv;exports.DEBUG&&console.log(t.step,"GFV[]"),e.push(n.x*16384),e.push(n.y*16384)}function UV(t){t.fv=t.pv,exports.DEBUG&&console.log(t.step,"SFVTPV[]")}function BV(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop(),o=e.pop(),s=e.pop(),a=t.z0,l=t.z1,u=a[n],c=a[r],d=l[i],f=l[o],h=t.z2[s];exports.DEBUG&&console.log("ISECT[], ",n,r,i,o,s);var v=u.x,y=u.y,C=c.x,E=c.y,T=d.x,x=d.y,P=f.x,I=f.y,B=(v-C)*(x-I)-(y-E)*(T-P),V=v*E-y*C,R=T*I-x*P;h.x=(V*(T-P)-R*(v-C))/B,h.y=(V*(x-I)-R*(y-E))/B}function jV(t){t.rp0=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP0[]",t.rp0)}function HV(t){t.rp1=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP1[]",t.rp1)}function GV(t){t.rp2=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SRP2[]",t.rp2)}function $V(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP0[]",e),t.zp0=e,e){case 0:t.tZone||af(t),t.z0=t.tZone;break;case 1:t.z0=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function zV(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP1[]",e),t.zp1=e,e){case 0:t.tZone||af(t),t.z1=t.tZone;break;case 1:t.z1=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function WV(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZP2[]",e),t.zp2=e,e){case 0:t.tZone||af(t),t.z2=t.tZone;break;case 1:t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function qV(t){var e=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"SZPS[]",e),t.zp0=t.zp1=t.zp2=e,e){case 0:t.tZone||af(t),t.z0=t.z1=t.z2=t.tZone;break;case 1:t.z0=t.z1=t.z2=t.gZone;break;default:throw new Error("Invalid zone pointer")}}function YV(t){t.loop=t.stack.pop(),exports.DEBUG&&console.log(t.step,"SLOOP[]",t.loop)}function QV(t){exports.DEBUG&&console.log(t.step,"RTG[]"),t.round=F_}function ZV(t){exports.DEBUG&&console.log(t.step,"RTHG[]"),t.round=NV}function XV(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SMD[]",e),t.minDis=e/64}function KV(t){exports.DEBUG&&console.log(t.step,"ELSE[]"),L_(t,!1)}function JV(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"JMPR[]",e),t.ip+=e-1}function eU(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCVTCI[]",e),t.cvCutIn=e/64}function tU(t){var e=t.stack;exports.DEBUG&&console.log(t.step,"DUP[]"),e.push(e[e.length-1])}function Um(t){exports.DEBUG&&console.log(t.step,"POP[]"),t.stack.pop()}function nU(t){exports.DEBUG&&console.log(t.step,"CLEAR[]"),t.stack.length=0}function rU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SWAP[]"),e.push(n),e.push(r)}function iU(t){var e=t.stack;exports.DEBUG&&console.log(t.step,"DEPTH[]"),e.push(e.length)}function oU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LOOPCALL[]",n,r);var i=t.ip,o=t.prog;t.prog=t.funcs[n];for(var s=0;s<r;s++)To(t),exports.DEBUG&&console.log(++t.step,s+1<r?"next loopcall":"done loopcall",s);t.ip=i,t.prog=o}function sU(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"CALL[]",e);var n=t.ip,r=t.prog;t.prog=t.funcs[e],To(t),t.ip=n,t.prog=r,exports.DEBUG&&console.log(++t.step,"returning from",e)}function aU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CINDEX[]",n),e.push(e[e.length-n])}function lU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"MINDEX[]",n),e.push(e.splice(e.length-n,1)[0])}function uU(t){if(t.env!=="fpgm")throw new Error("FDEF not allowed here");var e=t.stack,n=t.prog,r=t.ip,i=e.pop(),o=r;for(exports.DEBUG&&console.log(t.step,"FDEF[]",i);n[++r]!==45;);t.ip=r,t.funcs[i]=n.slice(o+1,r)}function kx(t,e){var n=e.stack.pop(),r=e.z0[n],i=e.fv,o=e.pv;exports.DEBUG&&console.log(e.step,"MDAP["+t+"]",n);var s=o.distance(r,_l);t&&(s=e.round(s)),i.setRelative(r,_l,s,o),i.touch(r),e.rp0=e.rp1=n}function Ox(t,e){var n=e.z2,r=n.length-2,i,o,s;exports.DEBUG&&console.log(e.step,"IUP["+t.axis+"]");for(var a=0;a<r;a++)i=n[a],!t.touched(i)&&(o=i.prevTouched(t),o!==i&&(s=i.nextTouched(t),o===s&&t.setRelative(i,i,t.distance(o,o,!1,!0),t,!0),t.interpolate(i,o,s,t)))}function Fx(t,e){for(var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],o=e.fv,s=e.pv,a=e.loop,l=e.z2;a--;){var u=n.pop(),c=l[u],d=s.distance(i,i,!1,!0);o.setRelative(c,c,d,s),o.touch(c),exports.DEBUG&&console.log(e.step,(e.loop>1?"loop "+(e.loop-a)+": ":"")+"SHP["+(t?"rp1":"rp2")+"]",u)}e.loop=1}function Px(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],o=e.fv,s=e.pv,a=n.pop(),l=e.z2[e.contours[a]],u=l;exports.DEBUG&&console.log(e.step,"SHC["+t+"]",a);var c=s.distance(i,i,!1,!0);do u!==i&&o.setRelative(u,u,c,s),u=u.nextPointOnContour;while(u!==l)}function Lx(t,e){var n=e.stack,r=t?e.rp1:e.rp2,i=(t?e.z0:e.z1)[r],o=e.fv,s=e.pv,a=n.pop();exports.DEBUG&&console.log(e.step,"SHZ["+t+"]",a);var l;switch(a){case 0:l=e.tZone;break;case 1:l=e.gZone;break;default:throw new Error("Invalid zone")}for(var u,c=s.distance(i,i,!1,!0),d=l.length-2,f=0;f<d;f++)u=l[f],o.setRelative(u,u,c,s)}function cU(t){for(var e=t.stack,n=t.loop,r=t.fv,i=e.pop()/64,o=t.z2;n--;){var s=e.pop(),a=o[s];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-n)+": ":"")+"SHPIX[]",s,i),r.setRelative(a,a,i),r.touch(a)}t.loop=1}function dU(t){for(var e=t.stack,n=t.rp1,r=t.rp2,i=t.loop,o=t.z0[n],s=t.z1[r],a=t.fv,l=t.dpv,u=t.z2;i--;){var c=e.pop(),d=u[c];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"IP[]",c,n,"<->",r),a.interpolate(d,o,s,l),a.touch(d)}t.loop=1}function Vx(t,e){var n=e.stack,r=n.pop()/64,i=n.pop(),o=e.z1[i],s=e.z0[e.rp0],a=e.fv,l=e.pv;a.setRelative(o,s,r,l),a.touch(o),exports.DEBUG&&console.log(e.step,"MSIRP["+t+"]",r,i),e.rp1=e.rp0,e.rp2=i,t&&(e.rp0=i)}function fU(t){for(var e=t.stack,n=t.rp0,r=t.z0[n],i=t.loop,o=t.fv,s=t.pv,a=t.z1;i--;){var l=e.pop(),u=a[l];exports.DEBUG&&console.log(t.step,(t.loop>1?"loop "+(t.loop-i)+": ":"")+"ALIGNRP[]",l),o.setRelative(u,r,0,s),o.touch(u)}t.loop=1}function hU(t){exports.DEBUG&&console.log(t.step,"RTDG[]"),t.round=AV}function Ux(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z0[i],s=e.fv,a=e.pv,l=e.cvt[r];exports.DEBUG&&console.log(e.step,"MIAP["+t+"]",r,"(",l,")",i);var u=a.distance(o,_l);t&&(Math.abs(u-l)<e.cvCutIn&&(u=l),u=e.round(u)),s.setRelative(o,_l,u,a),e.zp0===0&&(o.xo=o.x,o.yo=o.y),s.touch(o),e.rp0=e.rp1=i}function pU(t){var e=t.prog,n=t.ip,r=t.stack,i=e[++n];exports.DEBUG&&console.log(t.step,"NPUSHB[]",i);for(var o=0;o<i;o++)r.push(e[++n]);t.ip=n}function gU(t){var e=t.ip,n=t.prog,r=t.stack,i=n[++e];exports.DEBUG&&console.log(t.step,"NPUSHW[]",i);for(var o=0;o<i;o++){var s=n[++e]<<8|n[++e];s&32768&&(s=-((s^65535)+1)),r.push(s)}t.ip=e}function mU(t){var e=t.stack,n=t.store;n||(n=t.store=[]);var r=e.pop(),i=e.pop();exports.DEBUG&&console.log(t.step,"WS",r,i),n[i]=r}function vU(t){var e=t.stack,n=t.store,r=e.pop();exports.DEBUG&&console.log(t.step,"RS",r);var i=n&&n[r]||0;e.push(i)}function yU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTP",n,r),t.cvt[r]=n/64}function wU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"RCVT",n),e.push(t.cvt[n]*64)}function Bx(t,e){var n=e.stack,r=n.pop(),i=e.z2[r];exports.DEBUG&&console.log(e.step,"GC["+t+"]",r),n.push(e.dpv.distance(i,_l,t,!1)*64)}function jx(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z1[r],s=e.z0[i],a=e.dpv.distance(s,o,t,t);exports.DEBUG&&console.log(e.step,"MD["+t+"]",r,i,"->",a),e.stack.push(Math.round(a*64))}function bU(t){exports.DEBUG&&console.log(t.step,"MPPEM[]"),t.stack.push(t.ppem)}function CU(t){exports.DEBUG&&console.log(t.step,"FLIPON[]"),t.autoFlip=!0}function EU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LT[]",n,r),e.push(r<n?1:0)}function DU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"LTEQ[]",n,r),e.push(r<=n?1:0)}function xU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GT[]",n,r),e.push(r>n?1:0)}function _U(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"GTEQ[]",n,r),e.push(r>=n?1:0)}function SU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"EQ[]",n,r),e.push(n===r?1:0)}function MU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"NEQ[]",n,r),e.push(n!==r?1:0)}function TU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ODD[]",n),e.push(Math.trunc(n)%2?1:0)}function IU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"EVEN[]",n),e.push(Math.trunc(n)%2?0:1)}function AU(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"IF[]",e),e||(L_(t,!0),exports.DEBUG&&console.log(t.step,"EIF[]"))}function NU(t){exports.DEBUG&&console.log(t.step,"EIF[]")}function RU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"AND[]",n,r),e.push(n&&r?1:0)}function kU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"OR[]",n,r),e.push(n||r?1:0)}function OU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"NOT[]",n),e.push(n?0:1)}function Bm(t,e){var n=e.stack,r=n.pop(),i=e.fv,o=e.pv,s=e.ppem,a=e.deltaBase+(t-1)*16,l=e.deltaShift,u=e.z0;exports.DEBUG&&console.log(e.step,"DELTAP["+t+"]",r,n);for(var c=0;c<r;c++){var d=n.pop(),f=n.pop(),h=a+((f&240)>>4);if(h===s){var v=(f&15)-8;v>=0&&v++,exports.DEBUG&&console.log(e.step,"DELTAPFIX",d,"by",v*l);var y=u[d];i.setRelative(y,y,v*l,o)}}}function FU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"SDB[]",n),t.deltaBase=n}function PU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"SDS[]",n),t.deltaShift=Math.pow(.5,n)}function LU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"ADD[]",n,r),e.push(r+n)}function VU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"SUB[]",n,r),e.push(r-n)}function UU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"DIV[]",n,r),e.push(r*64/n)}function BU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MUL[]",n,r),e.push(r*n/64)}function jU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"ABS[]",n),e.push(Math.abs(n))}function HU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"NEG[]",n),e.push(-n)}function GU(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"FLOOR[]",n),e.push(Math.floor(n/64)*64)}function $U(t){var e=t.stack,n=e.pop();exports.DEBUG&&console.log(t.step,"CEILING[]",n),e.push(Math.ceil(n/64)*64)}function Xd(t,e){var n=e.stack,r=n.pop();exports.DEBUG&&console.log(e.step,"ROUND[]"),n.push(e.round(r/64)*64)}function zU(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"WCVTF[]",n,r),t.cvt[r]=n*t.ppem/t.font.unitsPerEm}function jm(t,e){var n=e.stack,r=n.pop(),i=e.ppem,o=e.deltaBase+(t-1)*16,s=e.deltaShift;exports.DEBUG&&console.log(e.step,"DELTAC["+t+"]",r,n);for(var a=0;a<r;a++){var l=n.pop(),u=n.pop(),c=o+((u&240)>>4);if(c===i){var d=(u&15)-8;d>=0&&d++;var f=d*s;exports.DEBUG&&console.log(e.step,"DELTACFIX",l,"by",f),e.cvt[l]+=f}}}function WU(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SROUND[]",e),t.round=P_;var n;switch(e&192){case 0:n=.5;break;case 64:n=1;break;case 128:n=2;break;default:throw new Error("invalid SROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid SROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function qU(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"S45ROUND[]",e),t.round=P_;var n;switch(e&192){case 0:n=Math.sqrt(2)/2;break;case 64:n=Math.sqrt(2);break;case 128:n=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(t.srPeriod=n,e&48){case 0:t.srPhase=0;break;case 16:t.srPhase=.25*n;break;case 32:t.srPhase=.5*n;break;case 48:t.srPhase=.75*n;break;default:throw new Error("invalid S45ROUND value")}e&=15,e===0?t.srThreshold=0:t.srThreshold=(e/8-.5)*n}function YU(t){exports.DEBUG&&console.log(t.step,"ROFF[]"),t.round=IV}function QU(t){exports.DEBUG&&console.log(t.step,"RUTG[]"),t.round=RV}function ZU(t){exports.DEBUG&&console.log(t.step,"RDTG[]"),t.round=kV}function XU(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANCTRL[]",e)}function Hx(t,e){var n=e.stack,r=n.pop(),i=n.pop(),o=e.z2[r],s=e.z1[i];exports.DEBUG&&console.log(e.step,"SDPVTL["+t+"]",r,i);var a,l;t?(a=o.y-s.y,l=s.x-o.x):(a=s.x-o.x,l=s.y-o.y),e.dpv=Il(a,l)}function KU(t){var e=t.stack,n=e.pop(),r=0;exports.DEBUG&&console.log(t.step,"GETINFO[]",n),n&1&&(r=35),n&32&&(r|=4096),e.push(r)}function JU(t){var e=t.stack,n=e.pop(),r=e.pop(),i=e.pop();exports.DEBUG&&console.log(t.step,"ROLL[]"),e.push(r),e.push(n),e.push(i)}function eB(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MAX[]",n,r),e.push(Math.max(r,n))}function tB(t){var e=t.stack,n=e.pop(),r=e.pop();exports.DEBUG&&console.log(t.step,"MIN[]",n,r),e.push(Math.min(r,n))}function nB(t){var e=t.stack.pop();exports.DEBUG&&console.log(t.step,"SCANTYPE[]",e)}function rB(t){var e=t.stack.pop(),n=t.stack.pop();switch(exports.DEBUG&&console.log(t.step,"INSTCTRL[]",e,n),e){case 1:t.inhibitGridFit=!!n;return;case 2:t.ignoreCvt=!!n;return;default:throw new Error("invalid INSTCTRL[] selector")}}function Mi(t,e){var n=e.stack,r=e.prog,i=e.ip;exports.DEBUG&&console.log(e.step,"PUSHB["+t+"]");for(var o=0;o<t;o++)n.push(r[++i]);e.ip=i}function Ti(t,e){var n=e.ip,r=e.prog,i=e.stack;exports.DEBUG&&console.log(e.ip,"PUSHW["+t+"]");for(var o=0;o<t;o++){var s=r[++n]<<8|r[++n];s&32768&&(s=-((s^65535)+1)),i.push(s)}e.ip=n}function X(t,e,n,r,i,o){var s=o.stack,a=t&&s.pop(),l=s.pop(),u=o.rp0,c=o.z0[u],d=o.z1[l],f=o.minDis,h=o.fv,v=o.dpv,y,C,E,T;C=y=v.distance(d,c,!0,!0),E=C>=0?1:-1,C=Math.abs(C),t&&(T=o.cvt[a],r&&Math.abs(C-T)<o.cvCutIn&&(C=T)),n&&C<f&&(C=f),r&&(C=o.round(C)),h.setRelative(d,c,E*C,v),h.touch(d),exports.DEBUG&&console.log(o.step,(t?"MIRP[":"MDRP[")+(e?"M":"m")+(n?">":"_")+(r?"R":"_")+(i===0?"Gr":i===1?"Bl":i===2?"Wh":"")+"]",t?a+"("+o.cvt[a]+","+T+")":"",l,"(d =",y,"->",E*C,")"),o.rp1=o.rp0,o.rp2=l,e&&(o.rp0=l)}R_=[Tx.bind(void 0,Yr),Tx.bind(void 0,Dr),Ix.bind(void 0,Yr),Ix.bind(void 0,Dr),Ax.bind(void 0,Yr),Ax.bind(void 0,Dr),Nx.bind(void 0,0),Nx.bind(void 0,1),Rx.bind(void 0,0),Rx.bind(void 0,1),FV,PV,LV,VV,UV,BV,jV,HV,GV,$V,zV,WV,qV,YV,QV,ZV,XV,KV,JV,eU,void 0,void 0,tU,Um,nU,rU,iU,aU,lU,void 0,void 0,void 0,oU,sU,uU,void 0,kx.bind(void 0,0),kx.bind(void 0,1),Ox.bind(void 0,Yr),Ox.bind(void 0,Dr),Fx.bind(void 0,0),Fx.bind(void 0,1),Px.bind(void 0,0),Px.bind(void 0,1),Lx.bind(void 0,0),Lx.bind(void 0,1),cU,dU,Vx.bind(void 0,0),Vx.bind(void 0,1),fU,hU,Ux.bind(void 0,0),Ux.bind(void 0,1),pU,gU,mU,vU,yU,wU,Bx.bind(void 0,0),Bx.bind(void 0,1),void 0,jx.bind(void 0,0),jx.bind(void 0,1),bU,void 0,CU,void 0,void 0,EU,DU,xU,_U,SU,MU,TU,IU,AU,NU,RU,kU,OU,Bm.bind(void 0,1),FU,PU,LU,VU,UU,BU,jU,HU,GU,$U,Xd.bind(void 0,0),Xd.bind(void 0,1),Xd.bind(void 0,2),Xd.bind(void 0,3),void 0,void 0,void 0,void 0,zU,Bm.bind(void 0,2),Bm.bind(void 0,3),jm.bind(void 0,1),jm.bind(void 0,2),jm.bind(void 0,3),WU,qU,void 0,void 0,YU,void 0,QU,ZU,Um,Um,void 0,void 0,void 0,void 0,void 0,XU,Hx.bind(void 0,0),Hx.bind(void 0,1),KU,void 0,JU,eB,tB,nB,rB,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Mi.bind(void 0,1),Mi.bind(void 0,2),Mi.bind(void 0,3),Mi.bind(void 0,4),Mi.bind(void 0,5),Mi.bind(void 0,6),Mi.bind(void 0,7),Mi.bind(void 0,8),Ti.bind(void 0,1),Ti.bind(void 0,2),Ti.bind(void 0,3),Ti.bind(void 0,4),Ti.bind(void 0,5),Ti.bind(void 0,6),Ti.bind(void 0,7),Ti.bind(void 0,8),X.bind(void 0,0,0,0,0,0),X.bind(void 0,0,0,0,0,1),X.bind(void 0,0,0,0,0,2),X.bind(void 0,0,0,0,0,3),X.bind(void 0,0,0,0,1,0),X.bind(void 0,0,0,0,1,1),X.bind(void 0,0,0,0,1,2),X.bind(void 0,0,0,0,1,3),X.bind(void 0,0,0,1,0,0),X.bind(void 0,0,0,1,0,1),X.bind(void 0,0,0,1,0,2),X.bind(void 0,0,0,1,0,3),X.bind(void 0,0,0,1,1,0),X.bind(void 0,0,0,1,1,1),X.bind(void 0,0,0,1,1,2),X.bind(void 0,0,0,1,1,3),X.bind(void 0,0,1,0,0,0),X.bind(void 0,0,1,0,0,1),X.bind(void 0,0,1,0,0,2),X.bind(void 0,0,1,0,0,3),X.bind(void 0,0,1,0,1,0),X.bind(void 0,0,1,0,1,1),X.bind(void 0,0,1,0,1,2),X.bind(void 0,0,1,0,1,3),X.bind(void 0,0,1,1,0,0),X.bind(void 0,0,1,1,0,1),X.bind(void 0,0,1,1,0,2),X.bind(void 0,0,1,1,0,3),X.bind(void 0,0,1,1,1,0),X.bind(void 0,0,1,1,1,1),X.bind(void 0,0,1,1,1,2),X.bind(void 0,0,1,1,1,3),X.bind(void 0,1,0,0,0,0),X.bind(void 0,1,0,0,0,1),X.bind(void 0,1,0,0,0,2),X.bind(void 0,1,0,0,0,3),X.bind(void 0,1,0,0,1,0),X.bind(void 0,1,0,0,1,1),X.bind(void 0,1,0,0,1,2),X.bind(void 0,1,0,0,1,3),X.bind(void 0,1,0,1,0,0),X.bind(void 0,1,0,1,0,1),X.bind(void 0,1,0,1,0,2),X.bind(void 0,1,0,1,0,3),X.bind(void 0,1,0,1,1,0),X.bind(void 0,1,0,1,1,1),X.bind(void 0,1,0,1,1,2),X.bind(void 0,1,0,1,1,3),X.bind(void 0,1,1,0,0,0),X.bind(void 0,1,1,0,0,1),X.bind(void 0,1,1,0,0,2),X.bind(void 0,1,1,0,0,3),X.bind(void 0,1,1,0,1,0),X.bind(void 0,1,1,0,1,1),X.bind(void 0,1,1,0,1,2),X.bind(void 0,1,1,0,1,3),X.bind(void 0,1,1,1,0,0),X.bind(void 0,1,1,1,0,1),X.bind(void 0,1,1,1,0,2),X.bind(void 0,1,1,1,0,3),X.bind(void 0,1,1,1,1,0),X.bind(void 0,1,1,1,1,1),X.bind(void 0,1,1,1,1,2),X.bind(void 0,1,1,1,1,3)];function Js(t){this.char=t,this.state={},this.activeState=null}function av(t,e,n){this.contextName=n,this.startIndex=t,this.endOffset=e}function iB(t,e,n){this.contextName=t,this.openRange=null,this.ranges=[],this.checkStart=e,this.checkEnd=n}function er(t,e){this.context=t,this.index=e,this.length=t.length,this.current=t[e],this.backtrack=t.slice(0,e),this.lookahead=t.slice(e+1)}function lf(t){this.eventId=t,this.subscribers=[]}function oB(t){var e=this,n=["start","end","next","newToken","contextStart","contextEnd","insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD","updateContextsRanges"];n.forEach(function(i){Object.defineProperty(e.events,i,{value:new lf(i)})}),t&&n.forEach(function(i){var o=t[i];typeof o=="function"&&e.events[i].subscribe(o)});var r=["insertToken","removeToken","removeRange","replaceToken","replaceRange","composeRUD"];r.forEach(function(i){e.events[i].subscribe(e.updateContextsRanges)})}function dt(t){this.tokens=[],this.registeredContexts={},this.contextCheckers=[],this.events={},this.registeredModifiers=[],oB.call(this,t)}Js.prototype.setState=function(t,e){return this.state[t]=e,this.activeState={key:t,value:this.state[t]},this.activeState};Js.prototype.getState=function(t){return this.state[t]||null};dt.prototype.inboundIndex=function(t){return t>=0&&t<this.tokens.length};dt.prototype.composeRUD=function(t){var e=this,n=!0,r=t.map(function(o){return e[o[0]].apply(e,o.slice(1).concat(n))}),i=function(o){return typeof o=="object"&&o.hasOwnProperty("FAIL")};if(r.every(i))return{FAIL:"composeRUD: one or more operations hasn't completed successfully",report:r.filter(i)};this.dispatch("composeRUD",[r.filter(function(o){return!i(o)})])};dt.prototype.replaceRange=function(t,e,n,r){e=e!==null?e:this.tokens.length;var i=n.every(function(s){return s instanceof Js});if(!isNaN(t)&&this.inboundIndex(t)&&i){var o=this.tokens.splice.apply(this.tokens,[t,e].concat(n));return r||this.dispatch("replaceToken",[t,e,n]),[o,n]}else return{FAIL:"replaceRange: invalid tokens or startIndex."}};dt.prototype.replaceToken=function(t,e,n){if(!isNaN(t)&&this.inboundIndex(t)&&e instanceof Js){var r=this.tokens.splice(t,1,e);return n||this.dispatch("replaceToken",[t,e]),[r[0],e]}else return{FAIL:"replaceToken: invalid token or index."}};dt.prototype.removeRange=function(t,e,n){e=isNaN(e)?this.tokens.length:e;var r=this.tokens.splice(t,e);return n||this.dispatch("removeRange",[r,t,e]),r};dt.prototype.removeToken=function(t,e){if(!isNaN(t)&&this.inboundIndex(t)){var n=this.tokens.splice(t,1);return e||this.dispatch("removeToken",[n,t]),n}else return{FAIL:"removeToken: invalid token index."}};dt.prototype.insertToken=function(t,e,n){var r=t.every(function(i){return i instanceof Js});return r?(this.tokens.splice.apply(this.tokens,[e,0].concat(t)),n||this.dispatch("insertToken",[t,e]),t):{FAIL:"insertToken: invalid token(s)."}};dt.prototype.registerModifier=function(t,e,n){this.events.newToken.subscribe(function(r,i){var o=[r,i],s=e===null||e.apply(this,o)===!0,a=[r,i];if(s){var l=n.apply(this,a);r.setState(t,l)}}),this.registeredModifiers.push(t)};lf.prototype.subscribe=function(t){return typeof t=="function"?this.subscribers.push(t)-1:{FAIL:"invalid '"+this.eventId+"' event handler"}};lf.prototype.unsubscribe=function(t){this.subscribers.splice(t,1)};er.prototype.setCurrentIndex=function(t){this.index=t,this.current=this.context[t],this.backtrack=this.context.slice(0,t),this.lookahead=this.context.slice(t+1)};er.prototype.get=function(t){switch(!0){case t===0:return this.current;case(t<0&&Math.abs(t)<=this.backtrack.length):return this.backtrack.slice(t)[0];case(t>0&&t<=this.lookahead.length):return this.lookahead[t-1];default:return null}};dt.prototype.rangeToText=function(t){if(t instanceof av)return this.getRangeTokens(t).map(function(e){return e.char}).join("")};dt.prototype.getText=function(){return this.tokens.map(function(t){return t.char}).join("")};dt.prototype.getContext=function(t){var e=this.registeredContexts[t];return e||null};dt.prototype.on=function(t,e){var n=this.events[t];return n?n.subscribe(e):null};dt.prototype.dispatch=function(t,e){var n=this,r=this.events[t];r instanceof lf&&r.subscribers.forEach(function(i){i.apply(n,e||[])})};dt.prototype.registerContextChecker=function(t,e,n){if(this.getContext(t))return{FAIL:"context name '"+t+"' is already registered."};if(typeof e!="function")return{FAIL:"missing context start check."};if(typeof n!="function")return{FAIL:"missing context end check."};var r=new iB(t,e,n);return this.registeredContexts[t]=r,this.contextCheckers.push(r),r};dt.prototype.getRangeTokens=function(t){var e=t.startIndex+t.endOffset;return[].concat(this.tokens.slice(t.startIndex,e))};dt.prototype.getContextRanges=function(t){var e=this.getContext(t);return e?e.ranges:{FAIL:"context checker '"+t+"' is not registered."}};dt.prototype.resetContextsRanges=function(){var t=this.registeredContexts;for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];n.ranges=[]}};dt.prototype.updateContextsRanges=function(){this.resetContextsRanges();for(var t=this.tokens.map(function(r){return r.char}),e=0;e<t.length;e++){var n=new er(t,e);this.runContextCheck(n)}this.dispatch("updateContextsRanges",[this.registeredContexts])};dt.prototype.setEndOffset=function(t,e){var n=this.getContext(e).openRange.startIndex,r=new av(n,t,e),i=this.getContext(e).ranges;return r.rangeId=e+"."+i.length,i.push(r),this.getContext(e).openRange=null,r};dt.prototype.runContextCheck=function(t){var e=this,n=t.index;this.contextCheckers.forEach(function(r){var i=r.contextName,o=e.getContext(i).openRange;if(!o&&r.checkStart(t)&&(o=new av(n,null,i),e.getContext(i).openRange=o,e.dispatch("contextStart",[i,n])),o&&r.checkEnd(t)){var s=n-o.startIndex+1,a=e.setEndOffset(s,i);e.dispatch("contextEnd",[i,a])}})};dt.prototype.tokenize=function(t){this.tokens=[],this.resetContextsRanges();var e=Array.from(t);this.dispatch("start");for(var n=0;n<e.length;n++){var r=e[n],i=new er(e,n);this.dispatch("next",[i]),this.runContextCheck(i);var o=new Js(r);this.tokens.push(o),this.dispatch("newToken",[o,i])}return this.dispatch("end",[this.tokens]),this.tokens};function Ni(t){return/[\u0600-\u065F\u066A-\u06D2\u06FA-\u06FF]/.test(t)}function V_(t){return/[\u0630\u0690\u0621\u0631\u0661\u0671\u0622\u0632\u0672\u0692\u06C2\u0623\u0673\u0693\u06C3\u0624\u0694\u06C4\u0625\u0675\u0695\u06C5\u06E5\u0676\u0696\u06C6\u0627\u0677\u0697\u06C7\u0648\u0688\u0698\u06C8\u0689\u0699\u06C9\u068A\u06CA\u066B\u068B\u06CB\u068C\u068D\u06CD\u06FD\u068E\u06EE\u06FE\u062F\u068F\u06CF\u06EF]/.test(t)}function Ri(t){return/[\u0600-\u0605\u060C-\u060E\u0610-\u061B\u061E\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED]/.test(t)}function Jd(t){return/[A-z]/.test(t)}function sB(t){return/\s/.test(t)}function An(t){this.font=t,this.features={}}function Mo(t){this.id=t.id,this.tag=t.tag,this.substitution=t.substitution}function Al(t,e){if(!t)return-1;switch(e.format){case 1:return e.glyphs.indexOf(t);case 2:for(var n=e.ranges,r=0;r<n.length;r++){var i=n[r];if(t>=i.start&&t<=i.end){var o=t-i.start;return i.index+o}}break;default:return-1}return-1}function aB(t,e){var n=Al(t,e.coverage);return n===-1?null:t+e.deltaGlyphId}function lB(t,e){var n=Al(t,e.coverage);return n===-1?null:e.substitute[n]}function Hm(t,e){for(var n=[],r=0;r<t.length;r++){var i=t[r],o=e.current;o=Array.isArray(o)?o[0]:o;var s=Al(o,i);s!==-1&&n.push(s)}return n.length!==t.length?-1:n}function uB(t,e){var n=e.inputCoverage.length+e.lookaheadCoverage.length+e.backtrackCoverage.length;if(t.context.length<n)return[];var r=Hm(e.inputCoverage,t);if(r===-1)return[];var i=e.inputCoverage.length-1;if(t.lookahead.length<e.lookaheadCoverage.length)return[];for(var o=t.lookahead.slice(i);o.length&&Ri(o[0].char);)o.shift();var s=new er(o,0),a=Hm(e.lookaheadCoverage,s),l=[].concat(t.backtrack);for(l.reverse();l.length&&Ri(l[0].char);)l.shift();if(l.length<e.backtrackCoverage.length)return[];var u=new er(l,0),c=Hm(e.backtrackCoverage,u),d=r.length===e.inputCoverage.length&&a.length===e.lookaheadCoverage.length&&c.length===e.backtrackCoverage.length,f=[];if(d)for(var h=0;h<e.lookupRecords.length;h++)for(var v=e.lookupRecords[h],y=v.lookupListIndex,C=this.getLookupByIndex(y),E=0;E<C.subtables.length;E++){var T=C.subtables[E],x=this.getLookupMethod(C,T),P=this.getSubstitutionType(C,T);if(P==="12")for(var I=0;I<r.length;I++){var B=t.get(I),V=x(B);V&&f.push(V)}}return f}function cB(t,e){var n=t.current,r=Al(n,e.coverage);if(r===-1)return null;for(var i,o=e.ligatureSets[r],s=0;s<o.length;s++){i=o[s];for(var a=0;a<i.components.length;a++){var l=t.lookahead[a],u=i.components[a];if(l!==u)break;if(a===i.components.length-1)return i}}return null}function dB(t,e){var n=Al(t,e.coverage);return n===-1?null:e.sequences[n]}An.prototype.getDefaultScriptFeaturesIndexes=function(){for(var t=this.font.tables.gsub.scripts,e=0;e<t.length;e++){var n=t[e];if(n.tag==="DFLT")return n.script.defaultLangSys.featureIndexes}return[]};An.prototype.getScriptFeaturesIndexes=function(t){var e=this.font.tables;if(!e.gsub)return[];if(!t)return this.getDefaultScriptFeaturesIndexes();for(var n=this.font.tables.gsub.scripts,r=0;r<n.length;r++){var i=n[r];if(i.tag===t&&i.script.defaultLangSys)return i.script.defaultLangSys.featureIndexes;var o=i.langSysRecords;if(o)for(var s=0;s<o.length;s++){var a=o[s];if(a.tag===t){var l=a.langSys;return l.featureIndexes}}}return this.getDefaultScriptFeaturesIndexes()};An.prototype.mapTagsToFeatures=function(t,e){for(var n={},r=0;r<t.length;r++){var i=t[r].tag,o=t[r].feature;n[i]=o}this.features[e].tags=n};An.prototype.getScriptFeatures=function(t){var e=this.features[t];if(this.features.hasOwnProperty(t))return e;var n=this.getScriptFeaturesIndexes(t);if(!n)return null;var r=this.font.tables.gsub;return e=n.map(function(i){return r.features[i]}),this.features[t]=e,this.mapTagsToFeatures(e,t),e};An.prototype.getSubstitutionType=function(t,e){var n=t.lookupType.toString(),r=e.substFormat.toString();return n+r};An.prototype.getLookupMethod=function(t,e){var n=this,r=this.getSubstitutionType(t,e);switch(r){case"11":return function(i){return aB.apply(n,[i,e])};case"12":return function(i){return lB.apply(n,[i,e])};case"63":return function(i){return uB.apply(n,[i,e])};case"41":return function(i){return cB.apply(n,[i,e])};case"21":return function(i){return dB.apply(n,[i,e])};default:throw new Error("lookupType: "+t.lookupType+" - substFormat: "+e.substFormat+" is not yet supported")}};An.prototype.lookupFeature=function(t){var e=t.contextParams,n=e.index,r=this.getFeature({tag:t.tag,script:t.script});if(!r)return new Error("font '"+this.font.names.fullName.en+"' doesn't support feature '"+t.tag+"' for script '"+t.script+"'.");for(var i=this.getFeatureLookups(r),o=[].concat(e.context),s=0;s<i.length;s++)for(var a=i[s],l=this.getLookupSubtables(a),u=0;u<l.length;u++){var c=l[u],d=this.getSubstitutionType(a,c),f=this.getLookupMethod(a,c),h=void 0;switch(d){case"11":h=f(e.current),h&&o.splice(n,1,new Mo({id:11,tag:t.tag,substitution:h}));break;case"12":h=f(e.current),h&&o.splice(n,1,new Mo({id:12,tag:t.tag,substitution:h}));break;case"63":h=f(e),Array.isArray(h)&&h.length&&o.splice(n,1,new Mo({id:63,tag:t.tag,substitution:h}));break;case"41":h=f(e),h&&o.splice(n,1,new Mo({id:41,tag:t.tag,substitution:h}));break;case"21":h=f(e.current),h&&o.splice(n,1,new Mo({id:21,tag:t.tag,substitution:h}));break}e=new er(o,n),!(Array.isArray(h)&&!h.length)&&(h=null)}return o.length?o:null};An.prototype.supports=function(t){if(!t.script)return!1;this.getScriptFeatures(t.script);var e=this.features.hasOwnProperty(t.script);if(!t.tag)return e;var n=this.features[t.script].some(function(r){return r.tag===t.tag});return e&&n};An.prototype.getLookupSubtables=function(t){return t.subtables||null};An.prototype.getLookupByIndex=function(t){var e=this.font.tables.gsub.lookups;return e[t]||null};An.prototype.getFeatureLookups=function(t){return t.lookupListIndexes.map(this.getLookupByIndex.bind(this))};An.prototype.getFeature=function(e){if(!this.font)return{FAIL:"No font was found"};this.features.hasOwnProperty(e.script)||this.getScriptFeatures(e.script);var n=this.features[e.script];return n?n.tags[e.tag]?this.features[e.script].tags[e.tag]:null:{FAIL:"No feature for script "+e.script}};function fB(t){var e=t.current,n=t.get(-1);return n===null&&Ni(e)||!Ni(n)&&Ni(e)}function hB(t){var e=t.get(1);return e===null||!Ni(e)}var pB={startCheck:fB,endCheck:hB};function gB(t){var e=t.current,n=t.get(-1);return(Ni(e)||Ri(e))&&!Ni(n)}function mB(t){var e=t.get(1);switch(!0){case e===null:return!0;case(!Ni(e)&&!Ri(e)):var n=sB(e);if(!n)return!0;if(n){var r=!1;if(r=t.lookahead.some(function(i){return Ni(i)||Ri(i)}),!r)return!0}break;default:return!1}}var vB={startCheck:gB,endCheck:mB};function yB(t,e,n){e[n].setState(t.tag,t.substitution)}function wB(t,e,n){e[n].setState(t.tag,t.substitution)}function bB(t,e,n){t.substitution.forEach(function(r,i){var o=e[n+i];o.setState(t.tag,r)})}function CB(t,e,n){var r=e[n];r.setState(t.tag,t.substitution.ligGlyph);for(var i=t.substitution.components.length,o=0;o<i;o++)r=e[n+o+1],r.setState("deleted",!0)}var Gx={11:yB,12:wB,63:bB,41:CB};function lv(t,e,n){t instanceof Mo&&Gx[t.id]&&Gx[t.id](t,e,n)}function EB(t){for(var e=[].concat(t.backtrack),n=e.length-1;n>=0;n--){var r=e[n],i=V_(r),o=Ri(r);if(!i&&!o)return!0;if(i)return!1}return!1}function DB(t){if(V_(t.current))return!1;for(var e=0;e<t.lookahead.length;e++){var n=t.lookahead[e],r=Ri(n);if(!r)return!0}return!1}function xB(t){var e=this,n="arab",r=this.featuresTags[n],i=this.tokenizer.getRangeTokens(t);if(i.length!==1){var o=new er(i.map(function(a){return a.getState("glyphIndex")}),0),s=new er(i.map(function(a){return a.char}),0);i.forEach(function(a,l){if(!Ri(a.char)){o.setCurrentIndex(l),s.setCurrentIndex(l);var u=0;EB(s)&&(u|=1),DB(s)&&(u|=2);var c;switch(u){case 1:c="fina";break;case 2:c="init";break;case 3:c="medi";break}if(r.indexOf(c)!==-1){var d=e.query.lookupFeature({tag:c,script:n,contextParams:o});if(d instanceof Error)return console.info(d.message);d.forEach(function(f,h){f instanceof Mo&&(lv(f,i,h),o.context[h]=f.substitution)})}}})}}function $x(t,e){var n=t.map(function(r){return r.activeState.value});return new er(n,e||0)}function _B(t){var e=this,n="arab",r=this.tokenizer.getRangeTokens(t),i=$x(r);i.context.forEach(function(o,s){i.setCurrentIndex(s);var a=e.query.lookupFeature({tag:"rlig",script:n,contextParams:i});a.length&&(a.forEach(function(l){return lv(l,r,s)}),i=$x(r))})}function SB(t){var e=t.current,n=t.get(-1);return n===null&&Jd(e)||!Jd(n)&&Jd(e)}function MB(t){var e=t.get(1);return e===null||!Jd(e)}var TB={startCheck:SB,endCheck:MB};function zx(t,e){var n=t.map(function(r){return r.activeState.value});return new er(n,e||0)}function IB(t){var e=this,n="latn",r=this.tokenizer.getRangeTokens(t),i=zx(r);i.context.forEach(function(o,s){i.setCurrentIndex(s);var a=e.query.lookupFeature({tag:"liga",script:n,contextParams:i});a.length&&(a.forEach(function(l){return lv(l,r,s)}),i=zx(r))})}function rr(t){this.baseDir=t||"ltr",this.tokenizer=new dt,this.featuresTags={}}rr.prototype.setText=function(t){this.text=t};rr.prototype.contextChecks={latinWordCheck:TB,arabicWordCheck:pB,arabicSentenceCheck:vB};function Gm(t){var e=this.contextChecks[t+"Check"];return this.tokenizer.registerContextChecker(t,e.startCheck,e.endCheck)}function AB(){return Gm.call(this,"latinWord"),Gm.call(this,"arabicWord"),Gm.call(this,"arabicSentence"),this.tokenizer.tokenize(this.text)}function NB(){var t=this,e=this.tokenizer.getContextRanges("arabicSentence");e.forEach(function(n){var r=t.tokenizer.getRangeTokens(n);t.tokenizer.replaceRange(n.startIndex,n.endOffset,r.reverse())})}rr.prototype.registerFeatures=function(t,e){var n=this,r=e.filter(function(i){return n.query.supports({script:t,tag:i})});this.featuresTags.hasOwnProperty(t)?this.featuresTags[t]=this.featuresTags[t].concat(r):this.featuresTags[t]=r};rr.prototype.applyFeatures=function(t,e){if(!t)throw new Error("No valid font was provided to apply features");this.query||(this.query=new An(t));for(var n=0;n<e.length;n++){var r=e[n];this.query.supports({script:r.script})&&this.registerFeatures(r.script,r.tags)}};rr.prototype.registerModifier=function(t,e,n){this.tokenizer.registerModifier(t,e,n)};function uv(){if(this.tokenizer.registeredModifiers.indexOf("glyphIndex")===-1)throw new Error("glyphIndex modifier is required to apply arabic presentation features.")}function RB(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){uv.call(this);var n=this.tokenizer.getContextRanges("arabicWord");n.forEach(function(r){xB.call(t,r)})}}function kB(){var t=this,e="arab";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("rlig")!==-1){uv.call(this);var r=this.tokenizer.getContextRanges("arabicWord");r.forEach(function(i){_B.call(t,i)})}}}function OB(){var t=this,e="latn";if(this.featuresTags.hasOwnProperty(e)){var n=this.featuresTags[e];if(n.indexOf("liga")!==-1){uv.call(this);var r=this.tokenizer.getContextRanges("latinWord");r.forEach(function(i){IB.call(t,i)})}}}rr.prototype.checkContextReady=function(t){return!!this.tokenizer.getContext(t)};rr.prototype.applyFeaturesToContexts=function(){this.checkContextReady("arabicWord")&&(RB.call(this),kB.call(this)),this.checkContextReady("latinWord")&&OB.call(this),this.checkContextReady("arabicSentence")&&NB.call(this)};rr.prototype.processText=function(t){(!this.text||this.text!==t)&&(this.setText(t),AB.call(this),this.applyFeaturesToContexts())};rr.prototype.getBidiText=function(t){return this.processText(t),this.tokenizer.getText()};rr.prototype.getTextGlyphs=function(t){this.processText(t);for(var e=[],n=0;n<this.tokenizer.tokens.length;n++){var r=this.tokenizer.tokens[n];if(!r.state.deleted){var i=r.activeState.value;e.push(Array.isArray(i)?i[0]:i)}}return e};function $e(t){t=t||{},t.tables=t.tables||{},t.empty||(bl(t.familyName,"When creating a new Font object, familyName is required."),bl(t.styleName,"When creating a new Font object, styleName is required."),bl(t.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),bl(t.ascender,"When creating a new Font object, ascender is required."),bl(t.descender<=0,"When creating a new Font object, negative descender value is required."),this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},fullName:{en:t.fullName||t.familyName+" "+t.styleName},postScriptName:{en:t.postScriptName||(t.familyName+t.styleName).replace(/\s/g,"")},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.createdTimestamp=t.createdTimestamp,this.tables=Object.assign(t.tables,{os2:Object.assign({usWeightClass:t.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:t.widthClass||this.usWidthClasses.MEDIUM,fsSelection:t.fsSelection||this.fsSelectionValues.REGULAR},t.tables.os2)})),this.supported=!0,this.glyphs=new xr.GlyphSet(this,t.glyphs||[]),this.encoding=new n_(this),this.position=new Ml(this),this.substitution=new In(this),this.tables=this.tables||{},this._push=null,this._hmtxTableData={},Object.defineProperty(this,"hinting",{get:function(){if(this._hinting)return this._hinting;if(this.outlinesFormat==="truetype")return this._hinting=new O_(this)}})}$e.prototype.hasChar=function(t){return this.encoding.charToGlyphIndex(t)!==null};$e.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)};$e.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};$e.prototype.updateFeatures=function(t){return this.defaultRenderOptions.features.map(function(e){return e.script==="latn"?{script:"latn",tags:e.tags.filter(function(n){return t[n]})}:e})};$e.prototype.stringToGlyphs=function(t,e){var n=this,r=new rr,i=function(d){return n.charToGlyphIndex(d.char)};r.registerModifier("glyphIndex",null,i);var o=e?this.updateFeatures(e.features):this.defaultRenderOptions.features;r.applyFeatures(this,o);for(var s=r.getTextGlyphs(t),a=s.length,l=new Array(a),u=this.glyphs.get(0),c=0;c<a;c+=1)l[c]=this.glyphs.get(s[c])||u;return l};$e.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)};$e.prototype.nameToGlyph=function(t){var e=this.nameToGlyphIndex(t),n=this.glyphs.get(e);return n||(n=this.glyphs.get(0)),n};$e.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""};$e.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var n=this.position.defaultKerningTables;return n?this.position.getKerningValue(n,t,e):this.kerningPairs[t+","+e]||0};$e.prototype.defaultRenderOptions={kerning:!0,features:[{script:"arab",tags:["init","medi","fina","rlig"]},{script:"latn",tags:["liga","rlig"]}]};$e.prototype.forEachGlyph=function(t,e,n,r,i,o){e=e!==void 0?e:0,n=n!==void 0?n:0,r=r!==void 0?r:72,i=Object.assign({},this.defaultRenderOptions,i);var s=1/this.unitsPerEm*r,a=this.stringToGlyphs(t,i),l;if(i.kerning){var u=i.script||this.position.getDefaultScriptName();l=this.position.getKerningTables(u,i.language)}for(var c=0;c<a.length;c+=1){var d=a[c];if(o.call(this,d,e,n,r,i),d.advanceWidth&&(e+=d.advanceWidth*s),i.kerning&&c<a.length-1){var f=l?this.position.getKerningValue(l,d.index,a[c+1].index):this.getKerningValue(d,a[c+1]);e+=f*s}i.letterSpacing?e+=i.letterSpacing*r:i.tracking&&(e+=i.tracking/1e3*r)}return e};$e.prototype.getPath=function(t,e,n,r,i){var o=new ct;return this.forEachGlyph(t,e,n,r,i,function(s,a,l,u){var c=s.getPath(a,l,u,i,this);o.extend(c)}),o};$e.prototype.getPaths=function(t,e,n,r,i){var o=[];return this.forEachGlyph(t,e,n,r,i,function(s,a,l,u){var c=s.getPath(a,l,u,i,this);o.push(c)}),o};$e.prototype.getAdvanceWidth=function(t,e,n){return this.forEachGlyph(t,0,0,e,n,function(){})};$e.prototype.draw=function(t,e,n,r,i,o){this.getPath(e,n,r,i,o).draw(t)};$e.prototype.drawPoints=function(t,e,n,r,i,o){this.forEachGlyph(e,n,r,i,o,function(s,a,l,u){s.drawPoints(t,a,l,u)})};$e.prototype.drawMetrics=function(t,e,n,r,i,o){this.forEachGlyph(e,n,r,i,o,function(s,a,l,u){s.drawMetrics(t,a,l,u)})};$e.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en};$e.prototype.validate=function(){var t=this;function e(r,i){}function n(r){var i=t.getEnglishName(r);i&&i.trim().length>0}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),this.unitsPerEm>0};$e.prototype.toTables=function(){return CV.fontToTable(this)};$e.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()};$e.prototype.toArrayBuffer=function(){for(var t=this.toTables(),e=t.encode(),n=new ArrayBuffer(e.length),r=new Uint8Array(n),i=0;i<e.length;i++)r[i]=e[i];return n};$e.prototype.download=function(t){var e=this.getEnglishName("fontFamily"),n=this.getEnglishName("fontSubfamily");t=t||e.replace(/\s/g,"")+"-"+n+".otf";var r=this.toArrayBuffer();if(DV())if(window.URL=window.URL||window.webkitURL,window.URL){var i=new DataView(r),o=new Blob([i],{type:"font/opentype"}),s=document.createElement("a");s.href=window.URL.createObjectURL(o),s.download=t;var a=document.createEvent("MouseEvents");a.initEvent("click",!0,!1),s.dispatchEvent(a)}else console.warn("Font file could not be downloaded. Try using a different browser.");else{var l=Wd(),u=xV(r);l.writeFileSync(t,u)}};$e.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512};$e.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9};$e.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};function U_(t,e){var n=JSON.stringify(t),r=256;for(var i in e){var o=parseInt(i);if(!(!o||o<256)){if(JSON.stringify(e[i])===n)return o;r<=o&&(r=o+1)}}return e[r]=t,r}function FB(t,e,n){var r=U_(e.name,n);return[{name:"tag_"+t,type:"TAG",value:e.tag},{name:"minValue_"+t,type:"FIXED",value:e.minValue<<16},{name:"defaultValue_"+t,type:"FIXED",value:e.defaultValue<<16},{name:"maxValue_"+t,type:"FIXED",value:e.maxValue<<16},{name:"flags_"+t,type:"USHORT",value:0},{name:"nameID_"+t,type:"USHORT",value:r}]}function PB(t,e,n){var r={},i=new K.Parser(t,e);return r.tag=i.parseTag(),r.minValue=i.parseFixed(),r.defaultValue=i.parseFixed(),r.maxValue=i.parseFixed(),i.skip("uShort",1),r.name=n[i.parseUShort()]||{},r}function LB(t,e,n,r){for(var i=U_(e.name,r),o=[{name:"nameID_"+t,type:"USHORT",value:i},{name:"flags_"+t,type:"USHORT",value:0}],s=0;s<n.length;++s){var a=n[s].tag;o.push({name:"axis_"+t+" "+a,type:"FIXED",value:e.coordinates[a]<<16})}return o}function VB(t,e,n,r){var i={},o=new K.Parser(t,e);i.name=r[o.parseUShort()]||{},o.skip("uShort",1),i.coordinates={};for(var s=0;s<n.length;++s)i.coordinates[n[s].tag]=o.parseFixed();return i}function UB(t,e){var n=new W.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:t.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:t.instances.length},{name:"instanceSize",type:"USHORT",value:4+t.axes.length*4}]);n.offsetToData=n.sizeOf();for(var r=0;r<t.axes.length;r++)n.fields=n.fields.concat(FB(r,t.axes[r],e));for(var i=0;i<t.instances.length;i++)n.fields=n.fields.concat(LB(i,t.instances[i],t.axes,e));return n}function BB(t,e,n){var r=new K.Parser(t,e),i=r.parseULong();le.argument(i===65536,"Unsupported fvar table version.");var o=r.parseOffset16();r.skip("uShort",1);for(var s=r.parseUShort(),a=r.parseUShort(),l=r.parseUShort(),u=r.parseUShort(),c=[],d=0;d<s;d++)c.push(PB(t,e+o+d*a,n));for(var f=[],h=e+o+s*a,v=0;v<l;v++)f.push(VB(t,h+v*u,c,n));return{axes:c,instances:f}}var jB={make:UB,parse:BB},HB=function(){return{coverage:this.parsePointer(M.coverage),attachPoints:this.parseList(M.pointer(M.uShortList))}},GB=function(){var t=this.parseUShort();if(le.argument(t===1||t===2||t===3,"Unsupported CaretValue table version."),t===1)return{coordinate:this.parseShort()};if(t===2)return{pointindex:this.parseShort()};if(t===3)return{coordinate:this.parseShort()}},$B=function(){return this.parseList(M.pointer(GB))},zB=function(){return{coverage:this.parsePointer(M.coverage),ligGlyphs:this.parseList(M.pointer($B))}},WB=function(){return this.parseUShort(),this.parseList(M.pointer(M.coverage))};function qB(t,e){e=e||0;var n=new M(t,e),r=n.parseVersion(1);le.argument(r===1||r===1.2||r===1.3,"Unsupported GDEF table version.");var i={version:r,classDef:n.parsePointer(M.classDef),attachList:n.parsePointer(HB),ligCaretList:n.parsePointer(zB),markAttachClassDef:n.parsePointer(M.classDef)};return r>=1.2&&(i.markGlyphSets=n.parsePointer(WB)),i}var YB={parse:qB},tr=new Array(10);tr[1]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();if(n===1)return{posFormat:1,coverage:this.parsePointer(M.coverage),value:this.parseValueRecord()};if(n===2)return{posFormat:2,coverage:this.parsePointer(M.coverage),values:this.parseValueRecordList()};le.assert(!1,"0x"+e.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")};tr[2]=function(){var e=this.offset+this.relativeOffset,n=this.parseUShort();le.assert(n===1||n===2,"0x"+e.toString(16)+": GPOS lookup type 2 format must be 1 or 2.");var r=this.parsePointer(M.coverage),i=this.parseUShort(),o=this.parseUShort();if(n===1)return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:o,pairSets:this.parseList(M.pointer(M.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(i),value2:this.parseValueRecord(o)}})))};if(n===2){var s=this.parsePointer(M.classDef),a=this.parsePointer(M.classDef),l=this.parseUShort(),u=this.parseUShort();return{posFormat:n,coverage:r,valueFormat1:i,valueFormat2:o,classDef1:s,classDef2:a,class1Count:l,class2Count:u,classRecords:this.parseList(l,M.list(u,function(){return{value1:this.parseValueRecord(i),value2:this.parseValueRecord(o)}}))}}};tr[3]=function(){return{error:"GPOS Lookup 3 not supported"}};tr[4]=function(){return{error:"GPOS Lookup 4 not supported"}};tr[5]=function(){return{error:"GPOS Lookup 5 not supported"}};tr[6]=function(){return{error:"GPOS Lookup 6 not supported"}};tr[7]=function(){return{error:"GPOS Lookup 7 not supported"}};tr[8]=function(){return{error:"GPOS Lookup 8 not supported"}};tr[9]=function(){return{error:"GPOS Lookup 9 not supported"}};function QB(t,e){e=e||0;var n=new M(t,e),r=n.parseVersion(1);return le.argument(r===1||r===1.1,"Unsupported GPOS table version "+r),r===1?{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(tr)}:{version:r,scripts:n.parseScriptList(),features:n.parseFeatureList(),lookups:n.parseLookupList(tr),variations:n.parseFeatureVariationsList()}}var ZB=new Array(10);function XB(t){return new W.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new W.ScriptList(t.scripts)},{name:"features",type:"TABLE",value:new W.FeatureList(t.features)},{name:"lookups",type:"TABLE",value:new W.LookupList(t.lookups,ZB)}])}var KB={parse:QB,make:XB};function JB(t){var e={};t.skip("uShort");var n=t.parseUShort();le.argument(n===0,"Unsupported kern sub-table version."),t.skip("uShort",2);var r=t.parseUShort();t.skip("uShort",3);for(var i=0;i<r;i+=1){var o=t.parseUShort(),s=t.parseUShort(),a=t.parseShort();e[o+","+s]=a}return e}function ej(t){var e={};t.skip("uShort");var n=t.parseULong();n>1&&console.warn("Only the first kern subtable is supported."),t.skip("uLong");var r=t.parseUShort(),i=r&255;if(t.skip("uShort"),i===0){var o=t.parseUShort();t.skip("uShort",3);for(var s=0;s<o;s+=1){var a=t.parseUShort(),l=t.parseUShort(),u=t.parseShort();e[a+","+l]=u}}return e}function tj(t,e){var n=new K.Parser(t,e),r=n.parseUShort();if(r===0)return JB(n);if(r===1)return ej(n);throw new Error("Unsupported kern table version ("+r+").")}var nj={parse:tj};function rj(t,e,n,r){for(var i=new K.Parser(t,e),o=r?i.parseUShort:i.parseULong,s=[],a=0;a<n+1;a+=1){var l=o.call(i);r&&(l*=2),s.push(l)}return s}var ij={parse:rj};function oj(t,e){var n=Wd();n.readFile(t,function(r,i){if(r)return e(r.message);e(null,M_(i))})}function sj(t,e){var n=new XMLHttpRequest;n.open("get",t,!0),n.responseType="arraybuffer",n.onload=function(){return n.response?e(null,n.response):e("Font could not be loaded: "+n.statusText)},n.onerror=function(){e("Font could not be loaded")},n.send()}function Wx(t,e){for(var n=[],r=12,i=0;i<e;i+=1){var o=K.getTag(t,r),s=K.getULong(t,r+4),a=K.getULong(t,r+8),l=K.getULong(t,r+12);n.push({tag:o,checksum:s,offset:a,length:l,compression:!1}),r+=16}return n}function aj(t,e){for(var n=[],r=44,i=0;i<e;i+=1){var o=K.getTag(t,r),s=K.getULong(t,r+4),a=K.getULong(t,r+8),l=K.getULong(t,r+12),u=void 0;a<l?u="WOFF":u=!1,n.push({tag:o,offset:s,compression:u,compressedLength:a,length:l}),r+=20}return n}function gt(t,e){if(e.compression==="WOFF"){var n=new Uint8Array(t.buffer,e.offset+2,e.compressedLength-2),r=new Uint8Array(e.length);if(K2(n,r),r.byteLength!==e.length)throw new Error("Decompression error: "+e.tag+" decompressed length doesn't match recorded length");var i=new DataView(r.buffer,0);return{data:i,offset:0}}else return{data:t,offset:e.offset}}function cv(t,e){e=e??{};var n,r,i=new $e({empty:!0}),o=new DataView(t,0),s,a=[],l=K.getTag(o,0);if(l==="\0\0\0"||l==="true"||l==="typ1")i.outlinesFormat="truetype",s=K.getUShort(o,4),a=Wx(o,s);else if(l==="OTTO")i.outlinesFormat="cff",s=K.getUShort(o,4),a=Wx(o,s);else if(l==="wOFF"){var u=K.getTag(o,4);if(u==="\0\0\0")i.outlinesFormat="truetype";else if(u==="OTTO")i.outlinesFormat="cff";else throw new Error("Unsupported OpenType flavor "+l);s=K.getUShort(o,12),a=aj(o,s)}else throw new Error("Unsupported OpenType signature "+l);for(var c,d,f,h,v,y,C,E,T,x,P,I,B=0;B<s;B+=1){var V=a[B],R=void 0;switch(V.tag){case"cmap":R=gt(o,V),i.tables.cmap=t_.parse(R.data,R.offset),i.encoding=new r_(i.tables.cmap);break;case"cvt ":R=gt(o,V),I=new K.Parser(R.data,R.offset),i.tables.cvt=I.parseShortList(V.length/2);break;case"fvar":d=V;break;case"fpgm":R=gt(o,V),I=new K.Parser(R.data,R.offset),i.tables.fpgm=I.parseByteList(V.length);break;case"head":R=gt(o,V),i.tables.head=h_.parse(R.data,R.offset),i.unitsPerEm=i.tables.head.unitsPerEm,n=i.tables.head.indexToLocFormat;break;case"hhea":R=gt(o,V),i.tables.hhea=p_.parse(R.data,R.offset),i.ascender=i.tables.hhea.ascender,i.descender=i.tables.hhea.descender,i.numberOfHMetrics=i.tables.hhea.numberOfHMetrics;break;case"hmtx":C=V;break;case"ltag":R=gt(o,V),r=m_.parse(R.data,R.offset);break;case"maxp":R=gt(o,V),i.tables.maxp=v_.parse(R.data,R.offset),i.numGlyphs=i.tables.maxp.numGlyphs;break;case"name":x=V;break;case"OS/2":R=gt(o,V),i.tables.os2=Xm.parse(R.data,R.offset);break;case"post":R=gt(o,V),i.tables.post=D_.parse(R.data,R.offset),i.glyphNames=new rv(i.tables.post);break;case"prep":R=gt(o,V),I=new K.Parser(R.data,R.offset),i.tables.prep=I.parseByteList(V.length);break;case"glyf":f=V;break;case"loca":T=V;break;case"CFF ":c=V;break;case"kern":E=V;break;case"GDEF":h=V;break;case"GPOS":v=V;break;case"GSUB":y=V;break;case"meta":P=V;break}}var L=gt(o,x);if(i.tables.name=E_.parse(L.data,L.offset,r),i.names=i.tables.name,f&&T){var ee=n===0,J=gt(o,T),ie=ij.parse(J.data,J.offset,i.numGlyphs,ee),Ee=gt(o,f);i.glyphs=N_.parse(Ee.data,Ee.offset,ie,i,e)}else if(c){var he=gt(o,c);f_.parse(he.data,he.offset,i,e)}else throw new Error("Font doesn't contain TrueType or CFF outlines.");var _e=gt(o,C);if(g_.parse(i,_e.data,_e.offset,i.numberOfHMetrics,i.numGlyphs,i.glyphs,e),wL(i,e),E){var Z=gt(o,E);i.kerningPairs=nj.parse(Z.data,Z.offset)}else i.kerningPairs={};if(h){var ve=gt(o,h);i.tables.gdef=YB.parse(ve.data,ve.offset)}if(v){var Fe=gt(o,v);i.tables.gpos=KB.parse(Fe.data,Fe.offset),i.position.init()}if(y){var Se=gt(o,y);i.tables.gsub=x_.parse(Se.data,Se.offset)}if(d){var qe=gt(o,d);i.tables.fvar=jB.parse(qe.data,qe.offset,i.names)}if(P){var Me=gt(o,P);i.tables.meta=__.parse(Me.data,Me.offset),i.metas=i.tables.meta}return i}function lj(t,e,n){n=n??{};var r=typeof window>"u",i=r&&!n.isUrl?oj:sj;return new Promise(function(o,s){i(t,function(a,l){if(a){if(e)return e(a);s(a)}var u;try{u=cv(l,n)}catch(c){if(e)return e(c,null);s(c)}if(e)return e(null,u);o(u)})})}function uj(t,e){var n=Wd(),r=n.readFileSync(t);return cv(M_(r),e)}var cj=Object.freeze({__proto__:null,Font:$e,Glyph:Kt,Path:ct,BoundingBox:Zr,_parse:K,parse:cv,load:lj,loadSync:uj}),_r=cj;var fj=["fontContainer"];function hj(t,e){if(t&1&&(_(0,"div",7)(1,"p"),F(2),S(),st(),te(3,"svg",8),S()),t&2){let n=e.$implicit;N(2),Nt(n.letter),N(),_g("id","canvas-",n.letter,"")}}var uf=class t{fontContainer;drawings=[];unicodeStart=65;isDrawing=!1;showFill=!0;letters='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789.,!?-":;()'.split("");constructor(){this.letters.forEach((e,n)=>{this.drawings.push({letter:e,unicode:e.charCodeAt(0),svgId:`canvas-${e}`,paths:[]})})}ngAfterViewInit(){this.drawings.forEach(e=>this.setupDrawingCanvas(e))}toggleFill(){this.drawings.forEach(e=>{let n=document.getElementById(e.svgId);n&&this.updateSvg(n,e.paths)})}setupDrawingCanvas(e){let n=document.getElementById(e.svgId);if(!n)return;let r=[],i=(o,s)=>{let a=s.createSVGPoint();a.x=o.clientX,a.y=o.clientY;let l=a.matrixTransform(s.getScreenCTM()?.inverse());return{x:l.x,y:l.y}};n.addEventListener("mousedown",o=>{this.isDrawing=!0;let{x:s,y:a}=i(o,n);r=[`M${s},${a}`]}),n.addEventListener("mousemove",o=>{if(!this.isDrawing)return;let{x:s,y:a}=i(o,n);r.push(`L${s},${a}`),this.updateSvg(n,e.paths.concat([r.join(" ")]))}),n.addEventListener("mouseup",()=>{this.isDrawing=!1,r.length>1&&e.paths.push(r.join(" ")+" Z"),this.updateSvg(n,e.paths)}),this.updateSvg(n,e.paths)}updateSvg(e,n){e.querySelectorAll("path").forEach(i=>i.remove());let r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",n.join(" ")),r.setAttribute("stroke","var(--secondary-color)"),r.setAttribute("stroke-width","2"),r.setAttribute("fill",this.showFill?"var(--secondary-color)":"none"),r.setAttribute("fill-rule","evenodd"),e.appendChild(r)}exportFont(){let e=[];if(this.drawings.forEach(({letter:s,unicode:a,paths:l,svgId:u})=>{if(l.length===0)return;let c=new _r.Path,d=document.getElementById(u);d&&(l.forEach(f=>this.convertSvgPathToOpentype(c,f,d)),e.push(new _r.Glyph({name:s,unicode:a,advanceWidth:600,path:c})))}),e.some(s=>s.name===".notdef")||e.push(new _r.Glyph({name:".notdef",unicode:0,advanceWidth:600,path:new _r.Path})),e.length===0){alert("Keine Buchstaben erstellt!");return}let r=new _r.Font({familyName:"HandDrawnFont",styleName:"Regular",unitsPerEm:1e3,ascender:800,descender:-200,glyphs:e}).toArrayBuffer(),i=new Blob([r],{type:"font/otf"}),o=document.createElement("a");o.href=URL.createObjectURL(i),o.download="HandDrawnFont.otf",o.click()}convertSvgPathToOpentype(e,n,r){let i=n.match(/[ML]\d+(\.\d+)?,\d+(\.\d+)?/g);if(!i)return;let o=r.viewBox.baseVal,s=o.width||r.clientWidth,a=o.height||r.clientHeight,l=1e3/s,u=-1e3/a;i.forEach(c=>{let[d,f]=[c.charAt(0),c.substring(1)],[h,v]=f.split(",").map(Number),y=h*l,C=1e3+v*u;d==="M"?e.moveTo(y,C):d==="L"&&e.lineTo(y,C)}),e.close()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ve({type:t,selectors:[["app-handdrawnFont"]],viewQuery:function(n,r){if(n&1&&Dt(fj,7),n&2){let i;ft(i=ht())&&(r.fontContainer=i.first)}},decls:12,vars:2,consts:[[1,"main"],[1,"settingscontainer"],["type","checkbox",3,"ngModelChange","change","ngModel"],[3,"click"],[1,"workspace"],[1,"font-grid"],["class","lettersvg",4,"ngFor","ngForOf"],[1,"lettersvg"],["viewBox","0 0 100 100",1,"letter-canvas",3,"id"]],template:function(n,r){n&1&&(_(0,"div",0)(1,"div",1)(2,"h2"),F(3,"Zeichne deine eigene Schrift!"),S(),_(4,"label")(5,"input",2),tt("ngModelChange",function(o){return rt(r.showFill,o)||(r.showFill=o),o}),z("change",function(){return r.toggleFill()}),S(),F(6,` F\xFCllung beim Zeichnen anzeigen
`),S(),_(7,"button",3),z("click",function(){return r.exportFont()}),F(8,"Schrift als Datei exportieren"),S()(),_(9,"div",4)(10,"div",5),Je(11,hj,4,3,"div",6),S()()()),n&2&&(N(5),et("ngModel",r.showFill),N(6),se("ngForOf",r.drawings))},dependencies:[pt,yr,dn,Do,cn,Tn],styles:[".handdrawn-font[_ngcontent-%COMP%]{text-align:center}.font-grid[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.letter-box[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.letter-canvas[_ngcontent-%COMP%]{width:100%;height:100%;border:1px solid var(--secondary-color);background-color:var(--primary-color)}"]})};var pj=["customCanvas"],gj=["workspace"];function mj(t,e){if(t&1&&(st(),te(0,"path",15)),t&2){let n=xe();_n("d",n.userPathData)}}function vj(t,e){if(t&1&&(st(),_(0,"g"),te(1,"path",19),S()),t&2){let n,r=e.$implicit,i=xe(2);N(),_n("d",i.userPathData)("fill",i.closePaths?"var(--secondary-color)":"none")("transform","translate("+((n=r==null?null:r.x)!==null&&n!==void 0?n:0)+","+((n=r==null?null:r.y)!==null&&n!==void 0?n:0)+") scale(3)")}}function yj(t,e){if(t&1&&(st(),_(0,"svg",16,2),te(2,"path",17),_(3,"defs")(4,"clipPath"),te(5,"path"),S()(),Je(6,vj,2,3,"g",18),S()),t&2){let n=e.$implicit,r=xe();N(2),_n("d",r.letterPaths[n]),N(2),_n("id","clip-"+n),N(),_n("d",r.letterPaths[n]),N(),se("ngForOf",r.letterStrokeElements[n])}}var cf=class t{constructor(e){this.cdr=e}customCanvas;workspace;closePaths=!1;patternStep=10;userPathData=null;letterPaths={};letterStrokeElements={};isDrawing=!1;pathPoints=[];showLetterGuides=!1;typedText="HELLO";ngAfterViewInit(){this.initializeLetters()}initializeLetters(){this.letterPaths={A:"M10,100 L50,10 L90,100 L70,80 L30,80 Z",B:"M10,10 L10,100 L60,100 Q80,90 60,70 Q80,50 60,30 Q80,10 60,10 Z M10,50 L60,50",C:"M80,20 Q50,0 20,20 L10,50 L20,80 Q50,100 80,80",D:"M10,10 L10,100 L50,100 Q80,80 80,50 Q80,20 50,10 Z",E:"M80,10 L20,10 L10,50 L20,90 L80,90 M20,50 L60,50",F:"M80,10 L20,10 L10,50 L20,90 M20,50 L60,50",G:"M80,20 Q50,0 20,20 L10,50 L20,80 Q50,100 80,80 L80,60 L60,60",H:"M10,10 L10,100 M80,10 L80,100 M10,50 L80,50",I:"M20,10 L80,10 M50,10 L50,100 M20,100 L80,100",J:"M20,10 L80,10 M50,10 L50,80 Q50,100 30,100",K:"M10,10 L10,100 M10,50 L80,10 M10,50 L80,100",L:"M10,10 L10,100 L80,100",M:"M10,100 L10,10 L50,50 L90,10 L90,100",N:"M10,100 L10,10 L90,100 L90,10",O:"M50,10 Q80,10 80,50 Q80,90 50,100 Q20,100 20,50 Q20,10 50,10 Z",P:"M10,10 L10,100 L50,100 Q70,90 50,70 Q50,50 10,50 Z",Q:"M50,10 Q80,10 80,50 Q80,90 50,100 Q20,100 20,50 Q20,10 50,10 Z M60,80 L80,100",R:"M10,10 L10,100 L50,100 Q70,90 50,70 Q50,50 10,50 Z M50,50 L80,100",S:"M70,10 Q30,10 30,40 Q70,50 30,70 Q10,90 70,90",T:"M10,10 L90,10 M50,10 L50,100",U:"M10,10 L10,80 Q10,100 30,100 L70,100 Q90,100 90,80 L90,10",V:"M10,10 L50,100 L90,10",W:"M10,10 L30,100 L50,10 L70,100 L90,10",X:"M10,10 L90,100 M90,10 L10,100",Y:"M10,10 L50,50 M90,10 L50,50 L50,100",Z:"M10,10 L90,10 L10,100 L90,100",a:"M30,70 Q30,50 50,50 Q70,50 70,70 L70,80 Q70,100 50,100 Q30,100 30,80 Z M30,50 L30,30",b:"M20,10 L20,100 Q20,110 40,110 Q60,110 60,90 Q60,70 40,70 L20,70",c:"M60,60 Q40,40 20,60 L20,80 Q40,100 60,80",d:"M60,10 L60,100 Q60,110 40,110 Q20,110 20,90 Q20,70 40,70 L60,70",e:"M20,70 Q20,50 40,50 Q60,50 60,70 Q60,90 40,90 Q20,90 20,70 M20,70 L60,70",f:"M40,10 L40,90 Q40,100 50,100 Q60,100 60,90 M30,50 L50,50",g:"M60,70 Q60,50 40,50 Q20,50 20,70 Q20,90 40,90 Q60,90 60,70 M60,90 L60,110 Q60,130 40,130",h:"M20,10 L20,100 M20,70 Q20,50 40,50 Q60,50 60,70 L60,100",i:"M40,50 L40,100 M40,25 L40,35",j:"M50,50 L50,110 Q50,130 30,130 M50,25 L50,35",k:"M20,10 L20,100 M20,60 L40,60 Q60,40 60,10 M40,60 Q60,80 60,100",l:"M20,10 L20,100",m:"M20,70 Q20,50 40,50 Q60,50 60,70 Q60,50 80,50 Q100,50 100,70 L100,100 M20,100 L20,70",n:"M20,70 Q20,50 40,50 Q60,50 60,70 L60,100 M20,100 L20,70",o:"M20,70 Q20,50 40,50 Q60,50 60,70 Q60,90 40,90 Q20,90 20,70",p:"M20,70 Q20,50 40,50 Q60,50 60,70 Q60,90 40,90 Q20,90 20,70 M20,70 L20,130",q:"M60,70 Q60,50 40,50 Q20,50 20,70 Q20,90 40,90 Q60,90 60,70 M60,70 L60,130",r:"M20,70 L20,100 M20,70 Q20,50 40,50",s:"M60,50 Q40,50 40,60 Q40,70 20,70 Q20,90 40,90 Q60,90 60,80 Q60,70 40,70",t:"M30,10 L30,90 Q30,100 40,100 Q50,100 50,90 M20,30 L40,30",u:"M20,50 L20,80 Q20,100 40,100 Q60,100 60,80 L60,50",v:"M20,50 L40,100 L60,50",w:"M10,50 L30,100 L50,50 L70,100 L90,50",x:"M20,50 L60,100 M60,50 L20,100",y:"M20,50 L40,100 L60,50 M40,100 L40,120",z:"M20,50 L60,50 L20,100 L60,100","!":"M50,10 L50,70 M50,90 L50,100","?":"M30,30 Q30,10 50,10 Q70,10 70,30 Q70,50 50,50 M50,70 L50,80",".":"M50,90 L50,100",",":"M50,90 L50,110","-":"M30,60 L70,60",_:"M10,100 L90,100","/":"M10,90 L90,10","\\":"M10,10 L90,90","@":"M50,50 Q30,50 30,70 Q30,90 50,90 Q70,90 70,70 Q70,60 60,60 Q50,60 50,70"}}updateTypedText(e){let n=e.target;this.typedText=n.value,this.cdr.detectChanges()}getLetterSVGPaths(){return this.typedText.split("").map(e=>this.letterPaths[e]||"")}startDrawing(e){this.isDrawing=!0,this.pathPoints=[],this.updatePath(e)}draw(e){this.isDrawing&&this.updatePath(e)}stopDrawing(){if(this.isDrawing=!1,this.pathPoints.length>1){let e=this.generateSVGPath(this.pathPoints),n=this.centerUserPath(e);n.trim()!==""&&n!==this.userPathData&&(console.log("Neuer Pfad gespeichert:",n),this.userPathData=n,this.applyCustomPattern(),this.cdr.detectChanges())}else console.log("Zeichnung zu kurz \u2013 Pfad nicht gespeichert!");this.pathPoints=[]}generateSVGPath(e){return e.map((n,r)=>r===0?`M ${n.x},${n.y}`:`L ${n.x},${n.y}`).join(" ")}centerUserPath(e){let n=document.createElementNS("http://www.w3.org/2000/svg","path");n.setAttribute("d",e);let r=n.getBBox(),i=r.x+r.width/2,o=r.y+r.height/2;return e.replace(/([ML])\s*([\-\d.]+),([\-\d.]+)/g,(a,l,u,c)=>{let d=parseFloat(u),f=parseFloat(c),h=(d-i).toFixed(2),v=(f-o).toFixed(2);return`${l} ${h},${v}`})}updatePath(e){let n=this.customCanvas.nativeElement,r=this.getSVGPoint(n,e);this.pathPoints.push(r),this.pathPoints.length>1&&(this.userPathData=this.generateSVGPath(this.pathPoints),console.log("Zeichnen... Aktueller Pfad:",this.userPathData),this.cdr.detectChanges())}getSVGPoint(e,n){let r=e.createSVGPoint(),i=n;return r.x=i.clientX,r.y=i.clientY,r.matrixTransform(e.getScreenCTM()?.inverse())}applyCustomPattern(){if(!this.userPathData)return;this.letterStrokeElements={};let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\xC4\xD6\xDC\xE4\xF6\xFC\xDF!?.,:;-_/\\()[]{}<>|^~@#%&*+=`\xA7";for(let n of e)this.letterPaths[n]&&(this.letterStrokeElements[n]=this.generateCustomPattern(this.letterPaths[n]));this.cdr.detectChanges()}generateCustomPattern(e){let n=[],r=document.createElementNS("http://www.w3.org/2000/svg","path");r.setAttribute("d",e);let i=r.getTotalLength();for(let o=0;o<=i;o+=this.patternStep){let s=r.getPointAtLength(o);n.push({x:s.x,y:s.y})}return n}exportFont(){let e=[];if(Object.keys(this.letterPaths).forEach((y,C)=>{let E=y.charCodeAt(0),T=this.letterPaths[y],x=this.letterStrokeElements[y];if(!T||!x||x.length===0){console.warn(`\u26A0\uFE0F Kein Muster f\xFCr '${y}', wird \xFCbersprungen.`);return}let P=new _r.Path,I=1/0,B=1/0,V=-1/0,R=-1/0,L=document.createElementNS("http://www.w3.org/2000/svg","path");L.setAttribute("d",T);let ee=L.getTotalLength(),J=[];for(let Me=0;Me<=ee;Me+=this.patternStep){let je=L.getPointAtLength(Me),Rt=Math.round(je.x),ar=Math.round(je.y);J.push({x:Rt,y:ar}),I=Math.min(I,Rt),V=Math.max(V,Rt),B=Math.min(B,ar),R=Math.max(R,ar)}let ie=document.createElementNS("http://www.w3.org/2000/svg","path");ie.setAttribute("d",this.userPathData??"");let Ee=ie.getTotalLength();for(let Me of J){let je=[];for(let Rt=0;Rt<=Ee;Rt+=this.patternStep){let ar=ie.getPointAtLength(Rt),Gi=Math.round(Me.x+ar.x),lr=Math.round(Me.y+ar.y);je.push({x:Gi,y:lr}),I=Math.min(I,Gi),V=Math.max(V,Gi),B=Math.min(B,lr),R=Math.max(R,lr)}if(je.length>0){P.moveTo(je[0].x,je[0].y);for(let Rt=1;Rt<je.length;Rt++)P.lineTo(je[Rt].x,je[Rt].y);this.closePaths&&P.closePath()}}isFinite(I)||(I=0),isFinite(V)||(V=600),isFinite(B)||(B=-200),isFinite(R)||(R=700);let he=600/(V-I||1),_e=700/(R-B||1),Z=Math.min(he,_e),ve=(600-(V-I)*Z)/2+50,Fe=-Z,Se=R*Z;P.commands.forEach(Me=>{Me.type!=="Z"&&(Me.x=(Me.x||0)*Z+ve,Me.y=(Me.y||0)*Fe+Se)});let qe=new _r.Glyph({name:y,unicode:E,advanceWidth:600,xMin:I*Z+ve,xMax:V*Z+ve,yMin:B*Z+Se,yMax:R*Z+Se,path:P});e.push(qe)}),e.length===0){console.error("\u274C Keine g\xFCltigen Glyphen gefunden.");return}let d=new _r.Font({familyName:"CustomPatternFont",styleName:"Regular",unitsPerEm:1e3,ascender:800,descender:-200,glyphs:e}).toArrayBuffer(),f=new Blob([d],{type:"font/opentype"}),h=URL.createObjectURL(f),v=document.createElement("a");v.href=h,v.download="CustomPatternFont.otf",document.body.appendChild(v),v.click(),document.body.removeChild(v),console.log("\u2705 Erfolgreich als OTF exportiert!")}onPatternStepChange(){this.userPathData&&this.applyCustomPattern()}onClosePathsChange(){this.userPathData&&this.applyCustomPattern()}clearCanvas(){console.log("\u{1F5D1}\uFE0F Canvas wird jetzt gel\xF6scht!"),this.userPathData=null,this.pathPoints=[]}static \u0275fac=function(n){return new(n||t)(Ae(Hr))};static \u0275cmp=Ve({type:t,selectors:[["app-customStrokeFont"]],viewQuery:function(n,r){if(n&1&&(Dt(pj,5),Dt(gj,5)),n&2){let i;ft(i=ht())&&(r.customCanvas=i.first),ft(i=ht())&&(r.workspace=i.first)}},decls:19,vars:4,consts:[["customCanvas",""],["workspace",""],["letterSvg",""],[1,"main"],[1,"settingscontainer"],["id","customstrokecanvas","viewBox","0 0 100 120","preserveAspectRatio","xMidYMid meet",1,"settingsdrawingcanvas",3,"mousedown","mousemove","mouseup","mouseleave","touchstart","touchmove","touchend","touchcancel"],["stroke","var(--secondary-color)","fill","none","stroke-width","1",4,"ngIf"],[1,"clear-canvas-btn",3,"click"],[1,"controls"],["type","checkbox",3,"ngModelChange","ngModel"],["for","patternStep"],["id","patternStep","type","range","min","1","max","50",3,"ngModelChange","input","ngModel"],[3,"click"],[1,"workspace"],["class","lettersvg",4,"ngFor","ngForOf"],["stroke","var(--secondary-color)","fill","none","stroke-width","1"],[1,"lettersvg"],["stroke","none","fill","none"],[4,"ngFor","ngForOf"],["stroke","var(--secondary-color)","stroke-width","1"]],template:function(n,r){if(n&1){let i=lt();_(0,"div",3)(1,"div",4),st(),_(2,"svg",5,0),z("mousedown",function(s){return G(i),$(r.startDrawing(s))})("mousemove",function(s){return G(i),$(r.draw(s))})("mouseup",function(){return G(i),$(r.stopDrawing())})("mouseleave",function(){return G(i),$(r.stopDrawing())})("touchstart",function(s){return G(i),$(r.startDrawing(s))})("touchmove",function(s){return G(i),$(r.draw(s))})("touchend",function(){return G(i),$(r.stopDrawing())})("touchcancel",function(){return G(i),$(r.stopDrawing())}),Je(4,mj,1,1,"path",6),S(),gr(),_(5,"button",7),z("click",function(){return G(i),$(r.clearCanvas())}),F(6,"\u{1F5D1}\uFE0F L\xF6schen"),S(),_(7,"div",8)(8,"label")(9,"input",9),tt("ngModelChange",function(s){return G(i),rt(r.closePaths,s)||(r.closePaths=s),$(s)}),z("ngModelChange",function(){return G(i),$(r.onClosePathsChange())}),S(),F(10," Pfade schlie\xDFen & f\xFCllen? "),S(),_(11,"label",10),F(12,"Pattern Step:"),S(),_(13,"input",11),tt("ngModelChange",function(s){return G(i),rt(r.patternStep,s)||(r.patternStep=s),$(s)}),z("input",function(){return G(i),$(r.onPatternStepChange())}),S(),_(14,"button",12),z("click",function(){return G(i),$(r.exportFont())}),F(15,"Font herunterladen"),S()()(),_(16,"div",13,1),Je(18,yj,7,4,"svg",14),S()()}n&2&&(N(4),se("ngIf",r.userPathData),N(5),et("ngModel",r.closePaths),N(4),et("ngModel",r.patternStep),N(5),se("ngForOf","ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\xC4\xD6\xDC\xE4\xF6\xFC\xDF!?.,:;-_/\\()[]{}<>|^~@#%&*+=`\xA7".split("")))},dependencies:[pt,yr,wr,dn,un,qr,Do,cn,Tn],styles:[".controls[_ngcontent-%COMP%]{margin-top:10px;display:flex;flex-direction:column;gap:10px}.typetester[_ngcontent-%COMP%]{display:flex;gap:5px;border:2px solid blue;padding:10px;align-items:center}svg[_ngcontent-%COMP%]{width:100%;height:100%;border-top:1px solid var(--secondary-color);cursor:pointer;overflow:visible}.lettersvg[_ngcontent-%COMP%]{width:250px;height:350px;border-right:var(--secondary-color) solid 2px;border-bottom:#6200ea solid 2px}"]})};var df=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ve({type:t,selectors:[["app-gridfont"]],decls:2,vars:0,template:function(n,r){n&1&&(_(0,"p"),F(1,"gridfont works!"),S())},encapsulation:2})};var dv={},B_=[];function H(t,e){if(Array.isArray(t)){for(let n of t)H(n,e);return}if(typeof t=="object"){for(let n in t)H(n,t[n]);return}fv(Object.getOwnPropertyNames(e)),dv[t]=Object.assign(dv[t]||{},e)}function Jt(t){return dv[t]||{}}function j_(){return[...new Set(B_)]}function fv(t){B_.push(...t)}function ea(t,e){let n,r=t.length,i=[];for(n=0;n<r;n++)i.push(e(t[n]));return i}function H_(t,e){let n,r=t.length,i=[];for(n=0;n<r;n++)e(t[n])&&i.push(t[n]);return i}function ff(t){return t%360*Math.PI/180}function G_(t){return t.replace(/([A-Z])/g,function(e,n){return"-"+n.toLowerCase()})}function hv(t){return t.charAt(0).toUpperCase()+t.slice(1)}function jn(t,e,n,r){return(e==null||n==null)&&(r=r||t.bbox(),e==null?e=r.width/r.height*n:n==null&&(n=r.height/r.width*e)),{width:e,height:n}}function Nl(t,e){let n=t.origin,r=t.ox!=null?t.ox:t.originX!=null?t.originX:"center",i=t.oy!=null?t.oy:t.originY!=null?t.originY:"center";n!=null&&([r,i]=Array.isArray(n)?n:typeof n=="object"?[n.x,n.y]:[n,n]);let o=typeof r=="string",s=typeof i=="string";if(o||s){let{height:a,width:l,x:u,y:c}=e.bbox();o&&(r=r.includes("left")?u:r.includes("right")?u+l:u+l/2),s&&(i=i.includes("top")?c:i.includes("bottom")?c+a:c+a/2)}return[r,i]}var wj=new Set(["desc","metadata","title"]),Rl=t=>wj.has(t.nodeName),hf=(t,e,n={})=>{let r=U({},e);for(let i in r)r[i].valueOf()===n[i]&&delete r[i];Object.keys(r).length?t.node.setAttribute("data-svgjs",JSON.stringify(r)):(t.node.removeAttribute("data-svgjs"),t.node.removeAttribute("svgjs:data"))};var ta="http://www.w3.org/2000/svg",$_="http://www.w3.org/1999/xhtml",pf="http://www.w3.org/2000/xmlns/",Sr="http://www.w3.org/1999/xlink";var ue={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function pv(){return ue.window}var Io=class{};var Ao={},gf="___SYMBOL___ROOT___";function No(t,e=ta){return ue.document.createElementNS(e,t)}function mt(t,e=!1){if(t instanceof Io)return t;if(typeof t=="object")return gv(t);if(t==null)return new Ao[gf];if(typeof t=="string"&&t.charAt(0)!=="<")return gv(ue.document.querySelector(t));let n=e?ue.document.createElement("div"):No("svg");return n.innerHTML=t,t=gv(n.firstChild),n.removeChild(n.firstChild),t}function ae(t,e){return e&&(e instanceof ue.window.Node||e.ownerDocument&&e instanceof e.ownerDocument.defaultView.Node)?e:No(t)}function zt(t){if(!t)return null;if(t.instance instanceof Io)return t.instance;if(t.nodeName==="#document-fragment")return new Ao.Fragment(t);let e=hv(t.nodeName||"Dom");return e==="LinearGradient"||e==="RadialGradient"?e="Gradient":Ao[e]||(e="Dom"),new Ao[e](t)}var gv=zt;function q(t,e=t.name,n=!1){return Ao[e]=t,n&&(Ao[gf]=t),fv(Object.getOwnPropertyNames(t.prototype)),t}function z_(t){return Ao[t]}var Ej=1e3;function mv(t){return"Svgjs"+hv(t)+Ej++}function vv(t){for(let e=t.children.length-1;e>=0;e--)vv(t.children[e]);return t.id&&(t.id=mv(t.nodeName)),t}function ne(t,e){let n,r;for(t=Array.isArray(t)?t:[t],r=t.length-1;r>=0;r--)for(n in e)t[r].prototype[n]=e[n]}function fe(t){return function(...e){let n=e[e.length-1];return n&&n.constructor===Object&&!(n instanceof Array)?t.apply(this,e.slice(0,-1)).attr(n):t.apply(this,e)}}function Dj(){return this.parent().children()}function xj(){return this.parent().index(this)}function _j(){return this.siblings()[this.position()+1]}function Sj(){return this.siblings()[this.position()-1]}function Mj(){let t=this.position();return this.parent().add(this.remove(),t+1),this}function Tj(){let t=this.position();return this.parent().add(this.remove(),t?t-1:0),this}function Ij(){return this.parent().add(this.remove()),this}function Aj(){return this.parent().add(this.remove(),0),this}function Nj(t){t=mt(t),t.remove();let e=this.position();return this.parent().add(t,e),this}function Rj(t){t=mt(t),t.remove();let e=this.position();return this.parent().add(t,e+1),this}function kj(t){return t=mt(t),t.before(this),this}function Oj(t){return t=mt(t),t.after(this),this}H("Dom",{siblings:Dj,position:xj,next:_j,prev:Sj,forward:Mj,backward:Tj,front:Ij,back:Aj,before:Nj,after:Rj,insertBefore:kj,insertAfter:Oj});var mf=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,W_=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,q_=/rgb\((\d+),(\d+),(\d+)\)/,Y_=/(#[a-z_][a-z0-9\-_]*)/i,Q_=/\)\s*,?\s*/,Z_=/\s/g,yv=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,wv=/^rgb\(/,bv=/^(\s+)?$/,Cv=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,X_=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,Ut=/[\s,]+/,kl=/[MLHVCSQTAZ]/i;function Pj(){let t=this.attr("class");return t==null?[]:t.trim().split(Ut)}function Lj(t){return this.classes().indexOf(t)!==-1}function Vj(t){if(!this.hasClass(t)){let e=this.classes();e.push(t),this.attr("class",e.join(" "))}return this}function Uj(t){return this.hasClass(t)&&this.attr("class",this.classes().filter(function(e){return e!==t}).join(" ")),this}function Bj(t){return this.hasClass(t)?this.removeClass(t):this.addClass(t)}H("Dom",{classes:Pj,hasClass:Lj,addClass:Vj,removeClass:Uj,toggleClass:Bj});function jj(t,e){let n={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(r){return!!r.length}).forEach(function(r){let i=r.split(/\s*:\s*/);n[i[0]]=i[1]}),n;if(arguments.length<2){if(Array.isArray(t)){for(let r of t){let i=r;n[r]=this.node.style.getPropertyValue(i)}return n}if(typeof t=="string")return this.node.style.getPropertyValue(t);if(typeof t=="object")for(let r in t)this.node.style.setProperty(r,t[r]==null||bv.test(t[r])?"":t[r])}return arguments.length===2&&this.node.style.setProperty(t,e==null||bv.test(e)?"":e),this}function Hj(){return this.css("display","")}function Gj(){return this.css("display","none")}function $j(){return this.css("display")!=="none"}H("Dom",{css:jj,show:Hj,hide:Gj,visible:$j});function zj(t,e,n){if(t==null)return this.data(ea(H_(this.node.attributes,r=>r.nodeName.indexOf("data-")===0),r=>r.nodeName.slice(5)));if(t instanceof Array){let r={};for(let i of t)r[i]=this.data(i);return r}else if(typeof t=="object")for(e in t)this.data(e,t[e]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+t))}catch{return this.attr("data-"+t)}else this.attr("data-"+t,e===null?null:n===!0||typeof e=="string"||typeof e=="number"?e:JSON.stringify(e));return this}H("Dom",{data:zj});function Wj(t,e){if(typeof arguments[0]=="object")for(let n in t)this.remember(n,t[n]);else{if(arguments.length===1)return this.memory()[t];this.memory()[t]=e}return this}function qj(){if(arguments.length===0)this._memory={};else for(let t=arguments.length-1;t>=0;t--)delete this.memory()[arguments[t]];return this}function Yj(){return this._memory=this._memory||{}}H("Dom",{remember:Wj,forget:qj,memory:Yj});function Qj(t){return t.length===4?["#",t.substring(1,2),t.substring(1,2),t.substring(2,3),t.substring(2,3),t.substring(3,4),t.substring(3,4)].join(""):t}function Zj(t){let e=Math.round(t),r=Math.max(0,Math.min(255,e)).toString(16);return r.length===1?"0"+r:r}function na(t,e){for(let n=e.length;n--;)if(t[e[n]]==null)return!1;return!0}function Xj(t,e){let n=na(t,"rgb")?{_a:t.r,_b:t.g,_c:t.b,_d:0,space:"rgb"}:na(t,"xyz")?{_a:t.x,_b:t.y,_c:t.z,_d:0,space:"xyz"}:na(t,"hsl")?{_a:t.h,_b:t.s,_c:t.l,_d:0,space:"hsl"}:na(t,"lab")?{_a:t.l,_b:t.a,_c:t.b,_d:0,space:"lab"}:na(t,"lch")?{_a:t.l,_b:t.c,_c:t.h,_d:0,space:"lch"}:na(t,"cmyk")?{_a:t.c,_b:t.m,_c:t.y,_d:t.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=e||n.space,n}function Kj(t){return t==="lab"||t==="xyz"||t==="lch"}function Ev(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var Bt=class t{constructor(...e){this.init(...e)}static isColor(e){return e&&(e instanceof t||this.isRgb(e)||this.test(e))}static isRgb(e){return e&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"}static random(e="vibrant",n){let{random:r,round:i,sin:o,PI:s}=Math;if(e==="vibrant"){let a=24*r()+57,l=38*r()+45,u=360*r();return new t(a,l,u,"lch")}else if(e==="sine"){n=n??r();let a=i(80*o(2*s*n/.5+.01)+150),l=i(50*o(2*s*n/.5+4.6)+200),u=i(100*o(2*s*n/.5+2.3)+150);return new t(a,l,u)}else if(e==="pastel"){let a=8*r()+86,l=17*r()+9,u=360*r();return new t(a,l,u,"lch")}else if(e==="dark"){let a=10+10*r(),l=50*r()+86,u=360*r();return new t(a,l,u,"lch")}else if(e==="rgb"){let a=255*r(),l=255*r(),u=255*r();return new t(a,l,u)}else if(e==="lab"){let a=100*r(),l=256*r()-128,u=256*r()-128;return new t(a,l,u,"lab")}else if(e==="grey"){let a=255*r();return new t(a,a,a)}else throw new Error("Unsupported random color mode")}static test(e){return typeof e=="string"&&(yv.test(e)||wv.test(e))}cmyk(){let{_a:e,_b:n,_c:r}=this.rgb(),[i,o,s]=[e,n,r].map(f=>f/255),a=Math.min(1-i,1-o,1-s);if(a===1)return new t(0,0,0,1,"cmyk");let l=(1-i-a)/(1-a),u=(1-o-a)/(1-a),c=(1-s-a)/(1-a);return new t(l,u,c,a,"cmyk")}hsl(){let{_a:e,_b:n,_c:r}=this.rgb(),[i,o,s]=[e,n,r].map(y=>y/255),a=Math.max(i,o,s),l=Math.min(i,o,s),u=(a+l)/2,c=a===l,d=a-l,f=c?0:u>.5?d/(2-a-l):d/(a+l),h=c?0:a===i?((o-s)/d+(o<s?6:0))/6:a===o?((s-i)/d+2)/6:a===s?((i-o)/d+4)/6:0;return new t(360*h,100*f,100*u,"hsl")}init(e=0,n=0,r=0,i=0,o="rgb"){if(e=e||0,this.space)for(let d in this.space)delete this[this.space[d]];if(typeof e=="number")o=typeof i=="string"?i:o,i=typeof i=="string"?0:i,Object.assign(this,{_a:e,_b:n,_c:r,_d:i,space:o});else if(e instanceof Array)this.space=n||(typeof e[3]=="string"?e[3]:e[4])||"rgb",Object.assign(this,{_a:e[0],_b:e[1],_c:e[2],_d:e[3]||0});else if(e instanceof Object){let d=Xj(e,n);Object.assign(this,d)}else if(typeof e=="string")if(wv.test(e)){let d=e.replace(Z_,""),[f,h,v]=q_.exec(d).slice(1,4).map(y=>parseInt(y));Object.assign(this,{_a:f,_b:h,_c:v,_d:0,space:"rgb"})}else if(yv.test(e)){let d=y=>parseInt(y,16),[,f,h,v]=W_.exec(Qj(e)).map(d);Object.assign(this,{_a:f,_b:h,_c:v,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");let{_a:s,_b:a,_c:l,_d:u}=this,c=this.space==="rgb"?{r:s,g:a,b:l}:this.space==="xyz"?{x:s,y:a,z:l}:this.space==="hsl"?{h:s,s:a,l}:this.space==="lab"?{l:s,a,b:l}:this.space==="lch"?{l:s,c:a,h:l}:this.space==="cmyk"?{c:s,m:a,y:l,k:u}:{};Object.assign(this,c)}lab(){let{x:e,y:n,z:r}=this.xyz(),i=116*n-16,o=500*(e-n),s=200*(n-r);return new t(i,o,s,"lab")}lch(){let{l:e,a:n,b:r}=this.lab(),i=Math.sqrt(n**2+r**2),o=180*Math.atan2(r,n)/Math.PI;return o<0&&(o*=-1,o=360-o),new t(e,i,o,"lch")}rgb(){if(this.space==="rgb")return this;if(Kj(this.space)){let{x:e,y:n,z:r}=this;if(this.space==="lab"||this.space==="lch"){let{l:h,a:v,b:y}=this;if(this.space==="lch"){let{c:B,h:V}=this,R=Math.PI/180;v=B*Math.cos(R*V),y=B*Math.sin(R*V)}let C=(h+16)/116,E=v/500+C,T=C-y/200,x=16/116,P=.008856,I=7.787;e=.95047*(E**3>P?E**3:(E-x)/I),n=1*(C**3>P?C**3:(C-x)/I),r=1.08883*(T**3>P?T**3:(T-x)/I)}let i=e*3.2406+n*-1.5372+r*-.4986,o=e*-.9689+n*1.8758+r*.0415,s=e*.0557+n*-.204+r*1.057,a=Math.pow,l=.0031308,u=i>l?1.055*a(i,1/2.4)-.055:12.92*i,c=o>l?1.055*a(o,1/2.4)-.055:12.92*o,d=s>l?1.055*a(s,1/2.4)-.055:12.92*s;return new t(255*u,255*c,255*d)}else if(this.space==="hsl"){let{h:e,s:n,l:r}=this;if(e/=360,n/=100,r/=100,n===0)return r*=255,new t(r,r,r);let i=r<.5?r*(1+n):r+n-r*n,o=2*r-i,s=255*Ev(o,i,e+1/3),a=255*Ev(o,i,e),l=255*Ev(o,i,e-1/3);return new t(s,a,l)}else if(this.space==="cmyk"){let{c:e,m:n,y:r,k:i}=this,o=255*(1-Math.min(1,e*(1-i)+i)),s=255*(1-Math.min(1,n*(1-i)+i)),a=255*(1-Math.min(1,r*(1-i)+i));return new t(o,s,a)}else return this}toArray(){let{_a:e,_b:n,_c:r,_d:i,space:o}=this;return[e,n,r,i,o]}toHex(){let[e,n,r]=this._clamped().map(Zj);return`#${e}${n}${r}`}toRgb(){let[e,n,r]=this._clamped();return`rgb(${e},${n},${r})`}toString(){return this.toHex()}xyz(){let{_a:e,_b:n,_c:r}=this.rgb(),[i,o,s]=[e,n,r].map(E=>E/255),a=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92,l=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,u=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,c=(a*.4124+l*.3576+u*.1805)/.95047,d=(a*.2126+l*.7152+u*.0722)/1,f=(a*.0193+l*.1192+u*.9505)/1.08883,h=c>.008856?Math.pow(c,1/3):7.787*c+16/116,v=d>.008856?Math.pow(d,1/3):7.787*d+16/116,y=f>.008856?Math.pow(f,1/3):7.787*f+16/116;return new t(h,v,y,"xyz")}_clamped(){let{_a:e,_b:n,_c:r}=this.rgb(),{max:i,min:o,round:s}=Math,a=l=>i(0,o(s(l),255));return[e,n,r].map(a)}};var ze=class t{constructor(...e){this.init(...e)}clone(){return new t(this)}init(e,n){let r={x:0,y:0},i=Array.isArray(e)?{x:e[0],y:e[1]}:typeof e=="object"?{x:e.x,y:e.y}:{x:e,y:n};return this.x=i.x==null?r.x:i.x,this.y=i.y==null?r.y:i.y,this}toArray(){return[this.x,this.y]}transform(e){return this.clone().transformO(e)}transformO(e){ye.isMatrixLike(e)||(e=new ye(e));let{x:n,y:r}=this;return this.x=e.a*n+e.c*r+e.e,this.y=e.b*n+e.d*r+e.f,this}};function K_(t,e){return new ze(t,e).transformO(this.screenCTM().inverseO())}function ra(t,e,n){return Math.abs(e-t)<(n||1e-6)}var ye=class t{constructor(...e){this.init(...e)}static formatTransforms(e){let n=e.flip==="both"||e.flip===!0,r=e.flip&&(n||e.flip==="x")?-1:1,i=e.flip&&(n||e.flip==="y")?-1:1,o=e.skew&&e.skew.length?e.skew[0]:isFinite(e.skew)?e.skew:isFinite(e.skewX)?e.skewX:0,s=e.skew&&e.skew.length?e.skew[1]:isFinite(e.skew)?e.skew:isFinite(e.skewY)?e.skewY:0,a=e.scale&&e.scale.length?e.scale[0]*r:isFinite(e.scale)?e.scale*r:isFinite(e.scaleX)?e.scaleX*r:r,l=e.scale&&e.scale.length?e.scale[1]*i:isFinite(e.scale)?e.scale*i:isFinite(e.scaleY)?e.scaleY*i:i,u=e.shear||0,c=e.rotate||e.theta||0,d=new ze(e.origin||e.around||e.ox||e.originX,e.oy||e.originY),f=d.x,h=d.y,v=new ze(e.position||e.px||e.positionX||NaN,e.py||e.positionY||NaN),y=v.x,C=v.y,E=new ze(e.translate||e.tx||e.translateX,e.ty||e.translateY),T=E.x,x=E.y,P=new ze(e.relative||e.rx||e.relativeX,e.ry||e.relativeY),I=P.x,B=P.y;return{scaleX:a,scaleY:l,skewX:o,skewY:s,shear:u,theta:c,rx:I,ry:B,tx:T,ty:x,ox:f,oy:h,px:y,py:C}}static fromArray(e){return{a:e[0],b:e[1],c:e[2],d:e[3],e:e[4],f:e[5]}}static isMatrixLike(e){return e.a!=null||e.b!=null||e.c!=null||e.d!=null||e.e!=null||e.f!=null}static matrixMultiply(e,n,r){let i=e.a*n.a+e.c*n.b,o=e.b*n.a+e.d*n.b,s=e.a*n.c+e.c*n.d,a=e.b*n.c+e.d*n.d,l=e.e+e.a*n.e+e.c*n.f,u=e.f+e.b*n.e+e.d*n.f;return r.a=i,r.b=o,r.c=s,r.d=a,r.e=l,r.f=u,r}around(e,n,r){return this.clone().aroundO(e,n,r)}aroundO(e,n,r){let i=e||0,o=n||0;return this.translateO(-i,-o).lmultiplyO(r).translateO(i,o)}clone(){return new t(this)}decompose(e=0,n=0){let r=this.a,i=this.b,o=this.c,s=this.d,a=this.e,l=this.f,u=r*s-i*o,c=u>0?1:-1,d=c*Math.sqrt(r*r+i*i),f=Math.atan2(c*i,c*r),h=180/Math.PI*f,v=Math.cos(f),y=Math.sin(f),C=(r*o+i*s)/u,E=o*d/(C*r-i)||s*d/(C*i+r),T=a-e+e*v*d+n*(C*v*d-y*E),x=l-n+e*y*d+n*(C*y*d+v*E);return{scaleX:d,scaleY:E,shear:C,rotate:h,translateX:T,translateY:x,originX:e,originY:n,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(e){if(e===this)return!0;let n=new t(e);return ra(this.a,n.a)&&ra(this.b,n.b)&&ra(this.c,n.c)&&ra(this.d,n.d)&&ra(this.e,n.e)&&ra(this.f,n.f)}flip(e,n){return this.clone().flipO(e,n)}flipO(e,n){return e==="x"?this.scaleO(-1,1,n,0):e==="y"?this.scaleO(1,-1,0,n):this.scaleO(-1,-1,e,n||e)}init(e){let n=t.fromArray([1,0,0,1,0,0]);return e=e instanceof ot?e.matrixify():typeof e=="string"?t.fromArray(e.split(Ut).map(parseFloat)):Array.isArray(e)?t.fromArray(e):typeof e=="object"&&t.isMatrixLike(e)?e:typeof e=="object"?new t().transform(e):arguments.length===6?t.fromArray([].slice.call(arguments)):n,this.a=e.a!=null?e.a:n.a,this.b=e.b!=null?e.b:n.b,this.c=e.c!=null?e.c:n.c,this.d=e.d!=null?e.d:n.d,this.e=e.e!=null?e.e:n.e,this.f=e.f!=null?e.f:n.f,this}inverse(){return this.clone().inverseO()}inverseO(){let e=this.a,n=this.b,r=this.c,i=this.d,o=this.e,s=this.f,a=e*i-n*r;if(!a)throw new Error("Cannot invert "+this);let l=i/a,u=-n/a,c=-r/a,d=e/a,f=-(l*o+c*s),h=-(u*o+d*s);return this.a=l,this.b=u,this.c=c,this.d=d,this.e=f,this.f=h,this}lmultiply(e){return this.clone().lmultiplyO(e)}lmultiplyO(e){let n=this,r=e instanceof t?e:new t(e);return t.matrixMultiply(r,n,this)}multiply(e){return this.clone().multiplyO(e)}multiplyO(e){let n=this,r=e instanceof t?e:new t(e);return t.matrixMultiply(n,r,this)}rotate(e,n,r){return this.clone().rotateO(e,n,r)}rotateO(e,n=0,r=0){e=ff(e);let i=Math.cos(e),o=Math.sin(e),{a:s,b:a,c:l,d:u,e:c,f:d}=this;return this.a=s*i-a*o,this.b=a*i+s*o,this.c=l*i-u*o,this.d=u*i+l*o,this.e=c*i-d*o+r*o-n*i+n,this.f=d*i+c*o-n*o-r*i+r,this}scale(){return this.clone().scaleO(...arguments)}scaleO(e,n=e,r=0,i=0){arguments.length===3&&(i=r,r=n,n=e);let{a:o,b:s,c:a,d:l,e:u,f:c}=this;return this.a=o*e,this.b=s*n,this.c=a*e,this.d=l*n,this.e=u*e-r*e+r,this.f=c*n-i*n+i,this}shear(e,n,r){return this.clone().shearO(e,n,r)}shearO(e,n=0,r=0){let{a:i,b:o,c:s,d:a,e:l,f:u}=this;return this.a=i+o*e,this.c=s+a*e,this.e=l+u*e-r*e,this}skew(){return this.clone().skewO(...arguments)}skewO(e,n=e,r=0,i=0){arguments.length===3&&(i=r,r=n,n=e),e=ff(e),n=ff(n);let o=Math.tan(e),s=Math.tan(n),{a,b:l,c:u,d:c,e:d,f}=this;return this.a=a+l*o,this.b=l+a*s,this.c=u+c*o,this.d=c+u*s,this.e=d+f*o-i*o,this.f=f+d*s-r*s,this}skewX(e,n,r){return this.skew(e,0,n,r)}skewY(e,n,r){return this.skew(0,e,n,r)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(e){if(t.isMatrixLike(e))return new t(e).multiplyO(this);let n=t.formatTransforms(e),r=this,{x:i,y:o}=new ze(n.ox,n.oy).transform(r),s=new t().translateO(n.rx,n.ry).lmultiplyO(r).translateO(-i,-o).scaleO(n.scaleX,n.scaleY).skewO(n.skewX,n.skewY).shearO(n.shear).rotateO(n.theta).translateO(i,o);if(isFinite(n.px)||isFinite(n.py)){let a=new ze(i,o).transform(s),l=isFinite(n.px)?n.px-a.x:0,u=isFinite(n.py)?n.py-a.y:0;s.translateO(l,u)}return s.translateO(n.tx,n.ty),s}translate(e,n){return this.clone().translateO(e,n)}translateO(e,n){return this.e+=e||0,this.f+=n||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}};function J_(){return new ye(this.node.getCTM())}function eS(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){let t=this.rect(1,1),e=t.node.getScreenCTM();return t.remove(),new ye(e)}return new ye(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new ye}}q(ye,"Matrix");function Hn(){if(!Hn.nodes){let t=mt().size(2,0);t.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),t.attr("focusable","false"),t.attr("aria-hidden","true");let e=t.path().node;Hn.nodes={svg:t,path:e}}if(!Hn.nodes.svg.node.parentNode){let t=ue.document.body||ue.document.documentElement;Hn.nodes.svg.addTo(t)}return Hn.nodes}function tS(t){return!t.width&&!t.height&&!t.x&&!t.y}function Jj(t){return t===ue.document||(ue.document.documentElement.contains||function(e){for(;e.parentNode;)e=e.parentNode;return e===ue.document}).call(ue.document.documentElement,t)}var nt=class t{constructor(...e){this.init(...e)}addOffset(){return this.x+=ue.window.pageXOffset,this.y+=ue.window.pageYOffset,new t(this)}init(e){let n=[0,0,0,0];return e=typeof e=="string"?e.split(Ut).map(parseFloat):Array.isArray(e)?e:typeof e=="object"?[e.left!=null?e.left:e.x,e.top!=null?e.top:e.y,e.width,e.height]:arguments.length===4?[].slice.call(arguments):n,this.x=e[0]||0,this.y=e[1]||0,this.width=this.w=e[2]||0,this.height=this.h=e[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return tS(this)}merge(e){let n=Math.min(this.x,e.x),r=Math.min(this.y,e.y),i=Math.max(this.x+this.width,e.x+e.width)-n,o=Math.max(this.y+this.height,e.y+e.height)-r;return new t(n,r,i,o)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(e){e instanceof ye||(e=new ye(e));let n=1/0,r=-1/0,i=1/0,o=-1/0;return[new ze(this.x,this.y),new ze(this.x2,this.y),new ze(this.x,this.y2),new ze(this.x2,this.y2)].forEach(function(a){a=a.transform(e),n=Math.min(n,a.x),r=Math.max(r,a.x),i=Math.min(i,a.y),o=Math.max(o,a.y)}),new t(n,i,r-n,o-i)}};function nS(t,e,n){let r;try{if(r=e(t.node),tS(r)&&!Jj(t.node))throw new Error("Element not in the dom")}catch{r=n(t)}return r}function rS(){let n=nS(this,i=>i.getBBox(),i=>{try{let o=i.clone().addTo(Hn().svg).show(),s=o.node.getBBox();return o.remove(),s}catch(o){throw new Error(`Getting bbox of element "${i.node.nodeName}" is not possible: ${o.toString()}`)}});return new nt(n)}function iS(t){let r=nS(this,o=>o.getBoundingClientRect(),o=>{throw new Error(`Getting rbox of element "${o.node.nodeName}" is not possible`)}),i=new nt(r);return t?i.transform(t.screenCTM().inverseO()):i.addOffset()}function oS(t,e){let n=this.bbox();return t>n.x&&e>n.y&&t<n.x+n.width&&e<n.y+n.height}H({viewbox:{viewbox(t,e,n,r){return t==null?new nt(this.attr("viewBox")):this.attr("viewBox",new nt(t,e,n,r))},zoom(t,e){let{width:n,height:r}=this.attr(["width","height"]);if((!n&&!r||typeof n=="string"||typeof r=="string")&&(n=this.node.clientWidth,r=this.node.clientHeight),!n||!r)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");let i=this.viewbox(),o=n/i.width,s=r/i.height,a=Math.min(o,s);if(t==null)return a;let l=a/t;l===1/0&&(l=Number.MAX_SAFE_INTEGER/100),e=e||new ze(n/2/o+i.x,r/2/s+i.y);let u=new nt(i).transform(new ye({scale:l,origin:e}));return this.viewbox(u)}}});q(nt,"Box");var ia=class extends Array{constructor(e=[],...n){if(super(e,...n),typeof e=="number")return this;this.length=0,this.push(...e)}},Xr=ia;ne([ia],{each(t,...e){return typeof t=="function"?this.map((n,r,i)=>t.call(n,n,r,i)):this.map(n=>n[t](...e))},toArray(){return Array.prototype.concat.apply([],this)}});var e3=["toArray","constructor","each"];ia.extend=function(t){t=t.reduce((e,n)=>(e3.includes(n)||n[0]==="_"||(n in Array.prototype&&(e["$"+n]=Array.prototype[n]),e[n]=function(...r){return this.each(n,...r)}),e),{}),ne([ia],t)};function Nn(t,e){return new Xr(ea((e||ue.document).querySelectorAll(t),function(n){return zt(n)}))}function sS(t){return Nn(t,this.node)}function aS(t){return zt(this.node.querySelector(t))}var t3=0,lS={};function uS(t){let e=t.getEventHolder();return e===ue.window&&(e=lS),e.events||(e.events={}),e.events}function Dv(t){return t.getEventTarget()}function n3(t){let e=t.getEventHolder();e===ue.window&&(e=lS),e.events&&(e.events={})}function ki(t,e,n,r,i){let o=n.bind(r||t),s=mt(t),a=uS(s),l=Dv(s);e=Array.isArray(e)?e:e.split(Ut),n._svgjsListenerId||(n._svgjsListenerId=++t3),e.forEach(function(u){let c=u.split(".")[0],d=u.split(".")[1]||"*";a[c]=a[c]||{},a[c][d]=a[c][d]||{},a[c][d][n._svgjsListenerId]=o,l.addEventListener(c,o,i||!1)})}function Rn(t,e,n,r){let i=mt(t),o=uS(i),s=Dv(i);typeof n=="function"&&(n=n._svgjsListenerId,!n)||(e=Array.isArray(e)?e:(e||"").split(Ut),e.forEach(function(a){let l=a&&a.split(".")[0],u=a&&a.split(".")[1],c,d;if(n)o[l]&&o[l][u||"*"]&&(s.removeEventListener(l,o[l][u||"*"][n],r||!1),delete o[l][u||"*"][n]);else if(l&&u){if(o[l]&&o[l][u]){for(d in o[l][u])Rn(s,[l,u].join("."),d);delete o[l][u]}}else if(u)for(a in o)for(c in o[a])u===c&&Rn(s,[a,u].join("."));else if(l){if(o[l]){for(c in o[l])Rn(s,[l,c].join("."));delete o[l]}}else{for(a in o)Rn(s,a);n3(i)}}))}function cS(t,e,n,r){let i=Dv(t);return e instanceof ue.window.Event||(e=new ue.window.CustomEvent(e,U({detail:n,cancelable:!0},r))),i.dispatchEvent(e),e}var Gn=class extends Io{addEventListener(){}dispatch(e,n,r){return cS(this,e,n,r)}dispatchEvent(e){let n=this.getEventHolder().events;if(!n)return!0;let r=n[e.type];for(let i in r)for(let o in r[i])r[i][o](e);return!e.defaultPrevented}fire(e,n,r){return this.dispatch(e,n,r),this}getEventHolder(){return this}getEventTarget(){return this}off(e,n,r){return Rn(this,e,n,r),this}on(e,n,r,i){return ki(this,e,n,r,i),this}removeEventListener(){}};q(Gn,"EventTarget");function xv(){}var Ro={duration:400,ease:">",delay:0},dS={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};var fn=class extends Array{constructor(...e){super(...e),this.init(...e)}clone(){return new this.constructor(this)}init(e){return typeof e=="number"?this:(this.length=0,this.push(...this.parse(e)),this)}parse(e=[]){return e instanceof Array?e:e.trim().split(Ut).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){let e=[];return e.push(...this),e}};var ce=class t{constructor(...e){this.init(...e)}convert(e){return new t(this.value,e)}divide(e){return e=new t(e),new t(this/e,this.unit||e.unit)}init(e,n){return n=Array.isArray(e)?e[1]:n,e=Array.isArray(e)?e[0]:e,this.value=0,this.unit=n||"",typeof e=="number"?this.value=isNaN(e)?0:isFinite(e)?e:e<0?-34e37:34e37:typeof e=="string"?(n=e.match(mf),n&&(this.value=parseFloat(n[1]),n[5]==="%"?this.value/=100:n[5]==="s"&&(this.value*=1e3),this.unit=n[5])):e instanceof t&&(this.value=e.valueOf(),this.unit=e.unit),this}minus(e){return e=new t(e),new t(this-e,this.unit||e.unit)}plus(e){return e=new t(e),new t(this+e,this.unit||e.unit)}times(e){return e=new t(e),new t(this*e,this.unit||e.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}};var i3=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),fS=[];function hS(t){fS.push(t)}function _v(t,e,n){if(t==null){t={},e=this.node.attributes;for(let r of e)t[r.nodeName]=Cv.test(r.nodeValue)?parseFloat(r.nodeValue):r.nodeValue;return t}else{if(t instanceof Array)return t.reduce((r,i)=>(r[i]=this.attr(i),r),{});if(typeof t=="object"&&t.constructor===Object)for(e in t)this.attr(e,t[e]);else if(e===null)this.node.removeAttribute(t);else{if(e==null)return e=this.node.getAttribute(t),e==null?dS[t]:Cv.test(e)?parseFloat(e):e;e=fS.reduce((r,i)=>i(t,r,this),e),typeof e=="number"?e=new ce(e):i3.has(t)&&Bt.isColor(e)?e=new Bt(e):e.constructor===Array&&(e=new fn(e)),t==="leading"?this.leading&&this.leading(e):typeof n=="string"?this.node.setAttributeNS(n,t,e.toString()):this.node.setAttribute(t,e.toString()),this.rebuild&&(t==="font-size"||t==="x")&&this.rebuild()}}return this}var $n=class t extends Gn{constructor(e,n){super(),this.node=e,this.type=e.nodeName,n&&e!==n&&this.attr(n)}add(e,n){return e=mt(e),e.removeNamespace&&this.node instanceof ue.window.SVGElement&&e.removeNamespace(),n==null?this.node.appendChild(e.node):e.node!==this.node.childNodes[n]&&this.node.insertBefore(e.node,this.node.childNodes[n]),this}addTo(e,n){return mt(e).put(this,n)}children(){return new Xr(ea(this.node.children,function(e){return zt(e)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(e=!0,n=!0){this.writeDataToDom();let r=this.node.cloneNode(e);return n&&(r=vv(r)),new this.constructor(r)}each(e,n){let r=this.children(),i,o;for(i=0,o=r.length;i<o;i++)e.apply(r[i],[i,r]),n&&r[i].each(e,n);return this}element(e,n){return this.put(new t(No(e),n))}first(){return zt(this.node.firstChild)}get(e){return zt(this.node.childNodes[e])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(e){return this.index(e)>=0}html(e,n){return this.xml(e,n,$_)}id(e){return typeof e>"u"&&!this.node.id&&(this.node.id=mv(this.type)),this.attr("id",e)}index(e){return[].slice.call(this.node.childNodes).indexOf(e.node)}last(){return zt(this.node.lastChild)}matches(e){let n=this.node,r=n.matches||n.matchesSelector||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||null;return r&&r.call(n,e)}parent(e){let n=this;if(!n.node.parentNode)return null;if(n=zt(n.node.parentNode),!e)return n;do if(typeof e=="string"?n.matches(e):n instanceof e)return n;while(n=zt(n.node.parentNode));return n}put(e,n){return e=mt(e),this.add(e,n),e}putIn(e,n){return mt(e).add(this,n)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(e){return this.node.removeChild(e.node),this}replace(e){return e=mt(e),this.node.parentNode&&this.node.parentNode.replaceChild(e.node,this.node),e}round(e=2,n=null){let r=10**e,i=this.attr(n);for(let o in i)typeof i[o]=="number"&&(i[o]=Math.round(i[o]*r)/r);return this.attr(i),this}svg(e,n){return this.xml(e,n,ta)}toString(){return this.id()}words(e){return this.node.textContent=e,this}wrap(e){let n=this.parent();if(!n)return this.addTo(e);let r=n.index(this);return n.put(e,r).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(e,n,r){if(typeof e=="boolean"&&(r=n,n=e,e=null),e==null||typeof e=="function"){n=n??!0,this.writeDataToDom();let a=this;if(e!=null){if(a=zt(a.node.cloneNode(!0)),n){let l=e(a);if(a=l||a,l===!1)return""}a.each(function(){let l=e(this),u=l||this;l===!1?this.remove():l&&this!==u&&this.replace(u)},!0)}return n?a.node.outerHTML:a.node.innerHTML}n=n??!1;let i=No("wrapper",r),o=ue.document.createDocumentFragment();i.innerHTML=e;for(let a=i.children.length;a--;)o.appendChild(i.firstElementChild);let s=this.parent();return n?this.replace(o)&&s:this.add(o)}};ne($n,{attr:_v,find:sS,findOne:aS});q($n,"Dom");var ot=class extends $n{constructor(e,n){super(e,n),this.dom={},this.node.instance=this,(e.hasAttribute("data-svgjs")||e.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(e.getAttribute("data-svgjs"))??JSON.parse(e.getAttribute("svgjs:data"))??{})}center(e,n){return this.cx(e).cy(n)}cx(e){return e==null?this.x()+this.width()/2:this.x(e-this.width()/2)}cy(e){return e==null?this.y()+this.height()/2:this.y(e-this.height()/2)}defs(){let e=this.root();return e&&e.defs()}dmove(e,n){return this.dx(e).dy(n)}dx(e=0){return this.x(new ce(e).plus(this.x()))}dy(e=0){return this.y(new ce(e).plus(this.y()))}getEventHolder(){return this}height(e){return this.attr("height",e)}move(e,n){return this.x(e).y(n)}parents(e=this.root()){let n=typeof e=="string";n||(e=mt(e));let r=new Xr,i=this;for(;(i=i.parent())&&i.node!==ue.document&&i.nodeName!=="#document-fragment"&&(r.push(i),!(!n&&i.node===e.node||n&&i.matches(e)));)if(i.node===this.root().node)return null;return r}reference(e){if(e=this.attr(e),!e)return null;let n=(e+"").match(Y_);return n?mt(n[1]):null}root(){let e=this.parent(z_(gf));return e&&e.root()}setData(e){return this.dom=e,this}size(e,n){let r=jn(this,e,n);return this.width(new ce(r.width)).height(new ce(r.height))}width(e){return this.attr("width",e)}writeDataToDom(){return hf(this,this.dom),super.writeDataToDom()}x(e){return this.attr("x",e)}y(e){return this.attr("y",e)}};ne(ot,{bbox:rS,rbox:iS,inside:oS,point:K_,ctm:J_,screenCTM:eS});q(ot,"Element");var Ol={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(t,e){return e==="color"?t:t+"-"+e}};["fill","stroke"].forEach(function(t){let e={},n;e[t]=function(r){if(typeof r>"u")return this.attr(t);if(typeof r=="string"||r instanceof Bt||Bt.isRgb(r)||r instanceof ot)this.attr(t,r);else for(n=Ol[t].length-1;n>=0;n--)r[Ol[t][n]]!=null&&this.attr(Ol.prefix(t,Ol[t][n]),r[Ol[t][n]]);return this},H(["Element","Runner"],e)});H(["Element","Runner"],{matrix:function(t,e,n,r,i,o){return t==null?new ye(this):this.attr("transform",new ye(t,e,n,r,i,o))},rotate:function(t,e,n){return this.transform({rotate:t,ox:e,oy:n},!0)},skew:function(t,e,n,r){return arguments.length===1||arguments.length===3?this.transform({skew:t,ox:e,oy:n},!0):this.transform({skew:[t,e],ox:n,oy:r},!0)},shear:function(t,e,n){return this.transform({shear:t,ox:e,oy:n},!0)},scale:function(t,e,n,r){return arguments.length===1||arguments.length===3?this.transform({scale:t,ox:e,oy:n},!0):this.transform({scale:[t,e],ox:n,oy:r},!0)},translate:function(t,e){return this.transform({translate:[t,e]},!0)},relative:function(t,e){return this.transform({relative:[t,e]},!0)},flip:function(t="both",e="center"){return"xybothtrue".indexOf(t)===-1&&(e=t,t="both"),this.transform({flip:t,origin:e},!0)},opacity:function(t){return this.attr("opacity",t)}});H("radius",{radius:function(t,e=t){return(this._element||this).type==="radialGradient"?this.attr("r",new ce(t)):this.rx(t).ry(e)}});H("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(t){return new ze(this.node.getPointAtLength(t))}});H(["Element","Runner"],{font:function(t,e){if(typeof t=="object"){for(e in t)this.font(e,t[e]);return this}return t==="leading"?this.leading(e):t==="anchor"?this.attr("text-anchor",e):t==="size"||t==="family"||t==="weight"||t==="stretch"||t==="variant"||t==="style"?this.attr("font-"+t,e):this.attr(t,e)}});var o3=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(t,e){let n=function(r){return r===null?this.off(e):this.on(e,r),this};return t[e]=n,t},{});H("Element",o3);function s3(){return this.attr("transform",null)}function a3(){return(this.attr("transform")||"").split(Q_).slice(0,-1).map(function(e){let n=e.trim().split("(");return[n[0],n[1].split(Ut).map(function(r){return parseFloat(r)})]}).reverse().reduce(function(e,n){return n[0]==="matrix"?e.lmultiply(ye.fromArray(n[1])):e[n[0]].apply(e,n[1])},new ye)}function l3(t,e){if(this===t)return this;if(Rl(this.node))return this.addTo(t,e);let n=this.screenCTM(),r=t.screenCTM().inverse();return this.addTo(t,e).untransform().transform(r.multiply(n)),this}function u3(t){return this.toParent(this.root(),t)}function c3(t,e){if(t==null||typeof t=="string"){let i=new ye(this).decompose();return t==null?i:i[t]}ye.isMatrixLike(t)||(t=Ie(U({},t),{origin:Nl(t,this)}));let n=e===!0?this:e||!1,r=new ye(n).transform(t);return this.attr("transform",r)}H("Element",{untransform:s3,matrixify:a3,toParent:l3,toRoot:u3,transform:c3});var Ze=class t extends ot{flatten(){return this.each(function(){if(this instanceof t)return this.flatten().ungroup()}),this}ungroup(e=this.parent(),n=e.index(this)){return n=n===-1?e.children().length:n,this.each(function(r,i){return i[i.length-r-1].toParent(e,n)}),this.remove()}};q(Ze,"Container");var Oi=class extends Ze{constructor(e,n=e){super(ae("defs",e),n)}flatten(){return this}ungroup(){return this}};q(Oi,"Defs");var We=class extends ot{};q(We,"Shape");var Rv={};qo(Rv,{cx:()=>Tv,cy:()=>Iv,height:()=>Nv,rx:()=>Fl,ry:()=>Pl,width:()=>Av,x:()=>Sv,y:()=>Mv});function Fl(t){return this.attr("rx",t)}function Pl(t){return this.attr("ry",t)}function Sv(t){return t==null?this.cx()-this.rx():this.cx(t+this.rx())}function Mv(t){return t==null?this.cy()-this.ry():this.cy(t+this.ry())}function Tv(t){return this.attr("cx",t)}function Iv(t){return this.attr("cy",t)}function Av(t){return t==null?this.rx()*2:this.rx(new ce(t).divide(2))}function Nv(t){return t==null?this.ry()*2:this.ry(new ce(t).divide(2))}var Fi=class extends We{constructor(e,n=e){super(ae("ellipse",e),n)}size(e,n){let r=jn(this,e,n);return this.rx(new ce(r.width).divide(2)).ry(new ce(r.height).divide(2))}};ne(Fi,Rv);H("Container",{ellipse:fe(function(t=0,e=t){return this.put(new Fi).size(t,e).move(0,0)})});q(Fi,"Ellipse");var vf=class extends $n{constructor(e=ue.document.createDocumentFragment()){super(e)}xml(e,n,r){if(typeof e=="boolean"&&(r=n,n=e,e=null),e==null||typeof e=="function"){let i=new $n(No("wrapper",r));return i.add(this.node.cloneNode(!0)),i.xml(!1,r)}return super.xml(e,!1,r)}};q(vf,"Fragment");var kv=vf;var Pv={};qo(Pv,{from:()=>Ov,to:()=>Fv});function Ov(t,e){return(this._element||this).type==="radialGradient"?this.attr({fx:new ce(t),fy:new ce(e)}):this.attr({x1:new ce(t),y1:new ce(e)})}function Fv(t,e){return(this._element||this).type==="radialGradient"?this.attr({cx:new ce(t),cy:new ce(e)}):this.attr({x2:new ce(t),y2:new ce(e)})}var Kr=class extends Ze{constructor(e,n){super(ae(e+"Gradient",typeof e=="string"?null:e),n)}attr(e,n,r){return e==="transform"&&(e="gradientTransform"),super.attr(e,n,r)}bbox(){return new nt}targets(){return Nn("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}};ne(Kr,Pv);H({Container:{gradient(...t){return this.defs().gradient(...t)}},Defs:{gradient:fe(function(t,e){return this.put(new Kr(t)).update(e)})}});q(Kr,"Gradient");var Mr=class extends Ze{constructor(e,n=e){super(ae("pattern",e),n)}attr(e,n,r){return e==="transform"&&(e="patternTransform"),super.attr(e,n,r)}bbox(){return new nt}targets(){return Nn("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}url(){return"url(#"+this.id()+")"}};H({Container:{pattern(...t){return this.defs().pattern(...t)}},Defs:{pattern:fe(function(t,e,n){return this.put(new Mr).update(n).attr({x:0,y:0,width:t,height:e,patternUnits:"userSpaceOnUse"})})}});q(Mr,"Pattern");var Pi=class extends We{constructor(e,n=e){super(ae("image",e),n)}load(e,n){if(!e)return this;let r=new ue.window.Image;return ki(r,"load",function(i){let o=this.parent(Mr);this.width()===0&&this.height()===0&&this.size(r.width,r.height),o instanceof Mr&&o.width()===0&&o.height()===0&&o.size(this.width(),this.height()),typeof n=="function"&&n.call(this,i)},this),ki(r,"load error",function(){Rn(r)}),this.attr("href",r.src=e,Sr)}};hS(function(t,e,n){return(t==="fill"||t==="stroke")&&X_.test(e)&&(e=n.root().defs().image(e)),e instanceof Pi&&(e=n.root().defs().pattern(0,0,r=>{r.add(e)})),e});H({Container:{image:fe(function(t,e){return this.put(new Pi).size(0,0).load(t,e)})}});q(Pi,"Image");var jt=class extends fn{bbox(){let e=-1/0,n=-1/0,r=1/0,i=1/0;return this.forEach(function(o){e=Math.max(o[0],e),n=Math.max(o[1],n),r=Math.min(o[0],r),i=Math.min(o[1],i)}),new nt(r,i,e-r,n-i)}move(e,n){let r=this.bbox();if(e-=r.x,n-=r.y,!isNaN(e)&&!isNaN(n))for(let i=this.length-1;i>=0;i--)this[i]=[this[i][0]+e,this[i][1]+n];return this}parse(e=[0,0]){let n=[];e instanceof Array?e=Array.prototype.concat.apply([],e):e=e.trim().split(Ut).map(parseFloat),e.length%2!==0&&e.pop();for(let r=0,i=e.length;r<i;r=r+2)n.push([e[r],e[r+1]]);return n}size(e,n){let r,i=this.bbox();for(r=this.length-1;r>=0;r--)i.width&&(this[r][0]=(this[r][0]-i.x)*e/i.width+i.x),i.height&&(this[r][1]=(this[r][1]-i.y)*n/i.height+i.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){let e=[];for(let n=0,r=this.length;n<r;n++)e.push(this[n].join(","));return e.join(" ")}transform(e){return this.clone().transformO(e)}transformO(e){ye.isMatrixLike(e)||(e=new ye(e));for(let n=this.length;n--;){let[r,i]=this[n];this[n][0]=e.a*r+e.c*i+e.e,this[n][1]=e.b*r+e.d*i+e.f}return this}};var ko={};qo(ko,{MorphArray:()=>d3,height:()=>g3,width:()=>p3,x:()=>f3,y:()=>h3});var d3=jt;function f3(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}function h3(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}function p3(t){let e=this.bbox();return t==null?e.width:this.size(t,e.height)}function g3(t){let e=this.bbox();return t==null?e.height:this.size(e.width,t)}var Jr=class extends We{constructor(e,n=e){super(ae("line",e),n)}array(){return new jt([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(e,n){return this.attr(this.array().move(e,n).toLine())}plot(e,n,r,i){return e==null?this.array():(typeof n<"u"?e={x1:e,y1:n,x2:r,y2:i}:e=new jt(e).toLine(),this.attr(e))}size(e,n){let r=jn(this,e,n);return this.attr(this.array().size(r.width,r.height).toLine())}};ne(Jr,ko);H({Container:{line:fe(function(...t){return Jr.prototype.plot.apply(this.put(new Jr),t[0]!=null?t:[0,0,0,0])})}});q(Jr,"Line");var Li=class extends Ze{constructor(e,n=e){super(ae("marker",e),n)}height(e){return this.attr("markerHeight",e)}orient(e){return this.attr("orient",e)}ref(e,n){return this.attr("refX",e).attr("refY",n)}toString(){return"url(#"+this.id()+")"}update(e){return this.clear(),typeof e=="function"&&e.call(this,this),this}width(e){return this.attr("markerWidth",e)}};H({Container:{marker(...t){return this.defs().marker(...t)}},Defs:{marker:fe(function(t,e,n){return this.put(new Li).size(t,e).ref(t/2,e/2).viewbox(0,0,t,e).attr("orient","auto").update(n)})},marker:{marker(t,e,n,r){let i=["marker"];return t!=="all"&&i.push(t),i=i.join("-"),t=arguments[1]instanceof Li?arguments[1]:this.defs().marker(e,n,r),this.attr(i,t)}}});q(Li,"Marker");function oa(t,e){return function(n){return n==null?this[t]:(this[t]=n,e&&e.call(this),this)}}var gS={"-":function(t){return t},"<>":function(t){return-Math.cos(t*Math.PI)/2+.5},">":function(t){return Math.sin(t*Math.PI/2)},"<":function(t){return-Math.cos(t*Math.PI/2)+1},bezier:function(t,e,n,r){return function(i){return i<0?t>0?e/t*i:n>0?r/n*i:0:i>1?n<1?(1-r)/(1-n)*i+(r-n)/(1-n):t<1?(1-e)/(1-t)*i+(e-t)/(1-t):1:3*i*(1-i)**2*e+3*i**2*(1-i)*r+i**3}},steps:function(t,e="end"){e=e.split("-").reverse()[0];let n=t;return e==="none"?--n:e==="both"&&++n,(r,i=!1)=>{let o=Math.floor(r*t),s=r*o%1===0;return(e==="start"||e==="both")&&++o,i&&s&&--o,r>=0&&o<0&&(o=0),r<=1&&o>n&&(o=n),o/n}}},sa=class{done(){return!1}},Vi=class extends sa{constructor(e=Ro.ease){super(),this.ease=gS[e]||e}step(e,n,r){return typeof e!="number"?r<1?e:n:e+(n-e)*this.ease(r)}},Ui=class extends sa{constructor(e){super(),this.stepper=e}done(e){return e.done}step(e,n,r,i){return this.stepper(e,n,r,i)}};function pS(){let t=(this._duration||500)/1e3,e=this._overshoot||0,n=1e-10,r=Math.PI,i=Math.log(e/100+n),o=-i/Math.sqrt(r*r+i*i),s=3.9/(o*t);this.d=2*o*s,this.k=s*s}var yf=class extends Ui{constructor(e=500,n=0){super(),this.duration(e).overshoot(n)}step(e,n,r,i){if(typeof e=="string")return e;if(i.done=r===1/0,r===1/0)return n;if(r===0)return e;r>100&&(r=16),r/=1e3;let o=i.velocity||0,s=-this.d*o-this.k*(e-n),a=e+o*r+s*r*r/2;return i.velocity=o+s*r,i.done=Math.abs(n-a)+Math.abs(o)<.002,i.done?n:a}};ne(yf,{duration:oa("_duration",pS),overshoot:oa("_overshoot",pS)});var wf=class extends Ui{constructor(e=.1,n=.01,r=0,i=1e3){super(),this.p(e).i(n).d(r).windup(i)}step(e,n,r,i){if(typeof e=="string")return e;if(i.done=r===1/0,r===1/0)return n;if(r===0)return e;let o=n-e,s=(i.integral||0)+o*r,a=(o-(i.error||0))/r,l=this._windup;return l!==!1&&(s=Math.max(-l,Math.min(s,l))),i.error=o,i.integral=s,i.done=Math.abs(o)<.001,i.done?n:e+(this.P*o+this.I*s+this.D*a)}};ne(wf,{windup:oa("_windup"),p:oa("P"),i:oa("I"),d:oa("D")});var m3={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},Vv={M:function(t,e,n){return e.x=n.x=t[0],e.y=n.y=t[1],["M",e.x,e.y]},L:function(t,e){return e.x=t[0],e.y=t[1],["L",t[0],t[1]]},H:function(t,e){return e.x=t[0],["H",t[0]]},V:function(t,e){return e.y=t[0],["V",t[0]]},C:function(t,e){return e.x=t[4],e.y=t[5],["C",t[0],t[1],t[2],t[3],t[4],t[5]]},S:function(t,e){return e.x=t[2],e.y=t[3],["S",t[0],t[1],t[2],t[3]]},Q:function(t,e){return e.x=t[2],e.y=t[3],["Q",t[0],t[1],t[2],t[3]]},T:function(t,e){return e.x=t[0],e.y=t[1],["T",t[0],t[1]]},Z:function(t,e,n){return e.x=n.x,e.y=n.y,["Z"]},A:function(t,e){return e.x=t[5],e.y=t[6],["A",t[0],t[1],t[2],t[3],t[4],t[5],t[6]]}},Lv="mlhvqtcsaz".split("");for(let t=0,e=Lv.length;t<e;++t)Vv[Lv[t]]=function(n){return function(r,i,o){if(n==="H")r[0]=r[0]+i.x;else if(n==="V")r[0]=r[0]+i.y;else if(n==="A")r[5]=r[5]+i.x,r[6]=r[6]+i.y;else for(let s=0,a=r.length;s<a;++s)r[s]=r[s]+(s%2?i.y:i.x);return Vv[n](r,i,o)}}(Lv[t].toUpperCase());function v3(t){let e=t.segment[0];return Vv[e](t.segment.slice(1),t.p,t.p0)}function Uv(t){return t.segment.length&&t.segment.length-1===m3[t.segment[0].toUpperCase()]}function y3(t,e){t.inNumber&&Oo(t,!1);let n=kl.test(e);if(n)t.segment=[e];else{let r=t.lastCommand,i=r.toLowerCase(),o=r===i;t.segment=[i==="m"?o?"l":"L":r]}return t.inSegment=!0,t.lastCommand=t.segment[0],n}function Oo(t,e){if(!t.inNumber)throw new Error("Parser Error");t.number&&t.segment.push(parseFloat(t.number)),t.inNumber=e,t.number="",t.pointSeen=!1,t.hasExponent=!1,Uv(t)&&Bv(t)}function Bv(t){t.inSegment=!1,t.absolute&&(t.segment=v3(t)),t.segments.push(t.segment)}function w3(t){if(!t.segment.length)return!1;let e=t.segment[0].toUpperCase()==="A",n=t.segment.length;return e&&(n===4||n===5)}function b3(t){return t.lastToken.toUpperCase()==="E"}var C3=new Set([" ",",","	",`
`,"\r","\f"]);function mS(t,e=!0){let n=0,r="",i={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:e,p0:new ze,p:new ze};for(;i.lastToken=r,r=t.charAt(n++);)if(!(!i.inSegment&&y3(i,r))){if(r==="."){if(i.pointSeen||i.hasExponent){Oo(i,!1),--n;continue}i.inNumber=!0,i.pointSeen=!0,i.number+=r;continue}if(!isNaN(parseInt(r))){if(i.number==="0"||w3(i)){i.inNumber=!0,i.number=r,Oo(i,!0);continue}i.inNumber=!0,i.number+=r;continue}if(C3.has(r)){i.inNumber&&Oo(i,!1);continue}if(r==="-"||r==="+"){if(i.inNumber&&!b3(i)){Oo(i,!1),--n;continue}i.number+=r,i.inNumber=!0;continue}if(r.toUpperCase()==="E"){i.number+=r,i.hasExponent=!0;continue}if(kl.test(r)){if(i.inNumber)Oo(i,!1);else if(Uv(i))Bv(i);else throw new Error("parser Error");--n}}return i.inNumber&&Oo(i,!1),i.inSegment&&Uv(i)&&Bv(i),i.segments}function E3(t){let e="";for(let n=0,r=t.length;n<r;n++)e+=t[n][0],t[n][1]!=null&&(e+=t[n][1],t[n][2]!=null&&(e+=" ",e+=t[n][2],t[n][3]!=null&&(e+=" ",e+=t[n][3],e+=" ",e+=t[n][4],t[n][5]!=null&&(e+=" ",e+=t[n][5],e+=" ",e+=t[n][6],t[n][7]!=null&&(e+=" ",e+=t[n][7])))));return e+" "}var hn=class extends fn{bbox(){return Hn().path.setAttribute("d",this.toString()),new nt(Hn.nodes.path.getBBox())}move(e,n){let r=this.bbox();if(e-=r.x,n-=r.y,!isNaN(e)&&!isNaN(n))for(let i,o=this.length-1;o>=0;o--)i=this[o][0],i==="M"||i==="L"||i==="T"?(this[o][1]+=e,this[o][2]+=n):i==="H"?this[o][1]+=e:i==="V"?this[o][1]+=n:i==="C"||i==="S"||i==="Q"?(this[o][1]+=e,this[o][2]+=n,this[o][3]+=e,this[o][4]+=n,i==="C"&&(this[o][5]+=e,this[o][6]+=n)):i==="A"&&(this[o][6]+=e,this[o][7]+=n);return this}parse(e="M0 0"){return Array.isArray(e)&&(e=Array.prototype.concat.apply([],e).toString()),mS(e)}size(e,n){let r=this.bbox(),i,o;for(r.width=r.width===0?1:r.width,r.height=r.height===0?1:r.height,i=this.length-1;i>=0;i--)o=this[i][0],o==="M"||o==="L"||o==="T"?(this[i][1]=(this[i][1]-r.x)*e/r.width+r.x,this[i][2]=(this[i][2]-r.y)*n/r.height+r.y):o==="H"?this[i][1]=(this[i][1]-r.x)*e/r.width+r.x:o==="V"?this[i][1]=(this[i][1]-r.y)*n/r.height+r.y:o==="C"||o==="S"||o==="Q"?(this[i][1]=(this[i][1]-r.x)*e/r.width+r.x,this[i][2]=(this[i][2]-r.y)*n/r.height+r.y,this[i][3]=(this[i][3]-r.x)*e/r.width+r.x,this[i][4]=(this[i][4]-r.y)*n/r.height+r.y,o==="C"&&(this[i][5]=(this[i][5]-r.x)*e/r.width+r.x,this[i][6]=(this[i][6]-r.y)*n/r.height+r.y)):o==="A"&&(this[i][1]=this[i][1]*e/r.width,this[i][2]=this[i][2]*n/r.height,this[i][6]=(this[i][6]-r.x)*e/r.width+r.x,this[i][7]=(this[i][7]-r.y)*n/r.height+r.y);return this}toString(){return E3(this)}};var vS=t=>{let e=typeof t;return e==="number"?ce:e==="string"?Bt.isColor(t)?Bt:Ut.test(t)?kl.test(t)?hn:fn:mf.test(t)?ce:aa:jv.indexOf(t.constructor)>-1?t.constructor:Array.isArray(t)?fn:e==="object"?ei:aa},ir=class{constructor(e){this._stepper=e||new Vi("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(e){return this._morphObj.morph(this._from,this._to,e,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(n,r){return n&&r},!0)}from(e){return e==null?this._from:(this._from=this._set(e),this)}stepper(e){return e==null?this._stepper:(this._stepper=e,this)}to(e){return e==null?this._to:(this._to=this._set(e),this)}type(e){return e==null?this._type:(this._type=e,this)}_set(e){this._type||this.type(vS(e));let n=new this._type(e);return this._type===Bt&&(n=this._to?n[this._to[4]]():this._from?n[this._from[4]]():n),this._type===ei&&(n=this._to?n.align(this._to):this._from?n.align(this._from):n),n=n.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(n.length)).map(Object).map(function(r){return r.done=!0,r}),n}};var aa=class{constructor(...e){this.init(...e)}init(e){return e=Array.isArray(e)?e[0]:e,this.value=e,this}toArray(){return[this.value]}valueOf(){return this.value}},bf=(()=>{class t{constructor(...n){this.init(...n)}init(n){return Array.isArray(n)&&(n={scaleX:n[0],scaleY:n[1],shear:n[2],rotate:n[3],translateX:n[4],translateY:n[5],originX:n[6],originY:n[7]}),Object.assign(this,t.defaults,n),this}toArray(){let n=this;return[n.scaleX,n.scaleY,n.shear,n.rotate,n.translateX,n.translateY,n.originX,n.originY]}}return t.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0},t})(),D3=(t,e)=>t[0]<e[0]?-1:t[0]>e[0]?1:0,ei=class{constructor(...e){this.init(...e)}align(e){let n=this.values;for(let r=0,i=n.length;r<i;++r){if(n[r+1]===e[r+1]){if(n[r+1]===Bt&&e[r+7]!==n[r+7]){let a=e[r+7],l=new Bt(this.values.splice(r+3,5))[a]().toArray();this.values.splice(r+3,0,...l)}r+=n[r+2]+2;continue}if(!e[r+1])return this;let o=new e[r+1]().toArray(),s=n[r+2]+3;n.splice(r,s,e[r],e[r+1],e[r+2],...o),r+=n[r+2]+2}return this}init(e){if(this.values=[],Array.isArray(e)){this.values=e.slice();return}e=e||{};let n=[];for(let r in e){let i=vS(e[r]),o=new i(e[r]).toArray();n.push([r,i,o.length,...o])}return n.sort(D3),this.values=n.reduce((r,i)=>r.concat(i),[]),this}toArray(){return this.values}valueOf(){let e={},n=this.values;for(;n.length;){let r=n.shift(),i=n.shift(),o=n.shift(),s=n.splice(0,o);e[r]=new i(s)}return e}},jv=[aa,bf,ei];function yS(t=[]){jv.push(...[].concat(t))}function wS(){ne(jv,{to(t){return new ir().type(this.constructor).from(this.toArray()).to(t)},fromArray(t){return this.init(t),this},toConsumable(){return this.toArray()},morph(t,e,n,r,i){let o=function(s,a){return r.step(s,e[a],n,i[a],i)};return this.fromArray(t.map(o))}})}var or=class extends We{constructor(e,n=e){super(ae("path",e),n)}array(){return this._array||(this._array=new hn(this.attr("d")))}clear(){return delete this._array,this}height(e){return e==null?this.bbox().height:this.size(this.bbox().width,e)}move(e,n){return this.attr("d",this.array().move(e,n))}plot(e){return e==null?this.array():this.clear().attr("d",typeof e=="string"?e:this._array=new hn(e))}size(e,n){let r=jn(this,e,n);return this.attr("d",this.array().size(r.width,r.height))}width(e){return e==null?this.bbox().width:this.size(e,this.bbox().height)}x(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}y(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}};or.prototype.MorphArray=hn;H({Container:{path:fe(function(t){return this.put(new or).plot(t||new hn)})}});q(or,"Path");var Ll={};qo(Ll,{array:()=>x3,clear:()=>_3,move:()=>S3,plot:()=>M3,size:()=>T3});function x3(){return this._array||(this._array=new jt(this.attr("points")))}function _3(){return delete this._array,this}function S3(t,e){return this.attr("points",this.array().move(t,e))}function M3(t){return t==null?this.array():this.clear().attr("points",typeof t=="string"?t:this._array=new jt(t))}function T3(t,e){let n=jn(this,t,e);return this.attr("points",this.array().size(n.width,n.height))}var ti=class extends We{constructor(e,n=e){super(ae("polygon",e),n)}};H({Container:{polygon:fe(function(t){return this.put(new ti).plot(t||new jt)})}});ne(ti,ko);ne(ti,Ll);q(ti,"Polygon");var ni=class extends We{constructor(e,n=e){super(ae("polyline",e),n)}};H({Container:{polyline:fe(function(t){return this.put(new ni).plot(t||new jt)})}});ne(ni,ko);ne(ni,Ll);q(ni,"Polyline");var Bi=class extends We{constructor(e,n=e){super(ae("rect",e),n)}};ne(Bi,{rx:Fl,ry:Pl});H({Container:{rect:fe(function(t,e){return this.put(new Bi).size(t,e)})}});q(Bi,"Rect");var Fo=class{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(e){let n=typeof e.next<"u"?e:{value:e,next:null,prev:null};return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._last=n,this._first=n),n}remove(e){e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this._last&&(this._last=e.prev),e===this._first&&(this._first=e.next),e.prev=null,e.next=null}shift(){let e=this._first;return e?(this._first=e.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,e.value):null}};var Qe={nextDraw:null,frames:new Fo,timeouts:new Fo,immediates:new Fo,timer:()=>ue.window.performance||ue.window.Date,transforms:[],frame(t){let e=Qe.frames.push({run:t});return Qe.nextDraw===null&&(Qe.nextDraw=ue.window.requestAnimationFrame(Qe._draw)),e},timeout(t,e){e=e||0;let n=Qe.timer().now()+e,r=Qe.timeouts.push({run:t,time:n});return Qe.nextDraw===null&&(Qe.nextDraw=ue.window.requestAnimationFrame(Qe._draw)),r},immediate(t){let e=Qe.immediates.push(t);return Qe.nextDraw===null&&(Qe.nextDraw=ue.window.requestAnimationFrame(Qe._draw)),e},cancelFrame(t){t!=null&&Qe.frames.remove(t)},clearTimeout(t){t!=null&&Qe.timeouts.remove(t)},cancelImmediate(t){t!=null&&Qe.immediates.remove(t)},_draw(t){let e=null,n=Qe.timeouts.last();for(;(e=Qe.timeouts.shift())&&(t>=e.time?e.run():Qe.timeouts.push(e),e!==n););let r=null,i=Qe.frames.last();for(;r!==i&&(r=Qe.frames.shift());)r.run(t);let o=null;for(;o=Qe.immediates.shift();)o();Qe.nextDraw=Qe.timeouts.first()||Qe.frames.first()?ue.window.requestAnimationFrame(Qe._draw):null}},Po=Qe;var I3=function(t){let e=t.start,n=t.runner.duration(),r=e+n;return{start:e,duration:n,end:r,runner:t.runner}},A3=function(){let t=ue.window;return(t.performance||t.Date).now()},la=class extends Gn{constructor(e=A3){super(),this._timeSource=e,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){let e=this.getLastRunnerInfo(),n=e?e.runner.duration():0;return(e?e.start:this._time)+n}getEndTimeOfTimeline(){let e=this._runners.map(n=>n.start+n.runner.duration());return Math.max(0,...e)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(e){return this._runners[this._runnerIds.indexOf(e)]||null}pause(){return this._paused=!0,this._continue()}persist(e){return e==null?this._persist:(this._persist=e,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(e){let n=this.speed();if(e==null)return this.speed(-n);let r=Math.abs(n);return this.speed(e?-r:r)}schedule(e,n,r){if(e==null)return this._runners.map(I3);let i=0,o=this.getEndTime();if(n=n||0,r==null||r==="last"||r==="after")i=o;else if(r==="absolute"||r==="start")i=n,n=0;else if(r==="now")i=this._time;else if(r==="relative"){let l=this.getRunnerInfoById(e.id);l&&(i=l.start+n,n=0)}else if(r==="with-last"){let l=this.getLastRunnerInfo();i=l?l.start:this._time}else throw new Error('Invalid value for the "when" parameter');e.unschedule(),e.timeline(this);let s=e.persist(),a={persist:s===null?this._persist:s,start:i+n,runner:e};return this._lastRunnerId=e.id,this._runners.push(a),this._runners.sort((l,u)=>l.start-u.start),this._runnerIds=this._runners.map(l=>l.runner.id),this.updateTime()._continue(),this}seek(e){return this.time(this._time+e)}source(e){return e==null?this._timeSource:(this._timeSource=e,this)}speed(e){return e==null?this._speed:(this._speed=e,this)}stop(){return this.time(0),this.pause()}time(e){return e==null?this._time:(this._time=e,this._continue(!0))}unschedule(e){let n=this._runnerIds.indexOf(e.id);return n<0?this:(this._runners.splice(n,1),this._runnerIds.splice(n,1),e.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(e=!1){return Po.cancelFrame(this._nextFrame),this._nextFrame=null,e?this._stepImmediate():this._paused?this:(this._nextFrame=Po.frame(this._step),this)}_stepFn(e=!1){let n=this._timeSource(),r=n-this._lastSourceTime;e&&(r=0);let i=this._speed*r+(this._time-this._lastStepTime);this._lastSourceTime=n,e||(this._time+=i,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let s=this._runners.length;s--;){let a=this._runners[s],l=a.runner;this._time-a.start<=0&&l.reset()}let o=!1;for(let s=0,a=this._runners.length;s<a;s++){let l=this._runners[s],u=l.runner,c=i,d=this._time-l.start;if(d<=0){o=!0;continue}else d<c&&(c=d);if(!u.active())continue;u.step(c).done?l.persist!==!0&&u.duration()-u.time()+this._time+l.persist<this._time&&(u.unschedule(),--s,--a):o=!0}return o&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}};H({Element:{timeline:function(t){return t==null?(this._timeline=this._timeline||new la,this._timeline):(this._timeline=t,this)}}});var Tr=(()=>{class t extends Gn{constructor(n){super(),this.id=t.id++,n=n??Ro.duration,n=typeof n=="function"?new Ui(n):n,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof n=="number"&&n,this._isDeclarative=n instanceof Ui,this._stepper=this._isDeclarative?n:new Vi,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new ye,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(n,r,i){let o=1,s=!1,a=0;return n=n??Ro.duration,r=r??Ro.delay,i=i||"last",typeof n=="object"&&!(n instanceof sa)&&(r=n.delay??r,i=n.when??i,s=n.swing||s,o=n.times??o,a=n.wait??a,n=n.duration??Ro.duration),{duration:n,delay:r,swing:s,times:o,wait:a,when:i}}active(n){return n==null?this.enabled:(this.enabled=n,this)}addTransform(n){return this.transforms.lmultiplyO(n),this}after(n){return this.on("finished",n)}animate(n,r,i){let o=t.sanitise(n,r,i),s=new t(o.duration);return this._timeline&&s.timeline(this._timeline),this._element&&s.element(this._element),s.loop(o).schedule(o.delay,o.when)}clearTransform(){return this.transforms=new ye,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(n=>!n.isTransform))}delay(n){return this.animate(0,n)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(n){return this.queue(null,n)}ease(n){return this._stepper=new Vi(n),this}element(n){return n==null?this._element:(this._element=n,n._prepareRunner(),this)}finish(){return this.step(1/0)}loop(n,r,i){return typeof n=="object"&&(r=n.swing,i=n.wait,n=n.times),this._times=n||1/0,this._swing=r||!1,this._wait=i||0,this._times===!0&&(this._times=1/0),this}loops(n){let r=this._duration+this._wait;if(n==null){let a=Math.floor(this._time/r),u=(this._time-a*r)/this._duration;return Math.min(a+u,this._times)}let i=Math.floor(n),o=n%1,s=r*i+this._duration*o;return this.time(s)}persist(n){return n==null?this._persist:(this._persist=n,this)}position(n){let r=this._time,i=this._duration,o=this._wait,s=this._times,a=this._swing,l=this._reverse,u;if(n==null){let h=function(y){let C=a*Math.floor(y%(2*(o+i))/(o+i)),E=C&&!l||!C&&l,T=Math.pow(-1,E)*(y%(o+i))/i+E;return Math.max(Math.min(T,1),0)},v=s*(o+i)-o;return u=r<=0?Math.round(h(1e-5)):r<v?h(r):Math.round(h(v-1e-5)),u}let c=Math.floor(this.loops()),d=a&&c%2===0;return u=c+(d&&!l||l&&d?n:1-n),this.loops(u)}progress(n){return n==null?Math.min(1,this._time/this.duration()):this.time(n*this.duration())}queue(n,r,i,o){return this._queue.push({initialiser:n||xv,runner:r||xv,retarget:i,isTransform:o,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(n){return this._reverse=n??!this._reverse,this}schedule(n,r,i){if(n instanceof la||(i=r,r=n,n=this.timeline()),!n)throw Error("Runner cannot be scheduled without timeline");return n.schedule(this,r,i),this}step(n){if(!this.enabled)return this;n=n??16,this._time+=n;let r=this.position(),i=this._lastPosition!==r&&this._time>=0;this._lastPosition=r;let o=this.duration(),s=this._lastTime<=0&&this._time>0,a=this._lastTime<o&&this._time>=o;this._lastTime=this._time,s&&this.fire("start",this);let l=this._isDeclarative;this.done=!l&&!a&&this._time>=o,this._reseted=!1;let u=!1;return(i||l)&&(this._initialise(i),this.transforms=new ye,u=this._run(l?n:r),this.fire("step",this)),this.done=this.done||u&&l,a&&this.fire("finished",this),this}time(n){if(n==null)return this._time;let r=n-this._time;return this.step(r),this}timeline(n){return typeof n>"u"?this._timeline:(this._timeline=n,this)}unschedule(){let n=this.timeline();return n&&n.unschedule(this),this}_initialise(n){if(!(!n&&!this._isDeclarative))for(let r=0,i=this._queue.length;r<i;++r){let o=this._queue[r],s=this._isDeclarative||!o.initialised&&n;n=!o.finished,s&&n&&(o.initialiser.call(this),o.initialised=!0)}}_rememberMorpher(n,r){if(this._history[n]={morpher:r,caller:this._queue[this._queue.length-1]},this._isDeclarative){let i=this.timeline();i&&i.play()}}_run(n){let r=!0;for(let i=0,o=this._queue.length;i<o;++i){let s=this._queue[i],a=s.runner.call(this,n);s.finished=s.finished||a===!0,r=r&&s.finished}return r}_tryRetarget(n,r,i){if(this._history[n]){if(!this._history[n].caller.initialised){let s=this._queue.indexOf(this._history[n].caller);return this._queue.splice(s,1),!1}this._history[n].caller.retarget?this._history[n].caller.retarget.call(this,r,i):this._history[n].morpher.to(r),this._history[n].caller.finished=!1;let o=this.timeline();return o&&o.play(),!0}return!1}}return t.id=0,t})();var ua=class{constructor(e=new ye,n=-1,r=!0){this.transforms=e,this.id=n,this.done=r}clearTransformsFromQueue(){}};ne([Tr,ua],{mergeWith(t){return new ua(t.transforms.lmultiply(this.transforms),t.id)}});var bS=(t,e)=>t.lmultiplyO(e),CS=t=>t.transforms;function N3(){let e=this._transformationRunners.runners.map(CS).reduce(bS,new ye);this.transform(e),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}var Hv=class{constructor(){this.runners=[],this.ids=[]}add(e){if(this.runners.includes(e))return;let n=e.id+1;return this.runners.push(e),this.ids.push(n),this}clearBefore(e){let n=this.ids.indexOf(e+1)||1;return this.ids.splice(0,n,0),this.runners.splice(0,n,new ua).forEach(r=>r.clearTransformsFromQueue()),this}edit(e,n){let r=this.ids.indexOf(e+1);return this.ids.splice(r,1,e+1),this.runners.splice(r,1,n),this}getByID(e){return this.runners[this.ids.indexOf(e+1)]}length(){return this.ids.length}merge(){let e=null;for(let n=0;n<this.runners.length;++n){let r=this.runners[n];if(e&&r.done&&e.done&&(!r._timeline||!r._timeline._runnerIds.includes(r.id))&&(!e._timeline||!e._timeline._runnerIds.includes(e.id))){this.remove(r.id);let o=r.mergeWith(e);this.edit(e.id,o),e=o,--n}else e=r}return this}remove(e){let n=this.ids.indexOf(e+1);return this.ids.splice(n,1),this.runners.splice(n,1),this}};H({Element:{animate(t,e,n){let r=Tr.sanitise(t,e,n),i=this.timeline();return new Tr(r.duration).loop(r).element(this).timeline(i.play()).schedule(r.delay,r.when)},delay(t,e){return this.animate(0,t,e)},_clearTransformRunnersBefore(t){this._transformationRunners.clearBefore(t.id)},_currentTransform(t){return this._transformationRunners.runners.filter(e=>e.id<=t.id).map(CS).reduce(bS,new ye)},_addRunner(t){this._transformationRunners.add(t),Po.cancelImmediate(this._frameId),this._frameId=Po.immediate(N3.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new Hv().add(new ua(new ye(this))))}}});var R3=(t,e)=>t.filter(n=>!e.includes(n));ne(Tr,{attr(t,e){return this.styleAttr("attr",t,e)},css(t,e){return this.styleAttr("css",t,e)},styleAttr(t,e,n){if(typeof e=="string")return this.styleAttr(t,{[e]:n});let r=e;if(this._tryRetarget(t,r))return this;let i=new ir(this._stepper).to(r),o=Object.keys(r);return this.queue(function(){i=i.from(this.element()[t](o))},function(s){return this.element()[t](i.at(s).valueOf()),i.done()},function(s){let a=Object.keys(s),l=R3(a,o);if(l.length){let c=this.element()[t](l),d=new ei(i.from()).valueOf();Object.assign(d,c),i.from(d)}let u=new ei(i.to()).valueOf();Object.assign(u,s),i.to(u),o=a,r=s}),this._rememberMorpher(t,i),this},zoom(t,e){if(this._tryRetarget("zoom",t,e))return this;let n=new ir(this._stepper).to(new ce(t));return this.queue(function(){n=n.from(this.element().zoom())},function(r){return this.element().zoom(n.at(r),e),n.done()},function(r,i){e=i,n.to(r)}),this._rememberMorpher("zoom",n),this},transform(t,e,n){if(e=t.relative||e,this._isDeclarative&&!e&&this._tryRetarget("transform",t))return this;let r=ye.isMatrixLike(t);n=t.affine!=null?t.affine:n??!r;let i=new ir(this._stepper).type(n?bf:ye),o,s,a,l,u;function c(){s=s||this.element(),o=o||Nl(t,s),u=new ye(e?void 0:s),s._addRunner(this),e||s._clearTransformRunnersBefore(this)}function d(h){e||this.clearTransform();let{x:v,y}=new ze(o).transform(s._currentTransform(this)),C=new ye(Ie(U({},t),{origin:[v,y]})),E=this._isDeclarative&&a?a:u;if(n){C=C.decompose(v,y),E=E.decompose(v,y);let x=C.rotate,P=E.rotate,I=[x-360,x,x+360],B=I.map(L=>Math.abs(L-P)),V=Math.min(...B),R=B.indexOf(V);C.rotate=I[R]}e&&(r||(C.rotate=t.rotate||0),this._isDeclarative&&l&&(E.rotate=l)),i.from(E),i.to(C);let T=i.at(h);return l=T.rotate,a=new ye(T),this.addTransform(a),s._addRunner(this),i.done()}function f(h){(h.origin||"center").toString()!==(t.origin||"center").toString()&&(o=Nl(h,s)),t=Ie(U({},h),{origin:o})}return this.queue(c,d,f,!0),this._isDeclarative&&this._rememberMorpher("transform",i),this},x(t){return this._queueNumber("x",t)},y(t){return this._queueNumber("y",t)},ax(t){return this._queueNumber("ax",t)},ay(t){return this._queueNumber("ay",t)},dx(t=0){return this._queueNumberDelta("x",t)},dy(t=0){return this._queueNumberDelta("y",t)},dmove(t,e){return this.dx(t).dy(e)},_queueNumberDelta(t,e){if(e=new ce(e),this._tryRetarget(t,e))return this;let n=new ir(this._stepper).to(e),r=null;return this.queue(function(){r=this.element()[t](),n.from(r),n.to(r+e)},function(i){return this.element()[t](n.at(i)),n.done()},function(i){n.to(r+new ce(i))}),this._rememberMorpher(t,n),this},_queueObject(t,e){if(this._tryRetarget(t,e))return this;let n=new ir(this._stepper).to(e);return this.queue(function(){n.from(this.element()[t]())},function(r){return this.element()[t](n.at(r)),n.done()}),this._rememberMorpher(t,n),this},_queueNumber(t,e){return this._queueObject(t,new ce(e))},cx(t){return this._queueNumber("cx",t)},cy(t){return this._queueNumber("cy",t)},move(t,e){return this.x(t).y(e)},amove(t,e){return this.ax(t).ay(e)},center(t,e){return this.cx(t).cy(e)},size(t,e){let n;return(!t||!e)&&(n=this._element.bbox()),t||(t=n.width/n.height*e),e||(e=n.height/n.width*t),this.width(t).height(e)},width(t){return this._queueNumber("width",t)},height(t){return this._queueNumber("height",t)},plot(t,e,n,r){if(arguments.length===4)return this.plot([t,e,n,r]);if(this._tryRetarget("plot",t))return this;let i=new ir(this._stepper).type(this._element.MorphArray).to(t);return this.queue(function(){i.from(this._element.array())},function(o){return this._element.plot(i.at(o)),i.done()}),this._rememberMorpher("plot",i),this},leading(t){return this._queueNumber("leading",t)},viewbox(t,e,n,r){return this._queueObject("viewbox",new nt(t,e,n,r))},update(t){return typeof t!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",t.offset),this)}});ne(Tr,{rx:Fl,ry:Pl,from:Ov,to:Fv});q(Tr,"Runner");var Lo=class extends Ze{constructor(e,n=e){super(ae("svg",e),n),this.namespace()}defs(){return this.isRoot()?zt(this.node.querySelector("defs"))||this.put(new Oi):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof ue.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:ta,version:"1.1"}).attr("xmlns:xlink",Sr,pf):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,pf).attr("xmlns:svgjs",null,pf)}root(){return this.isRoot()?this:super.root()}};H({Container:{nested:fe(function(){return this.put(new Lo)})}});q(Lo,"Svg",!0);var Vo=class extends Ze{constructor(e,n=e){super(ae("symbol",e),n)}};H({Container:{symbol:fe(function(){return this.put(new Vo)})}});q(Vo,"Symbol");var Vl={};qo(Vl,{amove:()=>G3,ax:()=>j3,ay:()=>H3,build:()=>$3,center:()=>B3,cx:()=>V3,cy:()=>U3,length:()=>O3,move:()=>L3,plain:()=>k3,x:()=>F3,y:()=>P3});function k3(t){return this._build===!1&&this.clear(),this.node.appendChild(ue.document.createTextNode(t)),this}function O3(){return this.node.getComputedTextLength()}function F3(t,e=this.bbox()){return t==null?e.x:this.attr("x",this.attr("x")+t-e.x)}function P3(t,e=this.bbox()){return t==null?e.y:this.attr("y",this.attr("y")+t-e.y)}function L3(t,e,n=this.bbox()){return this.x(t,n).y(e,n)}function V3(t,e=this.bbox()){return t==null?e.cx:this.attr("x",this.attr("x")+t-e.cx)}function U3(t,e=this.bbox()){return t==null?e.cy:this.attr("y",this.attr("y")+t-e.cy)}function B3(t,e,n=this.bbox()){return this.cx(t,n).cy(e,n)}function j3(t){return this.attr("x",t)}function H3(t){return this.attr("y",t)}function G3(t,e){return this.ax(t).ay(e)}function $3(t){return this._build=!!t,this}var Ht=class extends We{constructor(e,n=e){super(ae("text",e),n),this.dom.leading=this.dom.leading??new ce(1.3),this._rebuild=!0,this._build=!1}leading(e){return e==null?this.dom.leading:(this.dom.leading=new ce(e),this.rebuild())}rebuild(e){if(typeof e=="boolean"&&(this._rebuild=e),this._rebuild){let n=this,r=0,i=this.dom.leading;this.each(function(o){if(Rl(this.node))return;let s=ue.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=i*new ce(s);this.dom.newLined&&(this.attr("x",n.attr("x")),this.text()===`
`?r+=a:(this.attr("dy",o?a+r:0),r=0))}),this.fire("rebuild")}return this}setData(e){return this.dom=e,this.dom.leading=new ce(e.leading||1.3),this}writeDataToDom(){return hf(this,this.dom,{leading:1.3}),this}text(e){if(e===void 0){let n=this.node.childNodes,r=0;e="";for(let i=0,o=n.length;i<o;++i){if(n[i].nodeName==="textPath"||Rl(n[i])){i===0&&(r=i+1);continue}i!==r&&n[i].nodeType!==3&&zt(n[i]).dom.newLined===!0&&(e+=`
`),e+=n[i].textContent}return e}if(this.clear().build(!0),typeof e=="function")e.call(this,this);else{e=(e+"").split(`
`);for(let n=0,r=e.length;n<r;n++)this.newLine(e[n])}return this.build(!1).rebuild()}};ne(Ht,Vl);H({Container:{text:fe(function(t=""){return this.put(new Ht).text(t)}),plain:fe(function(t=""){return this.put(new Ht).plain(t)})}});q(Ht,"Text");var ji=class extends We{constructor(e,n=e){super(ae("tspan",e),n),this._build=!1}dx(e){return this.attr("dx",e)}dy(e){return this.attr("dy",e)}newLine(){this.dom.newLined=!0;let e=this.parent();if(!(e instanceof Ht))return this;let n=e.index(this),r=ue.window.getComputedStyle(this.node).getPropertyValue("font-size"),i=e.dom.leading*new ce(r);return this.dy(n?i:0).attr("x",e.x())}text(e){return e==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof e=="function"?(this.clear().build(!0),e.call(this,this),this.build(!1)):this.plain(e),this)}};ne(ji,Vl);H({Tspan:{tspan:fe(function(t=""){let e=new ji;return this._build||this.clear(),this.put(e).text(t)})},Text:{newLine:function(t=""){return this.tspan(t).newLine()}}});q(ji,"Tspan");var ca=class extends We{constructor(e,n=e){super(ae("circle",e),n)}radius(e){return this.attr("r",e)}rx(e){return this.attr("r",e)}ry(e){return this.rx(e)}size(e){return this.radius(new ce(e).divide(2))}};ne(ca,{x:Sv,y:Mv,cx:Tv,cy:Iv,width:Av,height:Nv});H({Container:{circle:fe(function(t=0){return this.put(new ca).size(t).move(0,0)})}});q(ca,"Circle");var da=class extends Ze{constructor(e,n=e){super(ae("clipPath",e),n)}remove(){return this.targets().forEach(function(e){e.unclip()}),super.remove()}targets(){return Nn("svg [clip-path*="+this.id()+"]")}};H({Container:{clip:fe(function(){return this.defs().put(new da)})},Element:{clipper(){return this.reference("clip-path")},clipWith(t){let e=t instanceof da?t:this.parent().clip().add(t);return this.attr("clip-path","url(#"+e.id()+")")},unclip(){return this.attr("clip-path",null)}}});q(da,"ClipPath");var Ul=class extends ot{constructor(e,n=e){super(ae("foreignObject",e),n)}};H({Container:{foreignObject:fe(function(t,e){return this.put(new Ul).size(t,e)})}});q(Ul,"ForeignObject");var Bl={};qo(Bl,{dmove:()=>z3,dx:()=>W3,dy:()=>q3,height:()=>Y3,move:()=>Q3,size:()=>Z3,width:()=>X3,x:()=>K3,y:()=>J3});function z3(t,e){return this.children().forEach(n=>{let r;try{r=n.node instanceof pv().SVGSVGElement?new nt(n.attr(["x","y","width","height"])):n.bbox()}catch{return}let i=new ye(n),o=i.translate(t,e).transform(i.inverse()),s=new ze(r.x,r.y).transform(o);n.move(s.x,s.y)}),this}function W3(t){return this.dmove(t,0)}function q3(t){return this.dmove(0,t)}function Y3(t,e=this.bbox()){return t==null?e.height:this.size(e.width,t,e)}function Q3(t=0,e=0,n=this.bbox()){let r=t-n.x,i=e-n.y;return this.dmove(r,i)}function Z3(t,e,n=this.bbox()){let r=jn(this,t,e,n),i=r.width/n.width,o=r.height/n.height;return this.children().forEach(s=>{let a=new ze(n).transform(new ye(s).inverse());s.scale(i,o,a.x,a.y)}),this}function X3(t,e=this.bbox()){return t==null?e.width:this.size(t,e.height,e)}function K3(t,e=this.bbox()){return t==null?e.x:this.move(t,e.y,e)}function J3(t,e=this.bbox()){return t==null?e.y:this.move(e.x,t,e)}var Hi=class extends Ze{constructor(e,n=e){super(ae("g",e),n)}};ne(Hi,Bl);H({Container:{group:fe(function(){return this.put(new Hi)})}});q(Hi,"G");var Uo=class extends Ze{constructor(e,n=e){super(ae("a",e),n)}target(e){return this.attr("target",e)}to(e){return this.attr("href",e,Sr)}};ne(Uo,Bl);H({Container:{link:fe(function(t){return this.put(new Uo).to(t)})},Element:{unlink(){let t=this.linker();if(!t)return this;let e=t.parent();if(!e)return this.remove();let n=e.index(t);return e.add(this,n),t.remove(),this},linkTo(t){let e=this.linker();return e||(e=new Uo,this.wrap(e)),typeof t=="function"?t.call(e,e):e.to(t),this},linker(){let t=this.parent();return t&&t.node.nodeName.toLowerCase()==="a"?t:null}}});q(Uo,"A");var fa=class extends Ze{constructor(e,n=e){super(ae("mask",e),n)}remove(){return this.targets().forEach(function(e){e.unmask()}),super.remove()}targets(){return Nn("svg [mask*="+this.id()+"]")}};H({Container:{mask:fe(function(){return this.defs().put(new fa)})},Element:{masker(){return this.reference("mask")},maskWith(t){let e=t instanceof fa?t:this.parent().mask().add(t);return this.attr("mask","url(#"+e.id()+")")},unmask(){return this.attr("mask",null)}}});q(fa,"Mask");var jl=class extends ot{constructor(e,n=e){super(ae("stop",e),n)}update(e){return(typeof e=="number"||e instanceof ce)&&(e={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",new ce(e.offset)),this}};H({Gradient:{stop:function(t,e,n){return this.put(new jl).update(t,e,n)}}});q(jl,"Stop");function e4(t,e){if(!t)return"";if(!e)return t;let n=t+"{";for(let r in e)n+=G_(r)+":"+e[r]+";";return n+="}",n}var ha=class extends ot{constructor(e,n=e){super(ae("style",e),n)}addText(e=""){return this.node.textContent+=e,this}font(e,n,r={}){return this.rule("@font-face",U({fontFamily:e,src:n},r))}rule(e,n){return this.addText(e4(e,n))}};H("Dom",{style(t,e){return this.put(new ha).rule(t,e)},fontface(t,e,n){return this.put(new ha).font(t,e,n)}});q(ha,"Style");var pa=class extends Ht{constructor(e,n=e){super(ae("textPath",e),n)}array(){let e=this.track();return e?e.array():null}plot(e){let n=this.track(),r=null;return n&&(r=n.plot(e)),e==null?r:this}track(){return this.reference("href")}};H({Container:{textPath:fe(function(t,e){return t instanceof Ht||(t=this.text(t)),t.path(e)})},Text:{path:fe(function(t,e=!0){let n=new pa;t instanceof or||(t=this.defs().path(t)),n.attr("href","#"+t,Sr);let r;if(e)for(;r=this.node.firstChild;)n.node.appendChild(r);return this.put(n)}),textPath(){return this.findOne("textPath")}},Path:{text:fe(function(t){return t instanceof Ht||(t=new Ht().addTo(this.parent()).text(t)),t.path(this)}),targets(){return Nn("svg textPath").filter(t=>(t.attr("href")||"").includes(this.id()))}}});pa.prototype.MorphArray=hn;q(pa,"TextPath");var Hl=class extends We{constructor(e,n=e){super(ae("use",e),n)}use(e,n){return this.attr("href",(n||"")+"#"+e,Sr)}};H({Container:{use:fe(function(t,e){return this.put(new Hl).use(t,e)})}});q(Hl,"Use");var Gv=mt;ne([Lo,Vo,Pi,Mr,Li],Jt("viewbox"));ne([Jr,ni,ti,or],Jt("marker"));ne(Ht,Jt("Text"));ne(or,Jt("Path"));ne(Oi,Jt("Defs"));ne([Ht,ji],Jt("Tspan"));ne([Bi,Fi,Kr,Tr],Jt("radius"));ne(Gn,Jt("EventTarget"));ne($n,Jt("Dom"));ne(ot,Jt("Element"));ne(We,Jt("Shape"));ne([Ze,kv],Jt("Container"));ne(Kr,Jt("Gradient"));ne(Tr,Jt("Runner"));Xr.extend(j_());yS([ce,Bt,nt,ye,fn,jt,hn,ze]);wS();var ES=t=>(t.changedTouches&&(t=t.changedTouches[0]),{x:t.clientX,y:t.clientY}),$v=class{constructor(e){e.remember("_draggable",this),this.el=e,this.drag=this.drag.bind(this),this.startDrag=this.startDrag.bind(this),this.endDrag=this.endDrag.bind(this)}init(e){e?(this.el.on("mousedown.drag",this.startDrag),this.el.on("touchstart.drag",this.startDrag,{passive:!1})):(this.el.off("mousedown.drag"),this.el.off("touchstart.drag"))}startDrag(e){let n=!e.type.indexOf("mouse");if(n&&e.which!==1&&e.buttons!==0||this.el.dispatch("beforedrag",{event:e,handler:this}).defaultPrevented)return;e.preventDefault(),e.stopPropagation(),this.init(!1),this.box=this.el.bbox(),this.lastClick=this.el.point(ES(e));let r=(n?"mousemove":"touchmove")+".drag",i=(n?"mouseup":"touchend")+".drag";ki(window,r,this.drag,this,{passive:!1}),ki(window,i,this.endDrag,this,{passive:!1}),this.el.fire("dragstart",{event:e,handler:this,box:this.box})}drag(e){let{box:n,lastClick:r}=this,i=this.el.point(ES(e)),o=i.x-r.x,s=i.y-r.y;if(!o&&!s)return n;let a=n.x+o,l=n.y+s;this.box=new nt(a,l,n.w,n.h),this.lastClick=i,!this.el.dispatch("dragmove",{event:e,handler:this,box:this.box}).defaultPrevented&&this.move(a,l)}move(e,n){this.el.type==="svg"?Hi.prototype.move.call(this.el,e,n):this.el.move(e,n)}endDrag(e){this.drag(e),this.el.fire("dragend",{event:e,handler:this,box:this.box}),Rn(window,"mousemove.drag"),Rn(window,"touchmove.drag"),Rn(window,"mouseup.drag"),Rn(window,"touchend.drag"),this.init(!0)}};ne(ot,{draggable(t=!0){return(this.remember("_draggable")||new $v(this)).init(t),this}});var MS=p1(SS());function i4(t,e){if(t&1){let n=lt();_(0,"div",14)(1,"span",15),F(2),S(),st(),_(3,"svg",10),z("click",function(i){let o=G(n).$implicit,s=xe();return $(s.placeShape(o.unicode,i))}),S()()}if(t&2){let n=e.$implicit;N(2),Nt(n.unicode),N(),_n("id","glyph-"+n.unicode)}}var Ef=class t{constructor(e){this.el=e}glyphs=[];selectedPath=null;glyphWidth=200;ascenderHeight=250;baseline=100;descenderHeight=-50;preview=null;ngOnInit(){for(let e=65;e<=90;e++){let n=String.fromCharCode(e);this.glyphs.push({unicode:n,svg:null,pathData:[],pathElements:[]})}setTimeout(()=>{this.glyphs.forEach(e=>{e.svg=Gv().addTo(`#glyph-${e.unicode}`).size("100%","100%").viewbox(0,0,this.glyphWidth,this.ascenderHeight),this.drawGuidelines(e.svg)})})}drawGuidelines(e){e.line(0,this.ascenderHeight,this.glyphWidth,this.ascenderHeight).stroke({color:"gray",width:1}),e.line(0,this.baseline,this.glyphWidth,this.baseline).stroke({color:"gray",width:1})}selectShape(e){this.preview&&this.preview.remove(),e==="circle"?this.selectedPath=this.circlePath(50,this.baseline,30):e==="rect"?this.selectedPath=this.rectPath(50,this.baseline-40,60,40):e==="triangle"?this.selectedPath=this.trianglePath(75,this.baseline,40):e==="pentagon"?this.selectedPath=this.pentagonPath(75,this.baseline,40):e==="hexagon"?this.selectedPath=this.hexagonPath(75,this.baseline,40):e==="star"&&(this.selectedPath=this.starPath(75,this.baseline,40)),this.createPreview()}createPreview(){this.selectedPath&&(this.preview&&this.preview.remove(),this.preview=Gv().size(100,100).addTo("body"),this.preview.path(this.selectedPath).fill("rgba(100,100,100,0.5)").css({position:"absolute",pointerEvents:"none"}),document.addEventListener("mousemove",this.movePreview.bind(this)))}movePreview(e){this.preview&&this.preview.move(e.pageX-50,e.pageY-50)}placeShape(e,n){if(!this.selectedPath)return;let r=this.glyphs.find(d=>d.unicode===e);if(!r||!r.svg)return;let i=n.target.getBoundingClientRect(),o=n.clientX-i.left,s=n.clientY-i.top,a=r.svg.path(this.selectedPath).fill("black").move(o,s).draggable(),l={translateX:o,translateY:s,scaleX:1,scaleY:1,rotation:0},u=o,c=s;a.on("dragstart",()=>{u=l.translateX,c=l.translateY}),a.on("dragmove",d=>{let f=d.detail.p.x-u,h=d.detail.p.y-c;l.translateX=u+f,l.translateY=c+h,a.move(l.translateX,l.translateY)}),a.on("wheel",d=>{d.preventDefault();let f=d.deltaY<0?1.1:.9;l.scaleX*=f,l.scaleY*=f,a.transform({scaleX:l.scaleX,scaleY:l.scaleY})}),a.on("contextmenu",d=>{d.preventDefault(),l.rotation+=15,a.rotate(l.rotation)}),r.pathData.push({path:this.selectedPath,transform:l}),r.pathElements.push(a),this.preview&&this.preview.remove(),this.preview=null,this.selectedPath=null}circlePath(e,n,r){return`M ${e-r},${n} 
            a ${r},${r} 0 1,0 ${2*r},0 
            a ${r},${r} 0 1,0 ${-2*r},0`}rectPath(e,n,r,i){return`M ${e},${n} 
            L ${e+r},${n} 
            L ${e+r},${n+i} 
            L ${e},${n+i} 
            Z`}trianglePath(e,n,r){let i=Math.sqrt(3)/2*r;return`M ${e},${n} 
            L ${e+r},${n} 
            L ${e+r/2},${n-i} 
            Z`}pentagonPath(e,n,r){let i=2*Math.PI/5,o=`M ${e},${n-r}`;for(let s=1;s<5;s++)o+=` L ${e+r*Math.sin(s*i)},${n-r*Math.cos(s*i)}`;return o+" Z"}hexagonPath(e,n,r){let i=2*Math.PI/6,o=`M ${e+r*Math.cos(0)},${n+r*Math.sin(0)}`;for(let s=1;s<6;s++)o+=` L ${e+r*Math.cos(s*i)},${n+r*Math.sin(s*i)}`;return o+" Z"}starPath(e,n,r){let i=2*Math.PI/10,o=`M ${e},${n-r}`;for(let s=1;s<10;s++){let a=s%2===0?r:r/2;o+=` L ${e+a*Math.sin(s*i)},${n-a*Math.cos(s*i)}`}return o+" Z"}downloadOTF(){let e=this.glyphs.map(r=>{if(r.pathData.length===0)return null;let i=new ct;return r.pathData.forEach(({path:o})=>{this.convertSVGPathToOpentype(o).forEach(a=>i.commands.push(a))}),new Kt({name:`glyph_${r.unicode}`,unicode:r.unicode.charCodeAt(0),advanceWidth:this.glyphWidth,path:i})}).filter(r=>r!==null);new $e({familyName:"CustomFont",styleName:"Regular",unitsPerEm:this.glyphWidth,ascender:this.ascenderHeight,descender:this.descenderHeight,glyphs:e}).download()}convertSVGPathToOpentype(e){let n=[];return(0,MS.parseSVG)(e).forEach(i=>{switch(i.code){case"M":case"L":n.push({type:i.code,x:i.x??0,y:i.y??0});break;case"C":n.push({type:"C",x1:i.x1??0,y1:i.y1??0,x2:i.x2??0,y2:i.y2??0,x:i.x??0,y:i.y??0});break;case"Q":n.push({type:"Q",x1:i.x1??0,y1:i.y1??0,x:i.x??0,y:i.y??0});break;case"Z":n.push({type:"Z"});break}}),n}static \u0275fac=function(n){return new(n||t)(Ae(Gt))};static \u0275cmp=Ve({type:t,selectors:[["app-fontbaukasten"]],decls:22,vars:1,consts:[[1,"main"],[1,"settingscontainer"],[1,"shapes"],[1,"shape",3,"click"],["d","M 25,0 a 25,25 0 1,0 50,0 a 25,25 0 1,0 -50,0","fill","var(--secondary-color)"],["d","M 5,5 L 45,5 L 45,45 L 5,45 Z","fill","var(--secondary-color)"],["d","M 25,5 L 5,45 L 45,45 Z","fill","var(--secondary-color)"],["d","M 25,5 L 5,20 L 10,45 L 40,45 L 45,20 Z","fill","var(--secondary-color)"],["d","M 25,5 L 5,20 L 5,40 L 25,55 L 45,40 L 45,20 Z","fill","var(--secondary-color)"],["d","M 25,5 L 31,18 L 45,20 L 34,30 L 37,45 L 25,38 L 13,45 L 16,30 L 5,20 L 19,18 Z","fill","var(--secondary-color)"],[3,"click"],[1,"workspace"],[1,"glyphs"],["class","lettersvg",4,"ngFor","ngForOf"],[1,"lettersvg"],[1,"glyph-label"]],template:function(n,r){n&1&&(_(0,"div",0)(1,"div",1)(2,"h3"),F(3,"Grundformen"),S(),_(4,"div",2),st(),_(5,"svg",3),z("click",function(){return r.selectShape("circle")}),te(6,"path",4),S(),_(7,"svg",3),z("click",function(){return r.selectShape("rect")}),te(8,"path",5),S(),_(9,"svg",3),z("click",function(){return r.selectShape("triangle")}),te(10,"path",6),S(),_(11,"svg",3),z("click",function(){return r.selectShape("pentagon")}),te(12,"path",7),S(),_(13,"svg",3),z("click",function(){return r.selectShape("hexagon")}),te(14,"path",8),S(),_(15,"svg",3),z("click",function(){return r.selectShape("star")}),te(16,"path",9),S(),gr(),_(17,"button",10),z("click",function(){return r.downloadOTF()}),F(18,"Download OTF"),S()()(),_(19,"div",11)(20,"div",12),Je(21,i4,4,2,"div",13),S()()()),n&2&&(N(21),se("ngForOf",r.glyphs))},dependencies:[pt,yr],styles:[".shapes[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;width:100%;height:100%}.shape[_ngcontent-%COMP%]{width:100%;height:auto;cursor:pointer;transition:transform .2s ease-in-out}.shape[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.glyphs[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap}.glyph-label[_ngcontent-%COMP%]{font-size:16px;font-weight:700;margin-bottom:5px}svg[_ngcontent-%COMP%]{width:100%;height:100%;border-top:1px solid var(--secondary-color);cursor:pointer;overflow:visible}"]})};var o4=["smallCanvas"],s4=["largeCanvas"],a4=["drawingArea"],l4=["rectangleGrid"],Df=class t{smallCanvasRef;largeCanvasRef;drawingAreaRef;rectangleGridRef;drawingPath="";isDrawing=!1;isDrawingLarge=!1;numRows=10;numCols=10;gridSize=20;pathElement=null;listenersAdded=!1;ngAfterViewInit(){this.listenersAdded||(this.setupEventListeners(),this.listenersAdded=!0),this.drawRectangleGrid()}setupEventListeners(){let e=this.smallCanvasRef.nativeElement;e.addEventListener("mousedown",r=>this.startDrawing(r)),e.addEventListener("mousemove",r=>this.draw(r)),window.addEventListener("mouseup",()=>this.stopDrawing());let n=this.largeCanvasRef.nativeElement;n.addEventListener("mousedown",r=>this.startLargeDrawing(r)),n.addEventListener("mousemove",r=>this.drawLarge(r)),window.addEventListener("mouseup",()=>this.stopLargeDrawing())}startDrawing(e){this.isDrawing=!0;let[n,r]=this.getMousePosition(e,this.smallCanvasRef.nativeElement),[i,o]=this.shouldSnapToGrid()?this.snapToGrid(n,r):[n,r];this.pathElement=document.createElementNS("http://www.w3.org/2000/svg","path"),this.pathElement.setAttribute("d",`M${i},${o}`),this.pathElement.setAttribute("stroke","var(--secondary-color)"),this.pathElement.setAttribute("stroke-width","2"),this.pathElement.setAttribute("fill","none"),this.drawingAreaRef.nativeElement.appendChild(this.pathElement)}draw(e){if(!this.isDrawing||!this.pathElement)return;let[n,r]=this.getMousePosition(e,this.smallCanvasRef.nativeElement),[i,o]=this.shouldSnapToGrid()?this.snapToGrid(n,r):[n,r],s=this.pathElement.getAttribute("d")+` L${i},${o}`;this.pathElement.setAttribute("d",s)}stopDrawing(){this.isDrawing=!1,this.pathElement&&(this.drawingPath=this.pathElement.getAttribute("d")||"",this.pathElement=null)}getMousePosition(e,n){let r=n.getBoundingClientRect();return[e.clientX-r.left,e.clientY-r.top]}snapToGrid(e,n){let r=this.smallCanvasRef.nativeElement.width.baseVal.value,i=this.smallCanvasRef.nativeElement.height.baseVal.value,o=r/this.numCols,s=i/this.numRows,a=Math.round(e/o)*o,l=Math.round(n/s)*s;return[a,l]}shouldSnapToGrid(){return this.rectangleGridRef.nativeElement.style.visibility==="visible"}drawRectangleGrid(){let e=this.rectangleGridRef.nativeElement;e.innerHTML="";let n=this.smallCanvasRef.nativeElement.width.baseVal.value,r=this.smallCanvasRef.nativeElement.height.baseVal.value;for(let i=0;i<=this.numRows;i++){let o=i*r/this.numRows,s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1","0"),s.setAttribute("y1",o.toString()),s.setAttribute("x2",n.toString()),s.setAttribute("y2",o.toString()),s.setAttribute("stroke","#ccc"),s.setAttribute("stroke-width","1"),e.appendChild(s)}for(let i=0;i<=this.numCols;i++){let o=i*n/this.numCols,s=document.createElementNS("http://www.w3.org/2000/svg","line");s.setAttribute("x1",o.toString()),s.setAttribute("y1","0"),s.setAttribute("x2",o.toString()),s.setAttribute("y2",r.toString()),s.setAttribute("stroke","#ccc"),s.setAttribute("stroke-width","1"),e.appendChild(s)}}toggleGrid(){let e=this.rectangleGridRef.nativeElement;e.style.visibility=e.style.visibility==="visible"?"hidden":"visible",this.drawRectangleGrid()}startLargeDrawing(e){if(!this.drawingPath)return;this.isDrawingLarge=!0;let[n,r]=this.getMousePosition(e,this.largeCanvasRef.nativeElement);this.drawRepeatedPattern(n,r)}drawLarge(e){if(!this.isDrawingLarge)return;let[n,r]=this.getMousePosition(e,this.largeCanvasRef.nativeElement);this.drawRepeatedPattern(n,r)}stopLargeDrawing(){this.isDrawingLarge=!1}drawRepeatedPattern(e,n){let r=this.largeCanvasRef.nativeElement,i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d",this.drawingPath),i.setAttribute("stroke","var(--secondary-color)"),i.setAttribute("stroke-width","2"),i.setAttribute("fill","none"),i.setAttribute("transform",`translate(${e}, ${n})`),r.appendChild(i)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ve({type:t,selectors:[["app-customBrush"]],viewQuery:function(n,r){if(n&1&&(Dt(o4,5),Dt(s4,5),Dt(a4,5),Dt(l4,5)),n&2){let i;ft(i=ht())&&(r.smallCanvasRef=i.first),ft(i=ht())&&(r.largeCanvasRef=i.first),ft(i=ht())&&(r.drawingAreaRef=i.first),ft(i=ht())&&(r.rectangleGridRef=i.first)}},decls:19,vars:2,consts:[["smallCanvas",""],["rectangleGrid",""],["drawingArea",""],["largeCanvas",""],[1,"main"],[1,"settingscontainer"],["id","smallCanvas",1,"settingsdrawingcanvas"],[1,"grid",2,"height","100%","width","100%"],["for","rowsInput"],["type","number","id","rowsInput",3,"ngModelChange","input","ngModel"],["for","columnsInput"],["type","number","id","columnsInput",3,"ngModelChange","input","ngModel"],[3,"click"],[1,"workspace"],["id","largeCanvas"]],template:function(n,r){if(n&1){let i=lt();_(0,"div",4)(1,"div",5),st(),_(2,"svg",6,0),te(4,"g",7,1)(6,"g",null,2),S(),gr(),_(8,"label",8),F(9,"Zeilen: "),S(),_(10,"input",9),tt("ngModelChange",function(s){return G(i),rt(r.numRows,s)||(r.numRows=s),$(s)}),z("input",function(){return G(i),$(r.drawRectangleGrid())}),S(),_(11,"label",10),F(12,"Spalten: "),S(),_(13,"input",11),tt("ngModelChange",function(s){return G(i),rt(r.numCols,s)||(r.numCols=s),$(s)}),z("input",function(){return G(i),$(r.drawRectangleGrid())}),S(),_(14,"button",12),z("click",function(){return G(i),$(r.toggleGrid())}),F(15,"Toggle Grid"),S()(),_(16,"div",13),st(),te(17,"svg",14,3),S()()}n&2&&(N(10),et("ngModel",r.numRows),N(3),et("ngModel",r.numCols))},dependencies:[pt,dn,un,wl,cn,Tn],styles:["#largeCanvas[_ngcontent-%COMP%]{width:100%;height:100%}"]})};var Ue=11102230246251565e-32,xt=134217729,Gl=(3+8*Ue)*Ue;function jo(t,e,n,r,i){let o,s,a,l,u=e[0],c=r[0],d=0,f=0;c>u==c>-u?(o=u,u=e[++d]):(o=c,c=r[++f]);let h=0;if(d<t&&f<n)for(c>u==c>-u?(s=u+o,a=o-(s-u),u=e[++d]):(s=c+o,a=o-(s-c),c=r[++f]),o=s,a!==0&&(i[h++]=a);d<t&&f<n;)c>u==c>-u?(s=o+u,l=s-o,a=o-(s-l)+(u-l),u=e[++d]):(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++f]),o=s,a!==0&&(i[h++]=a);for(;d<t;)s=o+u,l=s-o,a=o-(s-l)+(u-l),u=e[++d],o=s,a!==0&&(i[h++]=a);for(;f<n;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=r[++f],o=s,a!==0&&(i[h++]=a);return(o!==0||h===0)&&(i[h++]=o),h}function $l(t,e){let n=e[0];for(let r=1;r<t;r++)n+=e[r];return n}function k(t){return new Float64Array(t)}var u4=(3+16*Ue)*Ue,c4=(2+12*Ue)*Ue,d4=(9+64*Ue)*Ue*Ue,ga=k(4),TS=k(8),IS=k(12),AS=k(16),en=k(4);function f4(t,e,n,r,i,o,s){let a,l,u,c,d,f,h,v,y,C,E,T,x,P,I,B,V,R,L=t-i,ee=n-i,J=e-o,ie=r-o;P=L*ie,f=xt*L,h=f-(f-L),v=L-h,f=xt*ie,y=f-(f-ie),C=ie-y,I=v*C-(P-h*y-v*y-h*C),B=J*ee,f=xt*J,h=f-(f-J),v=J-h,f=xt*ee,y=f-(f-ee),C=ee-y,V=v*C-(B-h*y-v*y-h*C),E=I-V,d=I-E,ga[0]=I-(E+d)+(d-V),T=P+E,d=T-P,x=P-(T-d)+(E-d),E=x-B,d=x-E,ga[1]=x-(E+d)+(d-B),R=T+E,d=R-T,ga[2]=T-(R-d)+(E-d),ga[3]=R;let Ee=$l(4,ga),he=c4*s;if(Ee>=he||-Ee>=he||(d=t-L,a=t-(L+d)+(d-i),d=n-ee,u=n-(ee+d)+(d-i),d=e-J,l=e-(J+d)+(d-o),d=r-ie,c=r-(ie+d)+(d-o),a===0&&l===0&&u===0&&c===0)||(he=d4*s+Gl*Math.abs(Ee),Ee+=L*c+ie*a-(J*u+ee*l),Ee>=he||-Ee>=he))return Ee;P=a*ie,f=xt*a,h=f-(f-a),v=a-h,f=xt*ie,y=f-(f-ie),C=ie-y,I=v*C-(P-h*y-v*y-h*C),B=l*ee,f=xt*l,h=f-(f-l),v=l-h,f=xt*ee,y=f-(f-ee),C=ee-y,V=v*C-(B-h*y-v*y-h*C),E=I-V,d=I-E,en[0]=I-(E+d)+(d-V),T=P+E,d=T-P,x=P-(T-d)+(E-d),E=x-B,d=x-E,en[1]=x-(E+d)+(d-B),R=T+E,d=R-T,en[2]=T-(R-d)+(E-d),en[3]=R;let _e=jo(4,ga,4,en,TS);P=L*c,f=xt*L,h=f-(f-L),v=L-h,f=xt*c,y=f-(f-c),C=c-y,I=v*C-(P-h*y-v*y-h*C),B=J*u,f=xt*J,h=f-(f-J),v=J-h,f=xt*u,y=f-(f-u),C=u-y,V=v*C-(B-h*y-v*y-h*C),E=I-V,d=I-E,en[0]=I-(E+d)+(d-V),T=P+E,d=T-P,x=P-(T-d)+(E-d),E=x-B,d=x-E,en[1]=x-(E+d)+(d-B),R=T+E,d=R-T,en[2]=T-(R-d)+(E-d),en[3]=R;let Z=jo(_e,TS,4,en,IS);P=a*c,f=xt*a,h=f-(f-a),v=a-h,f=xt*c,y=f-(f-c),C=c-y,I=v*C-(P-h*y-v*y-h*C),B=l*u,f=xt*l,h=f-(f-l),v=l-h,f=xt*u,y=f-(f-u),C=u-y,V=v*C-(B-h*y-v*y-h*C),E=I-V,d=I-E,en[0]=I-(E+d)+(d-V),T=P+E,d=T-P,x=P-(T-d)+(E-d),E=x-B,d=x-E,en[1]=x-(E+d)+(d-B),R=T+E,d=R-T,en[2]=T-(R-d)+(E-d),en[3]=R;let ve=jo(Z,IS,4,en,AS);return AS[ve-1]}function ma(t,e,n,r,i,o){let s=(e-o)*(n-i),a=(t-i)*(r-o),l=s-a,u=Math.abs(s+a);return Math.abs(l)>=u4*u?l:-f4(t,e,n,r,i,o,u)}var HJ=(7+56*Ue)*Ue,GJ=(3+28*Ue)*Ue,$J=(26+288*Ue)*Ue*Ue,zJ=k(4),WJ=k(4),qJ=k(4),YJ=k(4),QJ=k(4),ZJ=k(4),XJ=k(4),KJ=k(4),JJ=k(4),eee=k(8),tee=k(8),nee=k(8),ree=k(4),iee=k(8),oee=k(8),see=k(8),aee=k(12),lee=k(192),uee=k(192);var fee=(10+96*Ue)*Ue,hee=(4+48*Ue)*Ue,pee=(44+576*Ue)*Ue*Ue,gee=k(4),mee=k(4),vee=k(4),yee=k(4),wee=k(4),bee=k(4),Cee=k(4),Eee=k(4),Dee=k(8),xee=k(8),_ee=k(8),See=k(8),Mee=k(8),Tee=k(8),Iee=k(8),Aee=k(8),Nee=k(8),Ree=k(4),kee=k(4),Oee=k(4),Fee=k(8),Pee=k(16),Lee=k(16),Vee=k(16),Uee=k(32),Bee=k(32),jee=k(48),Hee=k(64),Gee=k(1152),$ee=k(1152);var Yee=(16+224*Ue)*Ue,Qee=(5+72*Ue)*Ue,Zee=(71+1408*Ue)*Ue*Ue,Xee=k(4),Kee=k(4),Jee=k(4),ete=k(4),tte=k(4),nte=k(4),rte=k(4),ite=k(4),ote=k(4),ste=k(4),ate=k(24),lte=k(24),ute=k(24),cte=k(24),dte=k(24),fte=k(24),hte=k(24),pte=k(24),gte=k(24),mte=k(24),vte=k(1152),yte=k(1152),wte=k(1152),bte=k(1152),Cte=k(1152),Ete=k(2304),Dte=k(2304),xte=k(3456),_te=k(5760),Ste=k(8),Mte=k(8),Tte=k(8),Ite=k(16),Ate=k(24),Nte=k(48),Rte=k(48),kte=k(96),Ote=k(192),Fte=k(384),Pte=k(384),Lte=k(384),Vte=k(768);var Ute=k(96),Bte=k(96),jte=k(96),Hte=k(1152);var RS=Math.pow(2,-52),xf=new Uint32Array(512),Wl=class t{static from(e,n=y4,r=w4){let i=e.length,o=new Float64Array(i*2);for(let s=0;s<i;s++){let a=e[s];o[2*s]=n(a),o[2*s+1]=r(a)}return new t(o)}constructor(e){let n=e.length>>1;if(n>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;let r=Math.max(2*n-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){let{coords:e,_hullPrev:n,_hullNext:r,_hullTri:i,_hullHash:o}=this,s=e.length>>1,a=1/0,l=1/0,u=-1/0,c=-1/0;for(let L=0;L<s;L++){let ee=e[2*L],J=e[2*L+1];ee<a&&(a=ee),J<l&&(l=J),ee>u&&(u=ee),J>c&&(c=J),this._ids[L]=L}let d=(a+u)/2,f=(l+c)/2,h,v,y;for(let L=0,ee=1/0;L<s;L++){let J=zv(d,f,e[2*L],e[2*L+1]);J<ee&&(h=L,ee=J)}let C=e[2*h],E=e[2*h+1];for(let L=0,ee=1/0;L<s;L++){if(L===h)continue;let J=zv(C,E,e[2*L],e[2*L+1]);J<ee&&J>0&&(v=L,ee=J)}let T=e[2*v],x=e[2*v+1],P=1/0;for(let L=0;L<s;L++){if(L===h||L===v)continue;let ee=m4(C,E,T,x,e[2*L],e[2*L+1]);ee<P&&(y=L,P=ee)}let I=e[2*y],B=e[2*y+1];if(P===1/0){for(let J=0;J<s;J++)this._dists[J]=e[2*J]-e[0]||e[2*J+1]-e[1];va(this._ids,this._dists,0,s-1);let L=new Uint32Array(s),ee=0;for(let J=0,ie=-1/0;J<s;J++){let Ee=this._ids[J],he=this._dists[Ee];he>ie&&(L[ee++]=Ee,ie=he)}this.hull=L.subarray(0,ee),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(ma(C,E,T,x,I,B)<0){let L=v,ee=T,J=x;v=y,T=I,x=B,y=L,I=ee,B=J}let V=v4(C,E,T,x,I,B);this._cx=V.x,this._cy=V.y;for(let L=0;L<s;L++)this._dists[L]=zv(e[2*L],e[2*L+1],V.x,V.y);va(this._ids,this._dists,0,s-1),this._hullStart=h;let R=3;r[h]=n[y]=v,r[v]=n[h]=y,r[y]=n[v]=h,i[h]=0,i[v]=1,i[y]=2,o.fill(-1),o[this._hashKey(C,E)]=h,o[this._hashKey(T,x)]=v,o[this._hashKey(I,B)]=y,this.trianglesLen=0,this._addTriangle(h,v,y,-1,-1,-1);for(let L=0,ee,J;L<this._ids.length;L++){let ie=this._ids[L],Ee=e[2*ie],he=e[2*ie+1];if(L>0&&Math.abs(Ee-ee)<=RS&&Math.abs(he-J)<=RS||(ee=Ee,J=he,ie===h||ie===v||ie===y))continue;let _e=0;for(let qe=0,Me=this._hashKey(Ee,he);qe<this._hashSize&&(_e=o[(Me+qe)%this._hashSize],!(_e!==-1&&_e!==r[_e]));qe++);_e=n[_e];let Z=_e,ve;for(;ve=r[Z],ma(Ee,he,e[2*Z],e[2*Z+1],e[2*ve],e[2*ve+1])>=0;)if(Z=ve,Z===_e){Z=-1;break}if(Z===-1)continue;let Fe=this._addTriangle(Z,ie,r[Z],-1,-1,i[Z]);i[ie]=this._legalize(Fe+2),i[Z]=Fe,R++;let Se=r[Z];for(;ve=r[Se],ma(Ee,he,e[2*Se],e[2*Se+1],e[2*ve],e[2*ve+1])<0;)Fe=this._addTriangle(Se,ie,ve,i[ie],-1,i[Se]),i[ie]=this._legalize(Fe+2),r[Se]=Se,R--,Se=ve;if(Z===_e)for(;ve=n[Z],ma(Ee,he,e[2*ve],e[2*ve+1],e[2*Z],e[2*Z+1])<0;)Fe=this._addTriangle(ve,ie,Z,-1,i[Z],i[ve]),this._legalize(Fe+2),i[ve]=Fe,r[Z]=Z,R--,Z=ve;this._hullStart=n[ie]=Z,r[Z]=n[Se]=ie,r[ie]=Se,o[this._hashKey(Ee,he)]=ie,o[this._hashKey(e[2*Z],e[2*Z+1])]=Z}this.hull=new Uint32Array(R);for(let L=0,ee=this._hullStart;L<R;L++)this.hull[L]=ee,ee=r[ee];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,n){return Math.floor(p4(e-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(e){let{_triangles:n,_halfedges:r,coords:i}=this,o=0,s=0;for(;;){let a=r[e],l=e-e%3;if(s=l+(e+2)%3,a===-1){if(o===0)break;e=xf[--o];continue}let u=a-a%3,c=l+(e+1)%3,d=u+(a+2)%3,f=n[s],h=n[e],v=n[c],y=n[d];if(g4(i[2*f],i[2*f+1],i[2*h],i[2*h+1],i[2*v],i[2*v+1],i[2*y],i[2*y+1])){n[e]=y,n[a]=f;let E=r[d];if(E===-1){let x=this._hullStart;do{if(this._hullTri[x]===d){this._hullTri[x]=e;break}x=this._hullPrev[x]}while(x!==this._hullStart)}this._link(e,E),this._link(a,r[s]),this._link(s,d);let T=u+(a+1)%3;o<xf.length&&(xf[o++]=T)}else{if(o===0)break;e=xf[--o]}}return s}_link(e,n){this._halfedges[e]=n,n!==-1&&(this._halfedges[n]=e)}_addTriangle(e,n,r,i,o,s){let a=this.trianglesLen;return this._triangles[a]=e,this._triangles[a+1]=n,this._triangles[a+2]=r,this._link(a,i),this._link(a+1,o),this._link(a+2,s),this.trianglesLen+=3,a}};function p4(t,e){let n=t/(Math.abs(t)+Math.abs(e));return(e>0?3-n:1+n)/4}function zv(t,e,n,r){let i=t-n,o=e-r;return i*i+o*o}function g4(t,e,n,r,i,o,s,a){let l=t-s,u=e-a,c=n-s,d=r-a,f=i-s,h=o-a,v=l*l+u*u,y=c*c+d*d,C=f*f+h*h;return l*(d*C-y*h)-u*(c*C-y*f)+v*(c*h-d*f)<0}function m4(t,e,n,r,i,o){let s=n-t,a=r-e,l=i-t,u=o-e,c=s*s+a*a,d=l*l+u*u,f=.5/(s*u-a*l),h=(u*c-a*d)*f,v=(s*d-l*c)*f;return h*h+v*v}function v4(t,e,n,r,i,o){let s=n-t,a=r-e,l=i-t,u=o-e,c=s*s+a*a,d=l*l+u*u,f=.5/(s*u-a*l),h=t+(u*c-a*d)*f,v=e+(s*d-l*c)*f;return{x:h,y:v}}function va(t,e,n,r){if(r-n<=20)for(let i=n+1;i<=r;i++){let o=t[i],s=e[o],a=i-1;for(;a>=n&&e[t[a]]>s;)t[a+1]=t[a--];t[a+1]=o}else{let i=n+r>>1,o=n+1,s=r;zl(t,i,o),e[t[n]]>e[t[r]]&&zl(t,n,r),e[t[o]]>e[t[r]]&&zl(t,o,r),e[t[n]]>e[t[o]]&&zl(t,n,o);let a=t[o],l=e[a];for(;;){do o++;while(e[t[o]]<l);do s--;while(e[t[s]]>l);if(s<o)break;zl(t,o,s)}t[n+1]=t[s],t[s]=a,r-o+1>=s-n?(va(t,e,o,r),va(t,e,n,s-1)):(va(t,e,n,s-1),va(t,e,o,r))}}function zl(t,e,n){let r=t[e];t[e]=t[n],t[n]=r}function y4(t){return t[0]}function w4(t){return t[1]}var sr=class{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,n){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,n){this._+=`L${this._x1=+e},${this._y1=+n}`}arc(e,n,r){e=+e,n=+n,r=+r;let i=e+r,o=n;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${o}`:(Math.abs(this._x1-i)>1e-6||Math.abs(this._y1-o)>1e-6)&&(this._+="L"+i+","+o),r&&(this._+=`A${r},${r},0,1,1,${e-r},${n}A${r},${r},0,1,1,${this._x1=i},${this._y1=o}`)}rect(e,n,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${+r}v${+i}h${-r}Z`}value(){return this._||null}};var Ho=class{constructor(){this._=[]}moveTo(e,n){this._.push([e,n])}closePath(){this._.push(this._[0].slice())}lineTo(e,n){this._.push([e,n])}value(){return this._.length?this._:null}};var _f=class{constructor(e,[n,r,i,o]=[0,0,960,500]){if(!((i=+i)>=(n=+n))||!((o=+o)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=n,this.ymax=o,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){let{delaunay:{points:e,hull:n,triangles:r},vectors:i}=this,o,s,a=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let y=0,C=0,E=r.length,T,x;y<E;y+=3,C+=2){let P=r[y]*2,I=r[y+1]*2,B=r[y+2]*2,V=e[P],R=e[P+1],L=e[I],ee=e[I+1],J=e[B],ie=e[B+1],Ee=L-V,he=ee-R,_e=J-V,Z=ie-R,ve=(Ee*Z-he*_e)*2;if(Math.abs(ve)<1e-9){if(o===void 0){o=s=0;for(let Se of n)o+=e[Se*2],s+=e[Se*2+1];o/=n.length,s/=n.length}let Fe=1e9*Math.sign((o-V)*Z-(s-R)*_e);T=(V+J)/2-Fe*Z,x=(R+ie)/2+Fe*_e}else{let Fe=1/ve,Se=Ee*Ee+he*he,qe=_e*_e+Z*Z;T=V+(Z*Se-he*qe)*Fe,x=R+(Ee*qe-_e*Se)*Fe}a[C]=T,a[C+1]=x}let l=n[n.length-1],u,c=l*4,d,f=e[2*l],h,v=e[2*l+1];i.fill(0);for(let y=0;y<n.length;++y)l=n[y],u=c,d=f,h=v,c=l*4,f=e[2*l],v=e[2*l+1],i[u+2]=i[c]=h-v,i[u+3]=i[c+1]=f-d}render(e){let n=e==null?e=new sr:void 0,{delaunay:{halfedges:r,inedges:i,hull:o},circumcenters:s,vectors:a}=this;if(o.length<=1)return null;for(let c=0,d=r.length;c<d;++c){let f=r[c];if(f<c)continue;let h=Math.floor(c/3)*2,v=Math.floor(f/3)*2,y=s[h],C=s[h+1],E=s[v],T=s[v+1];this._renderSegment(y,C,E,T,e)}let l,u=o[o.length-1];for(let c=0;c<o.length;++c){l=u,u=o[c];let d=Math.floor(i[u]/3)*2,f=s[d],h=s[d+1],v=l*4,y=this._project(f,h,a[v+2],a[v+3]);y&&this._renderSegment(f,h,y[0],y[1],e)}return n&&n.value()}renderBounds(e){let n=e==null?e=new sr:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(e,n){let r=n==null?n=new sr:void 0,i=this._clip(e);if(i===null||!i.length)return;n.moveTo(i[0],i[1]);let o=i.length;for(;i[0]===i[o-2]&&i[1]===i[o-1]&&o>1;)o-=2;for(let s=2;s<o;s+=2)(i[s]!==i[s-2]||i[s+1]!==i[s-1])&&n.lineTo(i[s],i[s+1]);return n.closePath(),r&&r.value()}*cellPolygons(){let{delaunay:{points:e}}=this;for(let n=0,r=e.length/2;n<r;++n){let i=this.cellPolygon(n);i&&(i.index=n,yield i)}}cellPolygon(e){let n=new Ho;return this.renderCell(e,n),n.value()}_renderSegment(e,n,r,i,o){let s,a=this._regioncode(e,n),l=this._regioncode(r,i);a===0&&l===0?(o.moveTo(e,n),o.lineTo(r,i)):(s=this._clipSegment(e,n,r,i,a,l))&&(o.moveTo(s[0],s[1]),o.lineTo(s[2],s[3]))}contains(e,n,r){return n=+n,n!==n||(r=+r,r!==r)?!1:this.delaunay._step(e,n,r)===e}*neighbors(e){let n=this._clip(e);if(n)for(let r of this.delaunay.neighbors(e)){let i=this._clip(r);if(i){e:for(let o=0,s=n.length;o<s;o+=2)for(let a=0,l=i.length;a<l;a+=2)if(n[o]===i[a]&&n[o+1]===i[a+1]&&n[(o+2)%s]===i[(a+l-2)%l]&&n[(o+3)%s]===i[(a+l-1)%l]){yield r;break e}}}}_cell(e){let{circumcenters:n,delaunay:{inedges:r,halfedges:i,triangles:o}}=this,s=r[e];if(s===-1)return null;let a=[],l=s;do{let u=Math.floor(l/3);if(a.push(n[u*2],n[u*2+1]),l=l%3===2?l-2:l+1,o[l]!==e)break;l=i[l]}while(l!==s&&l!==-1);return a}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];let n=this._cell(e);if(n===null)return null;let{vectors:r}=this,i=e*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(e,n,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,n))}_clipFinite(e,n){let r=n.length,i=null,o,s,a=n[r-2],l=n[r-1],u,c=this._regioncode(a,l),d,f=0;for(let h=0;h<r;h+=2)if(o=a,s=l,a=n[h],l=n[h+1],u=c,c=this._regioncode(a,l),u===0&&c===0)d=f,f=0,i?i.push(a,l):i=[a,l];else{let v,y,C,E,T;if(u===0){if((v=this._clipSegment(o,s,a,l,u,c))===null)continue;[y,C,E,T]=v}else{if((v=this._clipSegment(a,l,o,s,c,u))===null)continue;[E,T,y,C]=v,d=f,f=this._edgecode(y,C),d&&f&&this._edge(e,d,f,i,i.length),i?i.push(y,C):i=[y,C]}d=f,f=this._edgecode(E,T),d&&f&&this._edge(e,d,f,i,i.length),i?i.push(E,T):i=[E,T]}if(i)d=f,f=this._edgecode(i[0],i[1]),d&&f&&this._edge(e,d,f,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,n,r,i,o,s){let a=o<s;for(a&&([e,n,r,i,o,s]=[r,i,e,n,s,o]);;){if(o===0&&s===0)return a?[r,i,e,n]:[e,n,r,i];if(o&s)return null;let l,u,c=o||s;c&8?(l=e+(r-e)*(this.ymax-n)/(i-n),u=this.ymax):c&4?(l=e+(r-e)*(this.ymin-n)/(i-n),u=this.ymin):c&2?(u=n+(i-n)*(this.xmax-e)/(r-e),l=this.xmax):(u=n+(i-n)*(this.xmin-e)/(r-e),l=this.xmin),o?(e=l,n=u,o=this._regioncode(e,n)):(r=l,i=u,s=this._regioncode(r,i))}}_clipInfinite(e,n,r,i,o,s){let a=Array.from(n),l;if((l=this._project(a[0],a[1],r,i))&&a.unshift(l[0],l[1]),(l=this._project(a[a.length-2],a[a.length-1],o,s))&&a.push(l[0],l[1]),a=this._clipFinite(e,a))for(let u=0,c=a.length,d,f=this._edgecode(a[c-2],a[c-1]);u<c;u+=2)d=f,f=this._edgecode(a[u],a[u+1]),d&&f&&(u=this._edge(e,d,f,a,u),c=a.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(e,n,r,i,o){for(;n!==r;){let s,a;switch(n){case 5:n=4;continue;case 4:n=6,s=this.xmax,a=this.ymin;break;case 6:n=2;continue;case 2:n=10,s=this.xmax,a=this.ymax;break;case 10:n=8;continue;case 8:n=9,s=this.xmin,a=this.ymax;break;case 9:n=1;continue;case 1:n=5,s=this.xmin,a=this.ymin;break}(i[o]!==s||i[o+1]!==a)&&this.contains(e,s,a)&&(i.splice(o,0,s,a),o+=2)}return o}_project(e,n,r,i){let o=1/0,s,a,l;if(i<0){if(n<=this.ymin)return null;(s=(this.ymin-n)/i)<o&&(l=this.ymin,a=e+(o=s)*r)}else if(i>0){if(n>=this.ymax)return null;(s=(this.ymax-n)/i)<o&&(l=this.ymax,a=e+(o=s)*r)}if(r>0){if(e>=this.xmax)return null;(s=(this.xmax-e)/r)<o&&(a=this.xmax,l=n+(o=s)*i)}else if(r<0){if(e<=this.xmin)return null;(s=(this.xmin-e)/r)<o&&(a=this.xmin,l=n+(o=s)*i)}return[a,l]}_edgecode(e,n){return(e===this.xmin?1:e===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(e,n){return(e<this.xmin?1:e>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let n=0;n<e.length;n+=2){let r=(n+2)%e.length,i=(n+4)%e.length;(e[n]===e[r]&&e[r]===e[i]||e[n+1]===e[r+1]&&e[r+1]===e[i+1])&&(e.splice(r,2),n-=2)}e.length||(e=null)}return e}};var b4=2*Math.PI,ya=Math.pow;function C4(t){return t[0]}function E4(t){return t[1]}function D4(t){let{triangles:e,coords:n}=t;for(let r=0;r<e.length;r+=3){let i=2*e[r],o=2*e[r+1],s=2*e[r+2];if((n[s]-n[i])*(n[o+1]-n[i+1])-(n[o]-n[i])*(n[s+1]-n[i+1])>1e-10)return!1}return!0}function x4(t,e,n){return[t+Math.sin(t+e)*n,e+Math.cos(t-e)*n]}var ql=class t{static from(e,n=C4,r=E4,i){return new t("length"in e?_4(e,n,r,i):Float64Array.from(S4(e,n,r,i)))}constructor(e){this._delaunator=new Wl(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){let e=this._delaunator,n=this.points;if(e.hull&&e.hull.length>2&&D4(e)){this.collinear=Int32Array.from({length:n.length/2},(f,h)=>h).sort((f,h)=>n[2*f]-n[2*h]||n[2*f+1]-n[2*h+1]);let l=this.collinear[0],u=this.collinear[this.collinear.length-1],c=[n[2*l],n[2*l+1],n[2*u],n[2*u+1]],d=1e-8*Math.hypot(c[3]-c[1],c[2]-c[0]);for(let f=0,h=n.length/2;f<h;++f){let v=x4(n[2*f],n[2*f+1],d);n[2*f]=v[0],n[2*f+1]=v[1]}this._delaunator=new Wl(n)}else delete this.collinear;let r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,o=this.triangles=this._delaunator.triangles,s=this.inedges.fill(-1),a=this._hullIndex.fill(-1);for(let l=0,u=r.length;l<u;++l){let c=o[l%3===2?l-2:l+1];(r[l]===-1||s[c]===-1)&&(s[c]=l)}for(let l=0,u=i.length;l<u;++l)a[i[l]]=l;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],s[i[0]]=1,i.length===2&&(s[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new _f(this,e)}*neighbors(e){let{inedges:n,hull:r,_hullIndex:i,halfedges:o,triangles:s,collinear:a}=this;if(a){let d=a.indexOf(e);d>0&&(yield a[d-1]),d<a.length-1&&(yield a[d+1]);return}let l=n[e];if(l===-1)return;let u=l,c=-1;do{if(yield c=s[u],u=u%3===2?u-2:u+1,s[u]!==e)return;if(u=o[u],u===-1){let d=r[(i[e]+1)%r.length];d!==c&&(yield d);return}}while(u!==l)}find(e,n,r=0){if(e=+e,e!==e||(n=+n,n!==n))return-1;let i=r,o;for(;(o=this._step(r,e,n))>=0&&o!==r&&o!==i;)r=o;return o}_step(e,n,r){let{inedges:i,hull:o,_hullIndex:s,halfedges:a,triangles:l,points:u}=this;if(i[e]===-1||!u.length)return(e+1)%(u.length>>1);let c=e,d=ya(n-u[e*2],2)+ya(r-u[e*2+1],2),f=i[e],h=f;do{let v=l[h],y=ya(n-u[v*2],2)+ya(r-u[v*2+1],2);if(y<d&&(d=y,c=v),h=h%3===2?h-2:h+1,l[h]!==e)break;if(h=a[h],h===-1){if(h=o[(s[e]+1)%o.length],h!==v&&ya(n-u[h*2],2)+ya(r-u[h*2+1],2)<d)return h;break}}while(h!==f);return c}render(e){let n=e==null?e=new sr:void 0,{points:r,halfedges:i,triangles:o}=this;for(let s=0,a=i.length;s<a;++s){let l=i[s];if(l<s)continue;let u=o[s]*2,c=o[l]*2;e.moveTo(r[u],r[u+1]),e.lineTo(r[c],r[c+1])}return this.renderHull(e),n&&n.value()}renderPoints(e,n){n===void 0&&(!e||typeof e.moveTo!="function")&&(n=e,e=null),n=n==null?2:+n;let r=e==null?e=new sr:void 0,{points:i}=this;for(let o=0,s=i.length;o<s;o+=2){let a=i[o],l=i[o+1];e.moveTo(a+n,l),e.arc(a,l,n,0,b4)}return r&&r.value()}renderHull(e){let n=e==null?e=new sr:void 0,{hull:r,points:i}=this,o=r[0]*2,s=r.length;e.moveTo(i[o],i[o+1]);for(let a=1;a<s;++a){let l=2*r[a];e.lineTo(i[l],i[l+1])}return e.closePath(),n&&n.value()}hullPolygon(){let e=new Ho;return this.renderHull(e),e.value()}renderTriangle(e,n){let r=n==null?n=new sr:void 0,{points:i,triangles:o}=this,s=o[e*=3]*2,a=o[e+1]*2,l=o[e+2]*2;return n.moveTo(i[s],i[s+1]),n.lineTo(i[a],i[a+1]),n.lineTo(i[l],i[l+1]),n.closePath(),r&&r.value()}*trianglePolygons(){let{triangles:e}=this;for(let n=0,r=e.length/3;n<r;++n)yield this.trianglePolygon(n)}trianglePolygon(e){let n=new Ho;return this.renderTriangle(e,n),n.value()}};function _4(t,e,n,r){let i=t.length,o=new Float64Array(i*2);for(let s=0;s<i;++s){let a=t[s];o[s*2]=e.call(r,a,s,t),o[s*2+1]=n.call(r,a,s,t)}return o}function*S4(t,e,n,r){let i=0;for(let o of t)yield e.call(r,o,i,t),yield n.call(r,o,i,t),++i}var M4=["svgCanvas"],Sf=class t{svgCanvas;points=[];strokeColor="var(--secondary-color)";_strokeWidth=2;_strokeStyle="solid";get strokeWidth(){return this._strokeWidth}set strokeWidth(e){this._strokeWidth=e,this.render()}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=e,this.render()}ngAfterViewInit(){this.render()}addPoint(e){let n=this.svgCanvas.nativeElement.getBoundingClientRect(),r=e.clientX-n.left,i=e.clientY-n.top;this.points.some(([o,s])=>o===r&&s===i)?console.warn("\u26A0\uFE0F Punkt existiert bereits."):(this.points.push([r,i]),console.log("\u{1F4CC} Neuer Punkt:",[r,i]),this.render())}render(){let e=this.svgCanvas.nativeElement;if(e.innerHTML="",this.points.forEach(([i,o])=>{let s=document.createElementNS("http://www.w3.org/2000/svg","circle");s.setAttribute("cx",i.toString()),s.setAttribute("cy",o.toString()),s.setAttribute("r","4"),s.setAttribute("fill",this.strokeColor),e.appendChild(s)}),this.points.length<3){console.warn("\u26A0\uFE0F Mindestens 3 Punkte erforderlich.");return}console.log("\u{1F4CC} Punktdaten f\xFCr `d3-delaunay`:",this.points);let r=ql.from(this.points).triangles;if(console.log("\u{1F4CA} Delaunay Triangles:",r),r.length===0){console.warn("\u26A0\uFE0F Delaunay hat keine g\xFCltigen Dreiecke berechnet.");return}for(let i=0;i<r.length;i+=3){let o=this.points[r[i]],s=this.points[r[i+1]],a=this.points[r[i+2]];o&&s&&a&&(console.log(`\u{1F539} Verbindet: ${o} -> ${s} -> ${a}`),this.drawLine(o,s),this.drawLine(s,a),this.drawLine(a,o))}}drawLine(e,n){let[r,i]=e,[o,s]=n,a=document.createElementNS("http://www.w3.org/2000/svg","line");a.setAttribute("x1",r.toString()),a.setAttribute("y1",i.toString()),a.setAttribute("x2",o.toString()),a.setAttribute("y2",s.toString()),a.setAttribute("stroke",this.strokeColor),a.setAttribute("stroke-width",this.strokeWidth.toString()),this.strokeStyle==="dashed"?a.setAttribute("stroke-dasharray","5,5"):this.strokeStyle==="dotted"&&a.setAttribute("stroke-dasharray","2,2"),this.svgCanvas.nativeElement.appendChild(a)}downloadSVG(){let n=new XMLSerializer().serializeToString(this.svgCanvas.nativeElement),r=new Blob([n],{type:"image/svg+xml"}),i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download="delaunay.svg",document.body.appendChild(o),o.click(),document.body.removeChild(o)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ve({type:t,selectors:[["app-delaunay"]],viewQuery:function(n,r){if(n&1&&Dt(M4,7),n&2){let i;ft(i=ht())&&(r.svgCanvas=i.first)}},decls:19,vars:2,consts:[["svgCanvas",""],[1,"main"],[1,"settingscontainer"],["for","lineWidth"],["type","number","id","lineWidth","min","1","max","10",3,"ngModelChange","ngModel"],["for","lineStyle"],["id","lineStyle",3,"ngModelChange","ngModel"],["value","solid"],["value","dashed"],["value","dotted"],[3,"click"],[1,"workspace",3,"click"],["id","drawingSVG-delaunay"]],template:function(n,r){if(n&1){let i=lt();_(0,"div",1)(1,"div",2)(2,"label",3),F(3,"Strichbreite:"),S(),_(4,"input",4),tt("ngModelChange",function(s){return G(i),rt(r.strokeWidth,s)||(r.strokeWidth=s),$(s)}),S(),_(5,"label",5),F(6,"Linientyp:"),S(),_(7,"select",6),tt("ngModelChange",function(s){return G(i),rt(r.strokeStyle,s)||(r.strokeStyle=s),$(s)}),_(8,"option",7),F(9,"Durchgezogen"),S(),_(10,"option",8),F(11,"Gestrichelt"),S(),_(12,"option",9),F(13,"Punktiert"),S()(),_(14,"button",10),z("click",function(){return G(i),$(r.downloadSVG())}),F(15,"Download SVG"),S()(),_(16,"div",11),z("click",function(s){return G(i),$(r.addPoint(s))}),st(),te(17,"svg",12,0),S()()}n&2&&(N(4),et("ngModel",r.strokeWidth),N(3),et("ngModel",r.strokeStyle))},dependencies:[pt,dn,qs,Ys,un,wl,Si,cn,Om,km,Tn],styles:["#drawingSVG-delaunay[_ngcontent-%COMP%]{width:100%;height:100%}"]})};var T4=["svgCanvas"],I4=["mirrorLines"],A4=["mandalaGroup"],N4=["gridGroup"],R4=["customSvgCanvas"];function k4(t,e){if(t&1){let n=lt();_(0,"div",30),st(),_(1,"svg",31,4),z("mousedown",function(i){G(n);let o=xe();return $(o.startCustomDrawing(i))})("mousemove",function(i){G(n);let o=xe();return $(o.drawCustom(i))})("mouseup",function(){G(n);let i=xe();return $(i.stopCustomDrawing())})("mouseleave",function(){G(n);let i=xe();return $(i.stopCustomDrawing())}),te(3,"path",32),S(),gr(),_(4,"button",27),z("click",function(){G(n);let i=xe();return $(i.saveCustomPath())}),F(5,"Custom speichern"),S()()}}function O4(t,e){if(t&1){let n=lt();_(0,"div",7)(1,"label",33),F(2,"Grid-Typ:"),S(),_(3,"select",34),tt("ngModelChange",function(i){G(n);let o=xe();return rt(o.gridType,i)||(o.gridType=i),$(i)}),z("change",function(){G(n);let i=xe();return $(i.updateGrid())}),_(4,"option",35),F(5,"Kreis"),S(),_(6,"option",36),F(7,"Rechteck"),S()()()}if(t&2){let n=xe();N(3),et("ngModel",n.gridType)}}function F4(t,e){if(t&1){let n=lt();_(0,"div",7)(1,"label",37),F(2,"Kreise:"),S(),_(3,"input",38),tt("ngModelChange",function(i){G(n);let o=xe();return rt(o.gridCircles,i)||(o.gridCircles=i),$(i)}),z("input",function(){G(n);let i=xe();return $(i.updateGrid())}),S(),_(4,"span"),F(5),S()()}if(t&2){let n=xe();N(3),et("ngModel",n.gridCircles),N(2),Nt(n.gridCircles)}}function P4(t,e){if(t&1){let n=lt();_(0,"div",7)(1,"label",39),F(2,"Reihen:"),S(),_(3,"input",40),tt("ngModelChange",function(i){G(n);let o=xe();return rt(o.gridRows,i)||(o.gridRows=i),$(i)}),z("input",function(){G(n);let i=xe();return $(i.updateGrid())}),S(),_(4,"span"),F(5),S(),_(6,"label",41),F(7,"Spalten:"),S(),_(8,"input",42),tt("ngModelChange",function(i){G(n);let o=xe();return rt(o.gridCols,i)||(o.gridCols=i),$(i)}),z("input",function(){G(n);let i=xe();return $(i.updateGrid())}),S(),_(9,"span"),F(10),S()()}if(t&2){let n=xe();N(3),et("ngModel",n.gridRows),N(2),Nt(n.gridRows),N(3),et("ngModel",n.gridCols),N(2),Nt(n.gridCols)}}var Mf=class t{svgCanvas;mirrorLines;mandalaGroup;gridGroup;customSvgCanvas;symmetry=8;drawing=!1;lastPoint=null;showGrid=!1;gridType="circle";gridCircles=5;gridRows=5;gridCols=5;strokeWidth=2;strokeStyle="solid";strokeCap="round";customPath=null;customDrawing=!1;customLastPoint=null;ngOnInit(){this.updateMirrorLines()}startDrawing(e){this.drawing=!0;let n=this.snapToGrid(this.getPoint(e));this.lastPoint=n}draw(e){if(!this.drawing||!this.lastPoint)return;let n=this.snapToGrid(this.getPoint(e));Math.sqrt(Math.pow(n.x-this.lastPoint.x,2)+Math.pow(n.y-this.lastPoint.y,2))>2&&(this.drawMirroredLines(this.lastPoint.x,this.lastPoint.y,n.x,n.y),this.lastPoint=n)}stopDrawing(){this.drawing=!1,this.lastPoint=null}getPoint(e){let n=this.svgCanvas.nativeElement.getBoundingClientRect(),r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,i=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;return{x:r-n.left,y:i-n.top}}snapToGrid(e){if(!this.showGrid)return e;let n=this.svgCanvas.nativeElement.clientWidth/2,r=this.svgCanvas.nativeElement.clientHeight/2;if(this.gridType==="circle"){let i=n/this.gridCircles,o=Math.sqrt(Math.pow(e.x-n,2)+Math.pow(e.y-r,2)),s=Math.round(o/i)*i,a=Math.atan2(e.y-r,e.x-n);return{x:n+Math.cos(a)*s,y:r+Math.sin(a)*s}}else if(this.gridType==="rectangle"){let i=this.svgCanvas.nativeElement.clientWidth/this.gridCols,o=this.svgCanvas.nativeElement.clientHeight/this.gridRows;return{x:Math.round(e.x/i)*i,y:Math.round(e.y/o)*o}}return e}drawMirroredLines(e,n,r,i){for(let o=0;o<this.symmetry;o++){let s=o*2*Math.PI/this.symmetry,a=this.svgCanvas.nativeElement.clientWidth/2,l=this.svgCanvas.nativeElement.clientHeight/2,u=Math.cos(s)*(e-a)-Math.sin(s)*(n-l)+a,c=Math.sin(s)*(e-a)+Math.cos(s)*(n-l)+l,d=Math.cos(s)*(r-a)-Math.sin(s)*(i-l)+a,f=Math.sin(s)*(r-a)+Math.cos(s)*(i-l)+l;this.strokeStyle==="dotted"?this.drawDotted(u,c,d,f):this.strokeStyle==="dashed"?this.drawDashed(u,c,d,f):this.strokeStyle==="rectangles"?this.drawRectangles(u,c,d,f):this.strokeStyle==="custom"&&this.customPath?this.drawCustomPath(u,c,d,f):this.drawStandardLine(u,c,d,f)}}drawStandardLine(e,n,r,i){this.createLine(e,n,r,i)}drawDotted(e,n,r,i){let o=Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2)),s=Math.atan2(i-n,r-e),a=15,l=0;for(;l<o;){let u=e+Math.cos(s)*l,c=n+Math.sin(s)*l,d=document.createElementNS("http://www.w3.org/2000/svg","circle");d.setAttribute("cx",u.toString()),d.setAttribute("cy",c.toString()),d.setAttribute("r",(this.strokeWidth/2).toString()),d.setAttribute("fill","var(--secondary-color)"),this.mandalaGroup.nativeElement.appendChild(d),l+=a}}drawDashed(e,n,r,i){let o=Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2)),s=Math.atan2(i-n,r-e),a=20,l=10,u=0;for(;u<o;){let c=e+Math.cos(s)*u,d=n+Math.sin(s)*u,f=document.createElementNS("http://www.w3.org/2000/svg","line");f.setAttribute("x1",c.toString()),f.setAttribute("y1",(d-l/2).toString()),f.setAttribute("x2",c.toString()),f.setAttribute("y2",(d+l/2).toString()),f.setAttribute("stroke","var(--secondary-color)"),f.setAttribute("stroke-width",this.strokeWidth.toString()),this.mandalaGroup.nativeElement.appendChild(f),u+=a}}drawRectangles(e,n,r,i){let o=Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2)),s=Math.atan2(i-n,r-e),a=25,l=10,u=5,c=0;for(;c<o;){let d=e+Math.cos(s)*c,f=n+Math.sin(s)*c,h=document.createElementNS("http://www.w3.org/2000/svg","rect");h.setAttribute("x",(d-l/2).toString()),h.setAttribute("y",(f-u/2).toString()),h.setAttribute("width",l.toString()),h.setAttribute("height",u.toString()),h.setAttribute("fill","var(--secondary-color)"),h.setAttribute("transform",`rotate(${s*180/Math.PI}, ${d}, ${f})`),this.mandalaGroup.nativeElement.appendChild(h),c+=a}}drawCustomPath(e,n,r,i){let o=Math.sqrt(Math.pow(r-e,2)+Math.pow(i-n,2)),s=Math.atan2(i-n,r-e),a=30,l=0;for(;l<o;){let u=e+Math.cos(s)*l,c=n+Math.sin(s)*l,d=document.createElementNS("http://www.w3.org/2000/svg","use");d.setAttribute("href","#customPath"),d.setAttribute("x",u.toString()),d.setAttribute("y",c.toString()),d.setAttribute("transform",`rotate(${s*180/Math.PI}, ${u}, ${c})`),this.mandalaGroup.nativeElement.appendChild(d),l+=a}}createLine(e,n,r,i){let o=document.createElementNS("http://www.w3.org/2000/svg","line");o.setAttribute("x1",e.toString()),o.setAttribute("y1",n.toString()),o.setAttribute("x2",r.toString()),o.setAttribute("y2",i.toString()),o.setAttribute("stroke","var(--secondary-color)"),o.setAttribute("stroke-width",this.strokeWidth.toString()),o.setAttribute("stroke-linecap",this.strokeCap),this.mandalaGroup.nativeElement.appendChild(o)}startCustomDrawing(e){this.customDrawing=!0;let n=this.getCustomSvgPoint(e);this.customLastPoint=n,this.customSvgCanvas.nativeElement.querySelector("path").setAttribute("d",`M ${n.x} ${n.y}`)}drawCustom(e){if(!this.customDrawing||!this.customLastPoint)return;let n=this.getCustomSvgPoint(e),r=this.customSvgCanvas.nativeElement.querySelector("path"),i=r.getAttribute("d")||"";r.setAttribute("d",`${i} L ${n.x} ${n.y}`),this.customLastPoint=n}stopCustomDrawing(){this.customDrawing=!1,this.customLastPoint=null,this.saveCustomPath()}getCustomSvgPoint(e){let n=this.customSvgCanvas.nativeElement.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}saveCustomPath(){let e=this.customSvgCanvas.nativeElement.querySelector("path"),n=new XMLSerializer().serializeToString(e);this.customPath=n}updateMirrorLines(){let e=this.svgCanvas.nativeElement,n=this.mirrorLines.nativeElement;for(;n.firstChild;)n.removeChild(n.firstChild);let r=e.clientWidth/2,i=e.clientHeight/2;for(let o=0;o<this.symmetry;o++){let s=o*2*Math.PI/this.symmetry,a=r+Math.cos(s)*r,l=i+Math.sin(s)*i,u=document.createElementNS("http://www.w3.org/2000/svg","line");u.setAttribute("x1",r.toString()),u.setAttribute("y1",i.toString()),u.setAttribute("x2",a.toString()),u.setAttribute("y2",l.toString()),u.setAttribute("stroke","#cccccc"),u.setAttribute("stroke-dasharray","5,5"),u.setAttribute("stroke-width","1"),n.appendChild(u)}}updateGrid(){let e=this.svgCanvas.nativeElement,n=this.gridGroup.nativeElement;for(;n.firstChild;)n.removeChild(n.firstChild);let r=e.clientWidth/2,i=e.clientHeight/2;if(this.gridType==="circle"){let o=r/this.gridCircles;for(let s=1;s<=this.gridCircles;s++){let a=document.createElementNS("http://www.w3.org/2000/svg","circle");a.setAttribute("cx",r.toString()),a.setAttribute("cy",i.toString()),a.setAttribute("r",(s*o).toString()),a.setAttribute("stroke","var(--secondary-color)"),a.setAttribute("stroke-dasharray","5,5"),a.setAttribute("fill","none"),n.appendChild(a)}}else if(this.gridType==="rectangle"){let o=e.clientWidth/this.gridCols,s=e.clientHeight/this.gridRows;for(let a=1;a<this.gridCols;a++){let l=a*o,u=document.createElementNS("http://www.w3.org/2000/svg","line");u.setAttribute("x1",l.toString()),u.setAttribute("y1","0"),u.setAttribute("x2",l.toString()),u.setAttribute("y2",e.clientHeight.toString()),u.setAttribute("stroke","var(--secondary-color)"),u.setAttribute("stroke-dasharray","5,5"),n.appendChild(u)}for(let a=1;a<this.gridRows;a++){let l=a*s,u=document.createElementNS("http://www.w3.org/2000/svg","line");u.setAttribute("x1","0"),u.setAttribute("y1",l.toString()),u.setAttribute("x2",e.clientWidth.toString()),u.setAttribute("y2",l.toString()),u.setAttribute("stroke","var(--secondary-color)"),u.setAttribute("stroke-dasharray","5,5"),n.appendChild(u)}}}downloadMandala(){let e=this.mandalaGroup.nativeElement.cloneNode(!0),n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("viewBox","0 0 500 500"),n.setAttribute("width","500"),n.setAttribute("height","500"),n.appendChild(e);let i=new XMLSerializer().serializeToString(n),o=new Blob([i],{type:"image/svg+xml;charset=utf-8"}),s=URL.createObjectURL(o),a=document.createElement("a");a.href=s,a.download="mandala.svg",a.click(),URL.revokeObjectURL(s)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ve({type:t,selectors:[["app-mandala"]],viewQuery:function(n,r){if(n&1&&(Dt(T4,5),Dt(I4,5),Dt(A4,5),Dt(N4,5),Dt(R4,5)),n&2){let i;ft(i=ht())&&(r.svgCanvas=i.first),ft(i=ht())&&(r.mirrorLines=i.first),ft(i=ht())&&(r.mandalaGroup=i.first),ft(i=ht())&&(r.gridGroup=i.first),ft(i=ht())&&(r.customSvgCanvas=i.first)}},decls:60,vars:11,consts:[["svgCanvas",""],["mirrorLines",""],["gridGroup",""],["mandalaGroup",""],["customSvgCanvas",""],[1,"main"],[1,"settingscontainer"],[1,"setting-group"],["for","symmetry"],["id","symmetry","type","range","min","1","max","50",3,"ngModelChange","input","ngModel"],["for","strokeWidth"],["id","strokeWidth","type","range","min","1","max","20",3,"ngModelChange","ngModel"],["for","strokeStyle"],["id","strokeStyle",3,"ngModelChange","ngModel"],["value","solid"],["value","dashed"],["value","dotted"],["value","rectangles"],["value","custom"],["class","custom-canvas-container",4,"ngIf"],["for","strokeCap"],["id","strokeCap",3,"ngModelChange","ngModel"],["value","round"],["value","square"],["value","butt"],["type","checkbox",3,"ngModelChange","change","ngModel"],["class","setting-group",4,"ngIf"],[3,"click"],[1,"workspace"],["id","mandalaDrawingSVG","xmlns","http://www.w3.org/2000/svg",3,"mousedown","mousemove","mouseup","mouseleave","touchstart","touchmove","touchend"],[1,"custom-canvas-container"],["xmlns","http://www.w3.org/2000/svg","width","200","height","100",2,"border","1px solid black","touch-action","none",3,"mousedown","mousemove","mouseup","mouseleave"],["d","M 0 0","stroke","black","stroke-width","2","fill","none"],["for","gridType"],["id","gridType",3,"ngModelChange","change","ngModel"],["value","circle"],["value","rectangle"],["for","gridCircles"],["id","gridCircles","type","range","min","1","max","20",3,"ngModelChange","input","ngModel"],["for","gridRows"],["id","gridRows","type","range","min","1","max","20",3,"ngModelChange","input","ngModel"],["for","gridCols"],["id","gridCols","type","range","min","1","max","20",3,"ngModelChange","input","ngModel"]],template:function(n,r){if(n&1){let i=lt();_(0,"div",5)(1,"div",6)(2,"h3"),F(3,"Einstellungen"),S(),_(4,"div",7)(5,"label",8),F(6,"Spiegelungen:"),S(),_(7,"input",9),tt("ngModelChange",function(s){return G(i),rt(r.symmetry,s)||(r.symmetry=s),$(s)}),z("input",function(){return G(i),$(r.updateMirrorLines())}),S(),_(8,"span"),F(9),S()(),_(10,"div",7)(11,"label",10),F(12,"Strichbreite:"),S(),_(13,"input",11),tt("ngModelChange",function(s){return G(i),rt(r.strokeWidth,s)||(r.strokeWidth=s),$(s)}),S(),_(14,"span"),F(15),S()(),_(16,"div",7)(17,"label",12),F(18,"Strichart:"),S(),_(19,"select",13),tt("ngModelChange",function(s){return G(i),rt(r.strokeStyle,s)||(r.strokeStyle=s),$(s)}),_(20,"option",14),F(21,"Durchgezogen"),S(),_(22,"option",15),F(23,"Gestrichelt"),S(),_(24,"option",16),F(25,"Gepunktet"),S(),_(26,"option",17),F(27,"Rechtecke"),S(),_(28,"option",18),F(29,"Custom"),S()()(),Je(30,k4,6,0,"div",19),_(31,"div",7)(32,"label",20),F(33,"Strichende:"),S(),_(34,"select",21),tt("ngModelChange",function(s){return G(i),rt(r.strokeCap,s)||(r.strokeCap=s),$(s)}),_(35,"option",22),F(36,"Rund"),S(),_(37,"option",23),F(38,"Quadratisch"),S(),_(39,"option",24),F(40,"Abgestutzt"),S()()(),_(41,"div",7)(42,"label")(43,"input",25),tt("ngModelChange",function(s){return G(i),rt(r.showGrid,s)||(r.showGrid=s),$(s)}),z("change",function(){return G(i),$(r.updateGrid())}),S(),_(44,"span"),F(45,"Grid anzeigen"),S()()(),Je(46,O4,8,1,"div",26)(47,F4,6,2,"div",26)(48,P4,11,4,"div",26),_(49,"button",27),z("click",function(){return G(i),$(r.downloadMandala())}),F(50,"Download Mandala"),S()(),_(51,"div",28),st(),_(52,"svg",29,0),z("mousedown",function(s){return G(i),$(r.startDrawing(s))})("mousemove",function(s){return G(i),$(r.draw(s))})("mouseup",function(){return G(i),$(r.stopDrawing())})("mouseleave",function(){return G(i),$(r.stopDrawing())})("touchstart",function(s){return G(i),$(r.startDrawing(s))})("touchmove",function(s){return G(i),$(r.draw(s))})("touchend",function(){return G(i),$(r.stopDrawing())}),te(54,"g",null,1)(56,"g",null,2)(58,"g",null,3),S()()()}n&2&&(N(7),et("ngModel",r.symmetry),N(2),Nt(r.symmetry),N(4),et("ngModel",r.strokeWidth),N(2),Nt(r.strokeWidth),N(4),et("ngModel",r.strokeStyle),N(11),se("ngIf",r.strokeStyle==="custom"),N(4),et("ngModel",r.strokeCap),N(9),et("ngModel",r.showGrid),N(3),se("ngIf",r.showGrid),N(),se("ngIf",r.showGrid&&r.gridType==="circle"),N(),se("ngIf",r.showGrid&&r.gridType==="rectangle"))},dependencies:[dn,qs,Ys,un,qr,Do,Si,cn,Tn,pt,wr],styles:["#svg-container[_ngcontent-%COMP%]{width:500px;height:500px;border:1px solid #ccc;display:flex;justify-content:center;align-items:center}#mandalaDrawingSVG[_ngcontent-%COMP%]{height:500px;width:500px;background-color:var(--primary-color);border-radius:50%;box-shadow:5px 5px var(--secondary-color);border:2px solid var(--secondary-color)}"]})};var L4=["canvasContainer"];function V4(t,e){if(t&1&&(_(0,"option",15),F(1),S()),t&2){let n=e.$implicit;se("value",n),N(),Nt(n)}}var Tf=class t{canvasContainer;svg;isDrawing=!1;lines=[];currentDistortionType="vertical";settingsForm=new Pd({layout:new _i("horizontal"),lineCount:new _i(30),amplitude:new _i(20),brushStrength:new _i(70),lineWidth:new _i(1.5),distortionType:new _i("vertical")});distortionTypes=["vertical","horizontal","radial","chaotic","wave","vortex","shear","gravity","collision","elastic","magnetic","bulge","sharp"];constructor(){}ngOnInit(){this.svg=this.canvasContainer.nativeElement,this.generateLines(),this.settingsForm.valueChanges.subscribe(()=>{this.currentDistortionType=this.settingsForm.value.distortionType??"vertical",this.generateLines()})}generateLines(){this.svg.innerHTML="",this.lines=[];let e=this.settingsForm.value.lineCount??30,n=this.settingsForm.value.amplitude??20,r=this.settingsForm.value.layout??"horizontal",i=this.settingsForm.value.lineWidth??1.5,o=this.svg.clientHeight/e;if(r==="horizontal"||r==="grid")for(let s=0;s<e;s++){let a=s*o,l={points:[]};for(let u=0;u<=this.svg.clientWidth;u+=10){let c=a+Math.sin(u/100*Math.PI*2)*n*.5;l.points.push({x:u,y:c})}this.lines.push(l),this.drawSmoothLine(l,i)}if(r==="vertical"||r==="grid")for(let s=0;s<e;s++){let a=s*o,l={points:[]};for(let u=0;u<=this.svg.clientHeight;u+=10){let c=a+Math.sin(u/100*Math.PI*2)*n*.5;l.points.push({x:c,y:u})}this.lines.push(l),this.drawSmoothLine(l,i)}}drawSmoothLine(e,n){let r=`M ${e.points.map(o=>`${o.x},${o.y}`).join(" L ")}`,i=document.createElementNS("http://www.w3.org/2000/svg","path");i.setAttribute("d",r),i.setAttribute("stroke","var(--secondary-color)"),i.setAttribute("stroke-width",n.toString()),i.setAttribute("fill","none"),this.svg.appendChild(i)}startDrawing(e){this.isDrawing=!0}drawOnCanvas(e){if(!this.isDrawing)return;let n=this.getSVGCoordinates(e);this.applyDistortion(n.x,n.y)}stopDrawing(){this.isDrawing=!1}applyDistortion(e,n){let r=this.currentDistortionType,i=this.settingsForm.value.amplitude??20,o=this.settingsForm.value.brushStrength??70;for(let s of this.lines)for(let a of s.points){let l=Math.sqrt((e-a.x)**2+(n-a.y)**2);if(l>o)continue;let u=Math.max(0,o-l)/o,c=Math.atan2(a.y-n,a.x-e);switch(r){case"vertical":a.y+=Math.sin(l*.05)*i*u;break;case"horizontal":a.x+=Math.cos(l*.05)*i*u;break;case"wave":a.y+=Math.sin(a.x*.1)*i*u;break;case"vortex":a.x+=Math.sin(a.y*.1)*i*u;break;case"shear":a.x+=(e-a.x)*.2*u,a.y+=(n-a.y)*.2*u;break;case"collision":a.x+=(Math.random()-.5)*i*u,a.y+=(Math.random()-.5)*i*u;break;case"bulge":let d=Math.exp(-l/o)*u*50;a.y-=d;break;case"sharp":l<o/2&&(a.y+=u*30);break;case"magnetic":a.x+=(e-a.x)*u*.1,a.y+=(n-a.y)*u*.1;break;case"gravity":a.y+=u*20;break;case"chaotic":a.x+=(Math.random()-.5)*u*20,a.y+=(Math.random()-.5)*u*20;break;case"radial":a.x+=Math.cos(c)*u*20,a.y+=Math.sin(c)*u*20;break}}this.redrawLines()}getSVGCoordinates(e){let n=this.svg.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}redrawLines(){this.svg.innerHTML="";for(let e of this.lines)this.drawSmoothLine(e,this.settingsForm.value.lineWidth??1.5)}downloaddistortedpattern(){if(!this.canvasContainer||!this.canvasContainer.nativeElement){console.error("\u26A0\uFE0F SVG-Container nicht gefunden!");return}let e=this.canvasContainer.nativeElement;if(e.children.length===0){console.warn("\u26A0\uFE0F Das SVG ist leer! Hast du ein Pattern generiert?");return}e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.querySelectorAll("path, line, rect, circle").length===0&&console.warn("\u26A0\uFE0F Keine sichtbaren Elemente im SVG!");let i=new XMLSerializer().serializeToString(e),o=new Blob([i],{type:"image/svg+xml"}),s=document.createElement("a");s.href=URL.createObjectURL(o),s.download="DistortedPattern.svg",document.body.appendChild(s),s.click(),document.body.removeChild(s),console.log("\u2705 SVG erfolgreich heruntergeladen!")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ve({type:t,selectors:[["app-distortedPattern"]],viewQuery:function(n,r){if(n&1&&Dt(L4,7),n&2){let i;ft(i=ht())&&(r.canvasContainer=i.first)}},hostBindings:function(n,r){n&1&&z("mousedown",function(o){return r.startDrawing(o)})("mousemove",function(o){return r.drawOnCanvas(o)})("mouseup",function(o){return r.stopDrawing(o)})},decls:40,vars:11,consts:[["canvasContainer",""],[1,"main"],[1,"settingscontainer"],[3,"formControl"],["value","horizontal"],["value","vertical"],["value","grid"],["type","range","min","10","max","100",3,"formControl"],["type","range","min","1","max","50",3,"formControl"],["type","range","min","1","max","200",3,"formControl"],["type","range","min","1","max","10",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[3,"click"],[1,"workspace"],["id","distortlines_canvas"],[3,"value"]],template:function(n,r){if(n&1){let i=lt();_(0,"div",1)(1,"div",2)(2,"label"),F(3,"Layout:"),S(),_(4,"select",3)(5,"option",4),F(6,"Horizontal"),S(),_(7,"option",5),F(8,"Vertical"),S(),_(9,"option",6),F(10,"Grid"),S()(),_(11,"label"),F(12,"Line Count:"),S(),te(13,"input",7),_(14,"span"),F(15),S(),_(16,"label"),F(17,"Amplitude:"),S(),te(18,"input",8),_(19,"span"),F(20),S(),_(21,"label"),F(22,"Brush Strength:"),S(),te(23,"input",9),_(24,"span"),F(25),S(),_(26,"label"),F(27,"Line Width:"),S(),te(28,"input",10),_(29,"span"),F(30),S(),_(31,"label"),F(32,"Distortion Type:"),S(),_(33,"select",3),Je(34,V4,2,2,"option",11),S(),_(35,"button",12),z("click",function(){return G(i),$(r.downloaddistortedpattern())}),F(36,"Download"),S()(),_(37,"div",13),st(),te(38,"svg",14,0),S()()}n&2&&(N(4),se("formControl",r.settingsForm.controls.layout),N(9),se("formControl",r.settingsForm.controls.lineCount),N(2),Nt(r.settingsForm.value.lineCount),N(3),se("formControl",r.settingsForm.controls.amplitude),N(2),Nt(r.settingsForm.value.amplitude),N(3),se("formControl",r.settingsForm.controls.brushStrength),N(2),Nt(r.settingsForm.value.brushStrength),N(3),se("formControl",r.settingsForm.controls.lineWidth),N(2),Nt(r.settingsForm.value.lineWidth),N(3),se("formControl",r.settingsForm.controls.distortionType),N(),se("ngForOf",r.distortionTypes))},dependencies:[dn,qs,Ys,un,qr,Si,cn,pt,yr,ax,Rm],styles:["[_nghost-%COMP%]{height:100%;width:100%;display:flex}#distortlines_canvas[_ngcontent-%COMP%]{height:100%;width:100%}@media (max-width: 768px){[_nghost-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;justify-content:center}}"]})};function U4(t,e){if(t&1){let n=lt();go(0),_(1,"button",2),z("click",function(){G(n);let i=xe();return $(i.setFontType("handdrawn"))}),F(2," Handgezeichnet "),S(),_(3,"button",2),z("click",function(){G(n);let i=xe();return $(i.setFontType("fontbaukasten"))}),F(4," Baukasten "),S(),_(5,"button",2),z("click",function(){G(n);let i=xe();return $(i.setFontType("customStroke"))}),F(6," Custom Strokes "),S(),_(7,"button",2),z("click",function(){G(n);let i=xe();return $(i.setFontType("grid"))}),F(8," Grid Font "),S(),mo()}if(t&2){let n=xe();N(),Et("active",n.activeFontType()==="handdrawn"),N(2),Et("active",n.activeFontType()==="fontbaukasten"),N(2),Et("active",n.activeFontType()==="customStroke"),N(2),Et("active",n.activeFontType()==="grid")}}function B4(t,e){if(t&1){let n=lt();_(0,"button",2),z("click",function(){G(n);let i=xe();return $(i.setPatternType("brush"))}),F(1," Pinsel "),S(),_(2,"button",2),z("click",function(){G(n);let i=xe();return $(i.setPatternType("delaunay"))}),F(3," delaunay "),S(),_(4,"button",2),z("click",function(){G(n);let i=xe();return $(i.setPatternType("distortedpattern"))}),F(5," distortedpattern "),S(),_(6,"button",2),z("click",function(){G(n);let i=xe();return $(i.setPatternType("mandala"))}),F(7," Mandala "),S()}if(t&2){let n=xe();Et("active",n.activePatternType()==="brush"),N(2),Et("active",n.activePatternType()==="delaunay"),N(2),Et("active",n.activePatternType()==="distortedpattern"),N(2),Et("active",n.activePatternType()==="mandala")}}function j4(t,e){t&1&&te(0,"app-handdrawnFont")}function H4(t,e){t&1&&te(0,"app-fontbaukasten")}function G4(t,e){t&1&&te(0,"app-customStrokeFont")}function $4(t,e){t&1&&te(0,"app-gridfont")}function z4(t,e){if(t&1&&(go(0),Je(1,j4,1,0,"app-handdrawnFont",5)(2,H4,1,0,"app-fontbaukasten",5)(3,G4,1,0,"app-customStrokeFont",5)(4,$4,1,0,"app-gridfont",5),mo()),t&2){let n=xe();N(),se("ngIf",n.activeFontType()==="handdrawn"),N(),se("ngIf",n.activeFontType()==="fontbaukasten"),N(),se("ngIf",n.activeFontType()==="customStroke"),N(),se("ngIf",n.activeFontType()==="grid")}}function W4(t,e){t&1&&te(0,"app-customBrush")}function q4(t,e){t&1&&te(0,"app-delaunay")}function Y4(t,e){t&1&&te(0,"app-distortedPattern")}function Q4(t,e){t&1&&te(0,"app-mandala")}function Z4(t,e){if(t&1&&(go(0),Je(1,W4,1,0,"app-customBrush",5)(2,q4,1,0,"app-delaunay",5)(3,Y4,1,0,"app-distortedPattern",5)(4,Q4,1,0,"app-mandala",5),mo()),t&2){let n=xe();N(),se("ngIf",n.activePatternType()==="brush"),N(),se("ngIf",n.activePatternType()==="delaunay"),N(),se("ngIf",n.activePatternType()==="distortedpattern"),N(),se("ngIf",n.activePatternType()==="mandala")}}var If=class t{mode=$t("font");activeFontType=$t("handdrawn");activePatternType=$t("brush");getMode(){return this.mode()}setMode(e){this.mode.set(e)}setFontType(e){this.activeFontType.set(e)}setPatternType(e){this.activePatternType.set(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ve({type:t,selectors:[["app-create"]],decls:12,vars:8,consts:[["patternNav",""],[1,"nav"],[3,"click"],[4,"ngIf","ngIfElse"],[1,"main"],[4,"ngIf"]],template:function(n,r){if(n&1){let i=lt();_(0,"div",1)(1,"button",2),z("click",function(){return G(i),$(r.setMode("font"))}),F(2,"Font"),S(),_(3,"button",2),z("click",function(){return G(i),$(r.setMode("pattern"))}),F(4,"Pattern"),S()(),_(5,"nav",1),Je(6,U4,9,8,"ng-container",3)(7,B4,8,8,"ng-template",null,0,XC),S(),_(9,"div",4),Je(10,z4,5,4,"ng-container",5)(11,Z4,5,4,"ng-container",5),S()}if(n&2){let i=qC(8);N(),Et("active",r.getMode()==="font"),N(2),Et("active",r.getMode()==="pattern"),N(3),se("ngIf",r.getMode()==="font")("ngIfElse",i),N(4),se("ngIf",r.getMode()==="font"),N(),se("ngIf",r.getMode()==="pattern")}},dependencies:[uf,cf,df,Ef,Df,Sf,pt,wr,Mf,Tf],encapsulation:2})};var Af=class t{secondaryColor="";ngOnInit(){let e=document.documentElement;this.secondaryColor=getComputedStyle(e).getPropertyValue("--secondary-color").trim()||"#a600ff",document.documentElement.style.setProperty("--secondary-color",this.secondaryColor),this.setupEventListeners()}changeColor(e){let r=e.target.value;document.documentElement.style.setProperty("--secondary-color",r),this.secondaryColor=r}onWindowFocus(){console.log("Fenster ist wieder aktiv."),this.setupEventListeners()}setupEventListeners(){console.log("Event Listener werden neu gesetzt.")}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ve({type:t,selectors:[["app-color-switch"]],hostBindings:function(n,r){n&1&&z("focus",function(){return r.onWindowFocus()},!1,Qb)},decls:2,vars:1,consts:[[1,"color-switch"],["id","secondary-color","type","color",1,"color-circle",3,"input","value"]],template:function(n,r){n&1&&(_(0,"div",0)(1,"input",1),z("input",function(o){return r.changeColor(o)}),S()()),n&2&&(N(),se("value",r.secondaryColor))},styles:['@charset "UTF-8";[_nghost-%COMP%]{position:fixed;top:5px;right:5px;z-index:1000}.color-switch[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.color-switch[_ngcontent-%COMP%]   .color-circle[_ngcontent-%COMP%]{width:35px;height:35px;border:none;border-radius:50%;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none;transition:box-shadow .3s ease}.color-switch[_ngcontent-%COMP%]   .color-circle[_ngcontent-%COMP%]::-webkit-color-swatch{border-radius:50%}.color-switch[_ngcontent-%COMP%]   .color-circle[_ngcontent-%COMP%]::-moz-color-swatch{border-radius:50%}.color-switch[_ngcontent-%COMP%]   .color-circle[_ngcontent-%COMP%]:hover{box-shadow:0 0 8px #0003}@media (max-width: 768px){.color-switch[_ngcontent-%COMP%]   .color-circle[_ngcontent-%COMP%]{width:25px;height:25px}}']})};function X4(t,e){t&1&&te(0,"app-archive")}function K4(t,e){t&1&&te(0,"app-create")}var Nf=class t{mode=$t("archive");switchMode(e){console.log("Modus gewechselt zu:",e),this.mode.set(e)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ve({type:t,selectors:[["app-root"]],decls:48,vars:3,consts:[["id","background"],["viewBox","0 0 1000 1000","preserveAspectRatio","none",1,"grid"],["id","gridPattern","width","50","height","50","patternUnits","userSpaceOnUse"],["width","50","height","50","fill","var(--primary-color)","stroke","var(--secondary-color)","stroke-width","1"],["width","1000","height","1000","fill","url(#gridPattern)"],[1,"grid-lines"],["x1","50","y1","0","x2","50","y2","1000","stroke","var(--secondary-color)","stroke-width","1"],["x1","100","y1","0","x2","100","y2","1000","stroke","var(--secondary-color)","stroke-width","1"],["x1","150","y1","0","x2","150","y2","1000","stroke","var(--secondary-color)","stroke-width","1"],["x1","200","y1","0","x2","200","y2","1000","stroke","var(--secondary-color)","stroke-width","1"],["x1","250","y1","0","x2","250","y2","1000","stroke","var(--secondary-color)","stroke-width","1"],["x1","300","y1","0","x2","300","y2","1000","stroke","var(--secondary-color)","stroke-width","1"],["x1","350","y1","0","x2","350","y2","1000","stroke","var(--secondary-color)","stroke-width","1"],["x1","400","y1","0","x2","400","y2","1000","stroke","var(--secondary-color)","stroke-width","1"],["x1","450","y1","0","x2","450","y2","1000","stroke","var(--secondary-color)","stroke-width","1"],["x1","500","y1","0","x2","500","y2","1000","stroke","var(--secondary-color)","stroke-width","2"],["x1","550","y1","0","x2","550","y2","1000","stroke","var(--secondary-color)","stroke-width","1"],["x1","600","y1","0","x2","600","y2","1000","stroke","var(--secondary-color)","stroke-width","1"],["x1","650","y1","0","x2","650","y2","1000","stroke","var(--secondary-color)","stroke-width","1"],["x1","700","y1","0","x2","700","y2","1000","stroke","var(--secondary-color)","stroke-width","1"],["x1","750","y1","0","x2","750","y2","1000","stroke","var(--secondary-color)","stroke-width","1"],["x1","800","y1","0","x2","800","y2","1000","stroke","var(--secondary-color)","stroke-width","1"],["x1","850","y1","0","x2","850","y2","1000","stroke","var(--secondary-color)","stroke-width","1"],["x1","900","y1","0","x2","900","y2","1000","stroke","var(--secondary-color)","stroke-width","1"],["x1","0","y1","50","x2","1000","y2","50","stroke","var(--secondary-color)","stroke-width","1"],["x1","0","y1","100","x2","1000","y2","100","stroke","var(--secondary-color)","stroke-width","1"],["x1","0","y1","150","x2","1000","y2","150","stroke","var(--secondary-color)","stroke-width","1"],["x1","0","y1","200","x2","1000","y2","200","stroke","var(--secondary-color)","stroke-width","1"],["x1","0","y1","250","x2","1000","y2","250","stroke","var(--secondary-color)","stroke-width","1"],["x1","0","y1","300","x2","1000","y2","300","stroke","var(--secondary-color)","stroke-width","1"],["x1","0","y1","350","x2","1000","y2","350","stroke","var(--secondary-color)","stroke-width","1"],["x1","0","y1","400","x2","1000","y2","400","stroke","var(--secondary-color)","stroke-width","1"],["x1","0","y1","450","x2","1000","y2","450","stroke","var(--secondary-color)","stroke-width","1"],["x1","0","y1","500","x2","1000","y2","500","stroke","var(--secondary-color)","stroke-width","2"],["x1","0","y1","550","x2","1000","y2","550","stroke","var(--secondary-color)","stroke-width","1"],["x1","0","y1","600","x2","1000","y2","600","stroke","var(--secondary-color)","stroke-width","1"],["x1","0","y1","650","x2","1000","y2","650","stroke","var(--secondary-color)","stroke-width","1"],["x1","0","y1","700","x2","1000","y2","700","stroke","var(--secondary-color)","stroke-width","1"],["x1","0","y1","750","x2","1000","y2","750","stroke","var(--secondary-color)","stroke-width","1"],["x1","0","y1","800","x2","1000","y2","800","stroke","var(--secondary-color)","stroke-width","1"],["x1","0","y1","850","x2","1000","y2","850","stroke","var(--secondary-color)","stroke-width","1"],["x1","0","y1","900","x2","1000","y2","900","stroke","var(--secondary-color)","stroke-width","1"],[3,"modeChange","activeMode"],[4,"ngIf"]],template:function(n,r){n&1&&(te(0,"div",0),st(),_(1,"svg",1)(2,"defs")(3,"pattern",2),te(4,"rect",3),S()(),te(5,"rect",4),_(6,"g",5),te(7,"line",6)(8,"line",7)(9,"line",8)(10,"line",9)(11,"line",10)(12,"line",11)(13,"line",12)(14,"line",13)(15,"line",14)(16,"line",15)(17,"line",16)(18,"line",17)(19,"line",18)(20,"line",19)(21,"line",20)(22,"line",21)(23,"line",22)(24,"line",23),S(),_(25,"g",5),te(26,"line",24)(27,"line",25)(28,"line",26)(29,"line",27)(30,"line",28)(31,"line",29)(32,"line",30)(33,"line",31)(34,"line",32)(35,"line",33)(36,"line",34)(37,"line",35)(38,"line",36)(39,"line",37)(40,"line",38)(41,"line",39)(42,"line",40)(43,"line",41),S()(),gr(),te(44,"app-color-switch"),_(45,"app-mode-switch",42),z("modeChange",function(o){return r.switchMode(o)}),S(),Je(46,X4,1,0,"app-archive",43)(47,K4,1,0,"app-create",43)),n&2&&(N(45),se("activeMode",r.mode()),N(),se("ngIf",r.mode()==="archive"),N(),se("ngIf",r.mode()==="create"))},dependencies:[Td,zd,If,pt,wr,Af],styles:[".grid[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;height:100vh;pointer-events:none;z-index:-18}"]})};BE(Nf,TD).catch(t=>console.error(t));
